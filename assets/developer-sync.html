<!DOCTYPE html>
<html>
  <head>
    <title>Developer Sync</title>
  </head>
  <body>
    <script type="text/javascript">
      // Listen for postMessage events from Braze domains
    window.addEventListener('message', function(event) {
        const isAllowedOrigin = /^https:\/\/.*\.braze\.(com|eu)$/.test(event.origin) || /^http:\/\/localhost:/.test(event.origin);
        // Check if the origin is from a braze.com or braze.eu domain
        if (isAllowedOrigin) {
          // Process the message
          if (event.data && event.data?.type === 'BRAZE_DEVELOPER_DATA') {
              window.localStorage.setItem('braze_developer_data', JSON.stringify(event.data.payload));
          }
        }
    });
    </script>
  </body>
</html>
