---
nav_title: Foursquare
article_title: Foursquare
alias: /partners/foursquare/
description: "This article outlines the partnership between Braze and Foursquare, a location data platform, providing real-time event triggering based on location."
page_type: partner
search_tag: Partner
---

# Foursquare

{% include video.html id="G2ZoJqZGqrU" align="right" %}

> [Foursquare](https://foursquare.com/) is a location data platform providing location data targeting in your Braze campaigns. Use Foursquare's Pilgrim SDK on iOS and Android apps to provide real-time event triggering based on location, allowing you to harness Foursquare's powerful geo-targeting capabilities to send relevant, personalized messaging with Braze.

## Prerequisites

| Requirement                 | Description                                                                                                                                                                             |
| --------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Braze REST API key          | A Braze REST API Key with `users.track` permissions. <br><br> This can be created within the __Braze Dashboard -> Developer Console -> REST API Key -> Create New API Key__ |
| Braze App Group and App IDs | The Braze App Group and App IDs can be found in the [developer console]({{site.baseurl}}/docs/api/api_key/).                                                                            |
| Foursquare account          | You must have an active Foursquare account to utilize their services with Braze                                                                                                         |
{: .reset-td-br-1 .reset-td-br-2 .reset-td-br-3  .reset-td-br-4}

## Integration

To integrate the two platforms, you must integrate the two SDKs and map the matching user fields. After integrating the Pilgrim SDK, you will receive location events on the device or to a webhook.

### Step 1: Map user ID fields

To correctly map fields between the two SDKs, set the same user ID in both systems using the [`changeUser` method]({{site.baseurl}}/developer_guide/platform_integration_guides/web/analytics/setting_user_ids/#setting-user-ids) in the Braze SDK and the `setUserId` method of [`PilgrimUserInfo`](https://developer.foursquare.com/docs/pilgrim-sdk/advanced-setup-guide#custom-user-data) in the Pilgrim SDK.

### Step 2: Configure Pilgrim console
!\[Pilgrim Developer Console\]\[2\]{: style="float:right;max-width:40%;margin-left:15px;"}

Find the App Group and App IDs in the Braze developer console. Next, enter your Braze REST API Key and App IDs in the Foursquare Pilgrim Console.

Once you have configured the Pilgrim Console, the Pilgrim SDK will record location events and forward them to Braze, allowing you to retarget and segment qualified customers. See the [Foursquare developer site](https://developer.foursquare.com/) for more details.

{% alert important %}
Pilgrim SDK requires that you enable location services.
{% endalert %}

## Triggering messages

Once the integration is set up, you can set up a campaign or Canvas that will action off of location events generated by the Pilgrim SDK. This integration route is ideal for real-time messaging right after users enter a venue of interest or delayed follow-up communication after they've left, like a thank you note or reminder.

To send a campaign that will send messages based on a set location:
- Create a Braze campaign or Canvas that sends with **Action-Based Delivery**
- For your trigger, use a custom event of `arrival` with an event property filter for `locationType` as shown below.

![Pilgrim Developer Console]({% image_buster /assets/img_archive/action-based-campaign.png %})

## Retargeting

To retarget your users, use the Pilgrim SDK to set a `last_location` custom attribute on your Braze users' user profiles. You can then use the `matches regex` comparison to retarget users who went to a particular location in the real world, for example, segmenting all users who were recently at a pizza place.

![Braze Dashboard Targeting]({% image_buster /assets/img_archive/last-location-segment.png %})

You can also segment users in Braze who visited a particular type of venue based on Foursquare's `primaryCategoryId` in a particular window of time. To leverage this data point for your retargeting use cases, log `primaryCategoryId` as an event property during your audience segmentation process. To identify the users and properties used by the Foursquare API and Pilgrim SDK, please refer to the [Foursquare developer site](https://developer.foursquare.com/).
[1]: {% image_buster /assets/img_archive/dashboard_keys_locations.png %} [2]: {% image_buster /assets/img_archive/pilgrim-dev-console.png %}