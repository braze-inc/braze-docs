---
nav_title: 컨텍스트 
article_title: 컨텍스트 
alias: /context/
page_order: 1.5
page_type: reference
description: "이 참조 문서에서는 캔버스에서 컨텍스트 단계를 만들고 사용하는 방법에 대해 설명합니다."
tool: Canvas

---

# 컨텍스트

> 컨텍스트 단계를 사용하여 캔버스를 이동할 때 사용자의 컨텍스트(또는 해당 사용자의 행동에 대한 인사이트)를 나타내는 변수 집합을 만들거나 업데이트할 수 있습니다. 각 컨텍스트 변수에는 이름, 데이터 유형, Liquid를 포함할 수 있는 값이 포함됩니다. 컨텍스트를 사용자 여정의 일부로 설정하면 메시지를 지연하거나 컨텍스트 변수를 기반으로 사용자를 필터링하는 등의 작업을 수행할 수 있습니다.

{% alert important %}
컨텍스트 단계는 현재 얼리 액세스 중입니다. Contact your Braze account manager if you're interested in participating in this early access.
{% endalert %}

## How it works

각 컨텍스트 단계는 변수 이름과 연결된 데이터 유형 또는 컨텍스트 변수(이전에는 캔버스 항목 속성이라고 함)로 구성됩니다. 이러한 변수는 캔버스를 통해 사용자를 따라다니며 Liquid `context` 를 사용하여 액세스할 수 있습니다.

![캔버스의 첫 번째 단계인 컨텍스트 단계입니다.][1]{: style="float:right;max-width:40%;margin-left:15px;"}

컨텍스트 변수를 설정하는 방법에는 두 가지가 있습니다:

- **캔버스 항목에서:** 사용자의 캔버스 입력을 트리거하는 이벤트 또는 API 호출의 변수는 컨텍스트 변수로 저장됩니다.
- **컨텍스트 단계 사용:** 단계 편집기에서 컨텍스트 변수를 만들거나 업데이트할 수 있습니다.

컨텍스트 변수에 포함된 변수는 사용자 프로필에 자동으로 저장되지 않는다는 점에 유의하세요.

## 컨텍스트 만들기 단계

컨텍스트 단계를 만들려면 캔버스에 단계를 추가합니다. 그런 다음 사이드바에서 컴포넌트를 끌어다 놓거나 단계 하단의 <i class="fas fa-plus-circle"></i> 더하기 버튼을 선택하고 **컨텍스트를** 선택합니다.

### 컨텍스트 변수 정의

1. 컨텍스트 변수에 이름을 지정합니다.
2. 데이터 유형을 선택합니다.
3. 리퀴드 표현식을 입력하거나 **개인화 추가** 버튼을 선택합니다. 이렇게 하면 Liquid 표현식에 사용할 Liquid 스니펫이 생성됩니다.
4. **미리** 보기를 선택하여 컨텍스트 변수를 확인합니다.
5. **완료를** 선택하여 단계를 저장합니다.

메시지 및 사용자 업데이트 단계 등 Liquid를 사용할 수 있는 모든 곳에서 **개인화 추가** 버튼을 사용하여 컨텍스트 변수를 사용할 수 있습니다.

## 컨텍스트 변수 유형

단계에서 생성되거나 업데이트되는 캔버스 컨텍스트 변수에 유형을 할당할 수 있습니다. 런타임에 Liquid 표현식이 유형과 일치하지 않는 값을 반환하는 경우 컨텍스트 변수는 업데이트되지 않습니다.

예를 들어 컨텍스트 변수 데이터 유형이 **날짜로** 설정되어 있지만 값이 날짜가 아닌 경우 변수가 업데이트되지 않습니다. 이는 다음과 같은 일이 발생한다는 것을 의미합니다:

- 사용자는 다음 단계로 진행하거나 캔버스의 마지막 단계인 경우 캔버스를 종료합니다.
- 캔버스 단계 분석에서는 *업데이트되지 않음으로* 계산됩니다.

다음과 같은 경우 Braze는 해당 단계에서 사용자를 종료합니다:

- 컨텍스트 변수는 값을 반환하지 않습니다.
- 임베디드 커넥티드 콘텐츠에 대한 호출이 실패합니다.
- 컨텍스트 변수 유형이 일치하지 않습니다.

### JSON 유형 및 커넥티드 콘텐츠 응답

Braze는 커넥티드 콘텐츠 응답에서 JSON(또는 객체) 유형으로 예상되는 컨텍스트 변수를 문자열로 평가합니다. 컨텍스트 변수가 문자열로 평가되는 것을 방지하려면 다음 결과를 이 Liquid 필터에 입력하세요: `as_json_string`. 예를 들면 다음과 같습니다:

{%raw%}
```liquid
{% connected_content http://example.com :save product %}
{{ product | as_json_string }}
```
{%endraw%}

## 지연 단계와 컨텍스트 변수 사용

컨텍스트 단계의 정보로 [개인화된 지연 옵션을]({{site.baseurl}}/user_guide/engagement_tools/canvas/canvas_components/delay_step/#personalized-delays) 추가할 수 있습니다. 즉, 사용자를 지연시키는 변수를 선택할 수 있습니다.

[1]: {% image_buster /assets/img/context_step3.png %}
