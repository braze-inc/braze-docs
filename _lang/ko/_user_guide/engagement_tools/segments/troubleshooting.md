---
nav_title: 문제 해결
article_title: 문제 해결 세그먼트
page_order: 12
page_type: reference
tool: 
  - Segments
description: "이 참조 문서에서는 세그먼트를 사용할 때 유의해야 할 문제 해결 단계와 고려 사항을 다룹니다."
---

# 세그먼트 문제 해결

## 오류

### 타겟팅 오디언스가 너무 복잡하여 실행할 수 없음

이 드문 오류는 타겟팅 대상에 너무 많은 정규식 값, 지나치게 긴 정규식 값, 지나치게 상세한 필터("30,000개의 우편번호 중 하나" 등) 또는 너무 많은 필터가 포함된 경우에 발생합니다. 여기에는 필터가 참조된 세그먼트 내에 있거나 **타겟 오디언스** 단계에서 필터로 추가되었는지 여부에 관계없이 캠페인 또는 캔버스 오디언스에 있는 모든 필터가 포함됩니다.

캠페인이나 캔버스에 세그먼트 필터를 추가하면 해당 필터는 Braze에서 쿼리로 변환됩니다(이러한 쿼리의 문자 수는 대시보드 사용자에게 표시되는 문자 수와 1:1이 아님). Braze가 캠페인이나 캔버스를 전송할 때, 타겟팅된 오디언스의 모든 필터를 결합하는 쿼리를 실행합니다. 타겟팅 오디언스에 대한 결과 쿼리에서 글자 수를 제한하는 임계값을 적용합니다. 특정 캠페인 또는 캔버스에 대해 모든 추가 필터를 포함하여 참조된 모든 세그먼트의 문자 수를 합산합니다. 주어진 세그먼트에 대해 모든 필터와 필터 값의 문자 수를 합산합니다.

캠페인, 캔버스 또는 세그먼트가 임계값을 초과하여 시작할 수 없는 경우 대시보드에 오류가 표시됩니다. 이 오류가 발생하면 타겟팅 오디언스를 단순화한 후 다시 시작하세요:

- 오디언스가 여러 세그먼트를 참조하는 경우 세그먼트에 동일한 필터가 여러 세그먼트에 표시되는 등 중복이 없는지 확인하세요.
- 세그먼트 필터에서 오래된 데이터를 참조하고 있지 않은지 확인하세요. 예를 들어, 오래된 필터는 캔버스가 몇 달 동안 중지되었음에도 불구하고 지난 일주일 동안 특정 캔버스 단계를 받지 않은 사용자를 찾을 수 있습니다.
- 사용자 ID 또는 이메일 목록에 불과한 세그먼트(정규식 필터를 사용하는 경우가 많음)는 [CSV 가져오기로]({{site.baseurl}}/user_guide/data/unification/user_data/import_users/csv/) 변환하여 단일 CSV 필터로 간소화할 수 있습니다.
- CDI를 사용하는 경우 데이터 웨어하우스에서 직접 그룹을 가져오는 CDI 세그먼트를 만들 수 있습니다.

필터 최적화에 대한 추가 지원이 필요한 경우 [지원팀에 문의할]({{site.baseurl}}/braze_support/) 수도 있습니다.

{% alert note %}
2025년 4월부터 글자 수 제한을 시작했습니다. 2025년 4월 이전에 시작된 캠페인과 캔버스는 그랜드파더가 적용되어 한도를 계속 초과할 수 있지만, 새로 생성된 캠페인과 캔버스는 한도를 초과할 수 없습니다. 기득권이 있는 캠페인 또는 캔버스를 편집하거나 복제하는 경우 오디언스가 제한 이하로 업데이트될 때까지 시작할 수 **없습니다**.
{% endalert %}

### X 활성 또는 중지된 캠페인 또는 캔버스가 오디언스 복잡성 임계값을 초과합니다.

이 배너는 활성 또는 중지된 캠페인 또는 캔버스에 오디언스 복잡성 임계값을 초과하는 오디언스가 있을 때마다 캠페인 또는 캔버스 목록의 상단에 표시됩니다. 배너를 선택하여 임계값을 초과하는 캠페인 또는 캔버스로만 목록을 필터링한 다음 [타겟 오디언스가 너무 복잡하여 실행할 수](#target-audience-is-too-complex-to-launch) 없음의 문제 해결 단계를 따르세요.

### 필터가 10,000자를 초과하거나 너무 길어서 저장할 수 없음

Braze는 개별 세그먼트 필터를 최대 10,000자로 제한합니다. 필터가 세그먼트 내에 있든 캠페인 또는 캔버스에 직접 추가되든 상관없이 개별 필터가 10,000자를 초과할 때마다 경고가 표시됩니다. 

이 오류는 매우 드물게 발생하지만, 발생하는 경우 일반적으로 사용자 ID 또는 이메일 주소 목록을 타겟팅하는 정규식 필터를 사용하는 경우입니다. 이 경우 다음 단계에 따라 필터를 CSV로 변환할 수 있습니다:

1. 영향을 받는 세그먼트 또는 특정 정규식 필터에서 사용자를 내보냅니다. 
2. 필요에 따라 CSV를 정리합니다. Braze ID 또는 Appboy ID가 필요하지만 필요하지 않은 경우 다른 모든 열을 제거할 수 있습니다. 또한 데이터를 검토하여 최신 데이터인지 확인하는 것이 좋습니다(예: 더 이상 타겟팅하지 않는 사용자를 삭제).
3. CSV 파일을 다시 [가져오면]({{site.baseurl}}/user_guide/data/unification/user_data/import_users/csv/) 사용자를 매우 효율적인 단일 CSV 기반 필터로 자동 그룹화합니다.

## 사용자 행동

### 사용자가 더 이상 세그먼트에 속하지 않습니다.

세그먼트를 만드는 동안 사용자를 사용할 수 없는 경우 세그먼트 자격을 결정하는 사용자 데이터가 사용자의 활동이나 이전에 상호 작용한 다른 캠페인 및 캔버스의 결과로 변경되었을 수 있습니다. 재자격이 켜져 있으면 고객 프로필에 수신된 캠페인의 최신 데이터가 표시됩니다.

### 특정 앱을 필터링할 때 다른 앱의 사용자에게 정보가 표시되는 경우

사용자는 여러 개의 앱을 보유할 수 있으므로 세분화 페이지의 **사용 앱** 섹션에서 특정 앱을 선택하면 해당 앱이 있는 사용자에 대한 결과가 표시됩니다. 필터는 해당 앱을 독점적으로 보유한 사용자에게는 결과를 제공하지 않습니다.

## 필터링

### 필터 옵션 변경

필터 옵션은 커스텀 속성을 위해 Braze에 전달하는 형식(데이터 유형)과 관련이 있습니다. Braze가 커스텀 속성으로 인식하고 있는 데이터 유형을 검토하려면 **데이터 설정** > 커스텀 속성으로 이동하세요.

필터 옵션이 변경된 경우, 이는 데이터가 이전과 다른 형식(데이터 유형)으로 Braze에 전달되고 있음을 나타냅니다. 다양한 데이터 유형과 해당 필터링 옵션에 대한 자세한 설명은 [커스텀 속성 데이터 유형을]({{site.baseurl}}/user_guide/data/activation/custom_data/custom_attributes#custom-attribute-data-types) 참조하세요.

대시보드에서 커스텀 속성의 데이터 유형을 변경하면 다른 형식으로 Braze로 전송되는 데이터가 거부된다는 점에 유의하세요.

## 분석 및 보고

### 캠페인 분석에서 *보낸 메시지* 또는 *고유 수신자가* 세그먼트 수와 일치하지 않음 

*보낸 메시지* 수 또는 *고유 수신자에* 대한 캠페인 분석 수치가 세그먼트 필터의 사용자 수와 일치하지 않는 경우 `Has received message from campaign X`, 두 가지 이유가 있을 수 있습니다:

1. **캠페인 시작 이후 사용자가 보관, 고아 또는 삭제되었을 수 있습니다.**<br><br>예를 들어 1,000명의 사용자가 캠페인을 수신하고 같은 날 CSV 내보내기를 한다고 가정해 보겠습니다. 1,000명의 사용자가 보고된 것을 볼 수 있습니다. 다음 달에 1,000명의 사용자 중 50명이 삭제됩니다(예: `users/delete` 엔드포인트). 다른 CSV 내보내기를 수행하면 **캠페인 분석의** *고유 수신자* 수는 여전히 1,000명인 반면 950명의 사용자가 보고되는 것을 볼 수 있습니다.<br><br>즉, *고유 수신자* 측정기준은 증분된 카운트인 반면 세그먼트 및 CSV 내보내기는 현재 존재하는 사용자의 카운트를 제공합니다.<br><br>

2. **캠페인에 재참가 자격이 설정되어 있으므로 사용자는 캠페인에 여러 번 다시 참가할 수 있습니다.**<br><br>예를 들어 이메일 캠페인의 재참여 자격이 0분으로 설정되어 있고(사용자가 오디언스 세그먼트 요건을 충족하는 한 캠페인에 다시 참여할 수 있음) 캠페인이 한 달 이상 실행되었다고 가정해 보겠습니다. 이 필드에는 중복 사용자에게 보낸 메시지가 포함되므로 **캠페인 분석의** *보낸 메시지* 수와 세그먼트의 숫자가 일치하지 않습니다.<br><br>이는 Braze가 *일일 고유 수신자* 수, 즉 하루에 특정 메시지를 수신한 사용자 수를 고유 사용자로 계산하기 때문입니다. 즉, '고유' 기간은 하루 동안만 지속되므로 재적격 사용자는 고유 수신자로 두 번 이상 계산됩니다. 이로 인해 *일일 고유 수신자* 수가 CSV 내보내기의 고객 프로필 수보다 많을 수 있습니다. CSV 파일의 고객 프로필은 정말 고유합니다.

### 사용자가 하나의 앱에만 세션을 로그인했음에도 불구하고 두 개의 앱에 할당됨

세그먼트를 만들 때 [특정 앱을 사용한]({{site.baseurl}}/user_guide/engagement_tools/segments/creating_a_segment/#step-3-choose-your-app-or-platform) 사용자를 타겟팅할 수 있습니다. 사용자가 특정 앱에 할당되려면 해당 앱에 세션이 있어야 하지만, 앱에 로그인한 세션이 없어도 특정 앱에 할당될 수 있는 두 가지 시나리오가 있습니다. 

첫 번째 시나리오는 `/users/track` 엔드포인트를 사용할 때 `app_id` 필드가 채워지는 경우, 특히 이 예제에서처럼 [이벤트]({{site.baseurl}}/api/objects_filters/event_object/) 또는 [구매 개체를]({{site.baseurl}}/api/objects_filters/purchase_object/) 사용할 때입니다:

```json
{
    "events": [
    {
      "external_id": "john_doe123",
      "app_id": "my_web_app_id",
      "name": "Custom Event",
      "time": "2025-08-17T19:20:30+1:00"
    }
  ]
}
```

두 번째 시나리오는 이 예에서와 같이 `/users/track` 엔드포인트를 사용하여 푸시 티켓을 마이그레이션할 때 `app_id` 필드가 채워지는 경우입니다: 

```json
"app_group_id": "{YOUR_APP_GROUP_ID}",
"attributes": [
{
      "push_token_import": false,
      "external_id": "external_id1",
      "country": "US",
      "language": "en",
      "{YOUR_CUSTOM_ATTRIBUTE}": "{YOUR_VALUE}",
      "push_tokens": [
        {"app_id": "{APP_ID_OF_OS}", "token": "{PUSH_TOKEN_STRING}"}
      ]
  }
]
```
