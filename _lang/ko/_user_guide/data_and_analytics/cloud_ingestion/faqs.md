---
nav_title: FAQ
article_title: 클라우드 데이터 수집 FAQ
page_order: 100
page_type: FAQ
description: "이 문서에서는 클라우드 데이터 수집에 대해 자주 묻는 질문에 대한 답변을 제공합니다."
toc_headers: h2
---

# 자주 묻는 질문(FAQ)

> 다음은 클라우드 데이터 수집과 관련하여 자주 묻는 질문에 대한 답변입니다.

## 이메일을 받은 이유 "CDI 동기화 중 오류가 발생했습니다"?

이러한 유형의 이메일은 일반적으로 CDI 설정에 문제가 있음을 의미합니다. 다음은 몇 가지 일반적인 문제와 해결 방법입니다:

### CDI는 사용자의 자격 증명을 사용하여 데이터 웨어하우스 또는 테이블에 액세스할 수 없습니다.

이는 CDI의 자격 증명이 잘못되었거나 데이터 웨어하우스에서 잘못 구성되었음을 의미할 수 있습니다. 자세한 내용은 [데이터 웨어하우스 통합]({{site.baseurl}}/user_guide/data_and_analytics/cloud_ingestion/integrations/)을 참조하세요.

### 테이블을 찾을 수 없습니다.

올바른 데이터베이스 구성으로 통합을 업데이트하거나 데이터 웨어하우스에서 일치하는 리소스(예: `database/table`)를 생성해 보세요.

### 카탈로그를 찾을 수 없습니다.

통합에서 설정한 카탈로그가 Braze 카탈로그에 존재하지 않습니다. 통합이 설정된 후에는 카탈로그를 제거할 수 있습니다. 이 문제를 해결하려면 다른 카탈로그를 사용하도록 연동을 업데이트하거나 연동의 카탈로그 이름과 일치하는 새 카탈로그를 만드세요.

## 이메일을 받은 이유 "CDI 동기화에서 행 오류가 발생했습니다"?

이러한 유형의 이메일은 동기화 중에 일부 데이터를 처리할 수 없음을 의미합니다. 구체적인 오류를 확인하려면 **CDI** > **로그 동기화**로 이동하여 Braze에서 로그를 검토할 수 있습니다.

## 연결 테스트 및 지원 이메일의 오류를 수정하려면 어떻게 하나요?

{% tabs %}
{% tab Snowflake %}
### 테스트 연결이 느리게 실행됨

테스트 연결은 데이터 웨어하우스에서 실행 중이므로 웨어하우스 용량을 늘리면 속도가 향상될 수 있습니다. 서버리스 SQL 인스턴스를 사용하면 워밍업 시간이 최소화되고 쿼리 처리량이 향상되지만 통합 비용이 약간 높아질 수 있습니다.

### Snowflake 인스턴스에 연결하는 동안 오류가 발생했습니다. IP로 들어오는 요청은 Snowflake에 액세스할 수 없습니다.

공식 Braze IP를 IP 허용 목록에 추가해 보세요. 자세한 내용은 [데이터 웨어하우스 통합]({{site.baseurl}}/user_guide/data_and_analytics/cloud_ingestion/integrations/)을 참조하세요.

### 고객 구성으로 인해 SQL 실행 중 오류가 발생했습니다. 002003 (42S02): SQL 컴파일 오류: 존재하지 않거나 권한이 없습니다.

테이블이 존재하지 않으면 테이블을 생성합니다. 테이블이 존재하는 경우 사용자 및 역할에 테이블에서 읽을 수 있는 권한이 있는지 확인합니다.

### 스키마를 사용할 수 없습니다.

이 오류가 발생하면 지정된 사용자 또는 역할에 대해 해당 스키마에 대한 액세스 권한을 부여하세요.

### 역할을 사용할 수 없습니다.

이 오류가 표시되면 해당 사용자가 지정된 역할을 사용할 수 있도록 허용하세요.

### 사용자 액세스 비활성화

이 오류가 표시되면 해당 사용자가 Snowflake 계정에 액세스할 수 있도록 허용하세요.

### 현재 및 이전 키로 Snowflake 인스턴스에 연결하는 동안 오류가 발생했습니다.

이 오류가 발생하면 사용자가 Braze 대시보드에 표시된 대로 현재 공개 키를 사용하고 있는지 확인하세요.
{% endtab %}

{% tab Redshift %}
### 테스트 연결이 느리게 실행됨

테스트 연결은 데이터 웨어하우스에서 실행 중이므로 웨어하우스 용량을 늘리면 속도가 향상될 수 있습니다. 서버리스 SQL 인스턴스를 사용하면 워밍업 시간이 최소화되고 쿼리 처리량이 향상되지만 통합 비용이 약간 높아질 수 있습니다.

### {table_name} 관계에 대한 권한이 거부되었습니다.

이 오류가 표시되는 경우:

  - 해당 사용자에 대한 스키마에 `usage` 권한을 부여합니다.
  - 해당 사용자에 대해 테이블에 `select` 권한을 부여합니다.

### 연결 오류 생성

이 오류가 발생하면 Redshift 엔드포인트와 포트가 올바른지 확인하세요.

### SSH 터널 오류 생성

이 오류가 표시되는 경우:

  - Braze 대시보드의 공개 키가 SSH 터널링에 사용되는 ec2 호스트에 있는지 확인합니다.
  - 사용자 아이디가 올바른지 확인합니다.
  - SSH 터널이 올바른지 확인합니다.
{% endtab %}

{% tab BigQuery %}
### 테스트 연결이 느리게 실행됨

테스트 연결은 데이터 웨어하우스에서 실행 중이므로 웨어하우스 용량을 늘리면 속도가 향상될 수 있습니다. 서버리스 SQL 인스턴스를 사용하면 워밍업 시간이 최소화되고 쿼리 처리량이 향상되지만 통합 비용이 약간 높아질 수 있습니다.

### 사용자에게 테이블을 쿼리할 수 있는 권한이 없습니다.

이 오류가 발생하면 테이블을 쿼리할 수 있는 사용자 권한을 추가하세요.

### 사용량이 사용자 지정 할당량을 초과했습니다.

이 오류가 표시되면 할당량을 업데이트해야 현재 속도로 동기화를 계속할 수 있습니다.

### 위치 {region} 위치에서 테이블을 찾을 수 없습니다.

이 오류가 발생하면 테이블이 올바른 프로젝트 및 데이터 집합에 있는지 확인하세요.

### 잘못된 JWT 서명

이 오류가 발생하면 계정에 대해 BigQuery API 서비스가 활성화되어 있는지 확인하세요.
{% endtab %}

{% tab Databricks %}
### 테스트 연결이 느리게 실행됨

테스트 연결은 데이터 웨어하우스에서 실행 중이므로 웨어하우스 용량을 늘리면 속도가 향상될 수 있습니다. Databricks의 경우, Braze가 Classic 및 Pro SQL 인스턴스에 연결될 때 연결 설정 및 테스트 중뿐만 아니라 예약된 동기화 시작 시에도 지연을 초래하는 2~5분의 준비 시간이 있을 수 있습니다. 서버리스 SQL 인스턴스를 사용하면 워밍업 시간이 최소화되고 쿼리 처리량이 향상되지만 통합 비용이 약간 높아질 수 있습니다.

### 창고가 중지되어 명령이 실패했습니다.

이 오류가 발생하면 Databricks 웨어하우스가 실행 중인지 확인하세요.

### 서비스: Amazon S3; 상태 코드: 403; 오류 코드: 403 금지됨

이 오류가 발생하면 [Databricks를 참조하세요. S3 데이터에 액세스하는 동안 금지된 오류가 발생했습니다](https://kb.databricks.com/security/forbidden-access-to-s3-data).
{% endtab %}
{% endtabs %}

## CDI 통합에 대한 이메일 알림 기본 설정을 업데이트하려면 어떻게 해야 하나요?

각 통합에는 고유한 알림 기본 설정이 있습니다. CDI 페이지로 이동하여 업데이트할 연동 서비스 이름을 선택합니다. **알림 환경설정** 섹션에서 선택한 통합에 관한 알림 수신 방법을 업데이트할 수 있습니다.

## 향후 UPDATED_AT가 통합과 동기화되면 어떻게 되나요?

CDI는 `UPDATED_AT`을 사용하여 어떤 데이터가 새로운 데이터인지 결정합니다. 향후 `UPDATED_AT`이 동기화되면 해당 날짜 및 시간 이전의 모든 데이터는 처리되지 않습니다. 이 문제를 해결하려면

1. 정정 `UPDATED_AT`.
2. 이미 Braze와 동기화된 이전 데이터를 모두 제거하세요.
3. 새 통합을 생성하여 해당 테이블을 다시 처리합니다.

## '행 동기화'가 내 창고에 있는 번호와 일치하지 않는 이유는 무엇인가요?

CDI는 `UPDATED_AT`을 사용하여 동기화 중에 어떤 레코드를 가져올지 결정합니다. [이 그림]({{site.baseurl}}/user_guide/data_and_analytics/cloud_ingestion/overview/#what-gets-synced)을 통해 작동 방식을 확인하세요. 동기화 실행이 시작될 때 CDI는 웨어하우스에 쿼리하여 이전에 처리된 값보다 늦은 `UPDATED_AT`으로 모든 레코드를 가져옵니다. 쿼리가 실행되는 시점에 수집된 모든 레코드는 Braze에 동기화됩니다. 다음은 레코드가 동기화되지 않을 수 있는 일반적인 경우입니다:

- 이미 처리된 `UPDATED_AT` 값으로 테이블에 레코드를 추가하고 있습니다.
- 동기화를 통해 레코드 값을 처리한 후 업데이트하지만 `UPDATED_AT`은 변경하지 않고 그대로 둡니다. 
- 동기화가 진행되는 동안 레코드를 추가하거나 업데이트하는 중입니다. CDI 쿼리가 실행되는 시기에 따라 레코드가 선택되지 않는 경합 조건이 발생할 수 있습니다.

{% alert tip %}
앞으로 이러한 동작을 방지하려면 단조롭게 증가하는 `UPDATED_AT` 값을 사용하고 예약된 동기화 실행 중에 테이블을 업데이트하지 않는 것이 좋습니다.
{% endalert %}

## 동기화 중에 여러 레코드가 동일한 ID를 공유하는 경우 순서가 유지되나요?

처리 순서는 100% 예측할 수 없습니다. 예를 들어, 동기화 중에 테이블에 동일한 `EXTERNAL_ID` 행이 여러 개 있는 경우 최종 프로필에 어떤 값이 포함될지 보장할 수 없습니다. 

## CDI의 보안 대책은 무엇인가요?

### Braze의 조치

Braze는 CDI에 대해 다음과 같은 조치를 취하고 있습니다:

- 모든 자격 증명은 데이터베이스 내에서 암호화되며, 특정 직원만 인증된 액세스 권한을 갖습니다.
- 암호화 연결을 사용하여 고객 웨어하우스로 데이터를 전송합니다.
- 당사는 고객에게 사용을 권장하는 것과 동일한 API 키와 TLS 연결을 사용하여 Braze API 엔드포인트에 요청을 보냅니다.
- 정기적으로 라이브러리를 업데이트하고 보안 패치를 적용합니다.

### 조치

사용자와 팀에서 다음과 같은 보안 조치를 설정하는 것이 좋습니다. 

- 자격 증명 액세스를 CDI 작동에 필요한 최소한의 것으로 제한합니다. 특정 테이블 및 뷰에서 선택(및 카운트)을 실행할 수 있어야 하기 때문입니다.
- 테이블에 액세스할 수 있는 IP를 공식적으로 게시된 [Braze IP]({{site.baseurl}}/user_guide/data_and_analytics/cloud_ingestion/integrations/.#step-1-set-up-tables-or-views)로 제한합니다.
