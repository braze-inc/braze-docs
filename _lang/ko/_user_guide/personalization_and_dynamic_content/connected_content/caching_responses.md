---
nav_title: 응답 캐싱
article_title: 연결된 콘텐츠 응답 캐싱
page_order: 2.5
description: "이 문서에서는 동일한 작업 공간에서 여러 캠페인 또는 메시지에서 커넥티드 콘텐츠 응답을 캐시하여 전송 속도를 최적화하는 방법에 대해 설명합니다."
---

# 커넥티드 콘텐츠 응답 캐싱

> 연결된 콘텐츠 응답을 여러 캠페인이나 메시지(동일한 작업 공간에서)에 캐시하여 전송 속도를 최적화할 수 있습니다.

Braze는 커넥티드 콘텐츠 응답을 영구적으로 기록하거나 저장하지 않습니다. 커넥티드 콘텐츠 호출 응답을 Liquid 변수로 저장하도록 명시적으로 선택한 경우, Braze는 이를 인메모리, 즉 짧은 시간 후에 삭제되는 임시 저장소에만 저장하여 Liquid 변수를 렌더링하고 메시지를 전송합니다.

캐싱을 방지하기 위해 `:no_cache` 을 지정하면 네트워크 트래픽을 증가시킬 수 있습니다. 시스템 상태를 모니터링하고 문제를 해결하기 위해 Braze는 실패한 커넥티드 콘텐츠 호출을 기록할 수도 있습니다(예: `404` 및 `429`). 이러한 로그는 최대 30일 동안 보관됩니다.

## 기본 캐시 설정

캐시 기간은 최대 5분(300초)입니다. 연결된 콘텐츠 호출에 `:cache_max_age` 매개 변수를 추가하여 이를 업데이트할 수 있습니다. 예를 들면 다음과 같습니다:

{% raw %}
```
{{ {% connected_content [https://example.com/webservice.json] :cache_max_age 900 %}}}
```
{% endraw %}

GET 요청은 캐시됩니다. 연결된 콘텐츠 호출에 :no_cache 매개 변수를 추가하여 이를 구성할 수 있습니다.

POST 요청은 캐시되지 않습니다. 이는 연결된 콘텐츠 호출에 :cache_max_age 매개 변수를 추가하여 강제로 적용할 수 있습니다. 최소 캐시 시간은 5분, 최대 캐시 시간은 4시간입니다.

{% alert note %}
캐시 설정은 보장되지 않습니다. 캐싱은 엔드포인트에 대한 호출을 줄일 수 있으므로 캐싱에 지나치게 의존하기보다는 캐시 기간 내에 엔드포인트당 여러 번의 호출을 사용하는 것이 좋습니다.
{% endalert %}

### 캐시 크기 제한

커넥티드 콘텐츠 응답 본문은 최대 1MB까지 가능합니다. 응답 본문이 1MB보다 크면 캐시되지 않습니다.

## 캐시 시간 

연결된 콘텐츠는 GET 엔드포인트에서 반환하는 값을 최소 5분 동안 캐시합니다. 캐시 시간을 지정하지 않으면 기본 캐시 시간은 5분입니다.

연결된 콘텐츠 캐시 시간은 다음 예시와 같이 :cache_max_age를 사용하여 더 길게 구성할 수 있습니다. 최소 캐시 시간은 5분, 최대 캐시 시간은 4시간입니다. 연결된 콘텐츠 데이터는 Memcached와 같은 휘발성 캐시 시스템을 사용하여 인메모리에 캐시됩니다. 

따라서 지정된 캐시 시간에 관계없이 커넥티드 콘텐츠 데이터는 지정된 시간보다 일찍 Braze의 인메모리 캐시에서 제거될 수 있습니다. 즉, 캐시 기간은 제안 사항이며 실제로 Braze에서 데이터가 캐시되는 기간을 나타내지 않을 수 있으며, 주어진 캐시 기간으로 예상보다 더 많은 연결된 콘텐츠 요청이 표시될 수 있습니다.

### 지정된 초 동안 캐시

이 예제는 900초(또는 15분) 동안 캐시됩니다.

{% raw %}
```
{% connected_content https://example.com/webservice.json :cache_max_age 900 %}
```
{% endraw %}

### 캐시 버스팅

연결된 콘텐츠가 GET 요청에서 반환하는 값을 캐싱하지 않도록 하려면 `:no_cache` 구성을 사용하면 됩니다. 그러나 Braze 내부 호스트의 응답은 계속 캐시됩니다.

{% raw %}
```js
{% connected_content https://example.com/webservice.json :no_cache %}
```
{% endraw %}

{% alert important %}
이 옵션을 사용하기 전에 제공된 연결된 콘텐츠 엔드포인트가 대량의 트래픽을 처리할 수 있는지 확인한 후 사용하세요. 그렇지 않으면 Braze가 모든 메시지에 대해 연결된 콘텐츠를 요청하기 때문에 전송 대기 시간(지연이 증가하거나 요청과 응답 사이의 시간 간격이 더 길어질 수 있습니다)이 늘어날 수 있습니다.
{% endalert %}

Braze는 POST 요청의 결과를 캐시하지 않으므로 POST를 사용하면 바스트를 캐시할 필요가 없습니다.

## 알아두어야 할 사항

- 캐싱은 중복된 커넥티드 콘텐츠 호출을 줄이는 데 도움이 됩니다. 그러나 사용자당 항상 하나의 커넥티드 콘텐츠 호출이 발생한다는 보장은 없습니다.
- 연결된 콘텐츠 캐싱은 URL 및 워크스페이스를 기반으로 합니다. 연결된 콘텐츠 호출이 동일한 URL로 연결되는 경우 캠페인과 캔버스에 걸쳐 캐시할 수 있습니다.
- 캐시는 사용자 ID나 캠페인이 아닌 고유 URL을 기반으로 합니다. 즉, URL이 동일한 경우 캐시된 버전의 커넥티드 콘텐츠 호출이 워크스페이스의 여러 사용자 및 캠페인에서 사용될 수 있습니다.
