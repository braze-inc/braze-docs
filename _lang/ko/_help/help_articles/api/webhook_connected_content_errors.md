---
nav_title: 웹훅 및 연결된 콘텐츠 요청 문제 해결
article_title: 웹훅 및 연결된 콘텐츠 요청 문제 해결
page_order: 3
channel:
  - webhooks
description: "이 문서에서는 웹훅 및 커넥티드 콘텐츠 오류 코드를 해결하는 방법과 오류의 유형 및 해결 단계를 설명합니다."
---

# 웹훅 및 커넥티드 콘텐츠 요청 문제 해결하기

> 이 문서에서는 웹훅 및 연결된 콘텐츠의 일반적인 오류 코드를 해결하는 방법을 다루고 요청에서 이러한 오류가 어떻게 발생할 수 있는지에 대한 자세한 설명을 제공합니다.

## 4XX 오류

`4XX` 오류는 엔드포인트로 전송된 요청에 문제가 있음을 나타냅니다. 이러한 오류는 일반적으로 잘못된 매개변수, 인증 헤더 누락, 잘못된 URL 등 잘못된 요청으로 인해 발생합니다.

오류 코드 세부 정보 및 해결 단계는 다음 표를 참조하세요:

<style>
table td {
    word-break: break-word;
}
</style>

<table>
  <thead>
    <tr>
      <th>오류 코드</th>
      <th>의미</th>
      <th>해결 단계</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><b>400 잘못된 요청</b></td>
      <td>요청에 잘못된 구문이 있습니다.</td>
      <td>
        <ul>
          <li>요청 페이로드에 구문 오류가 있는지 확인합니다.</li>
          <li>모든 필수 필드가 포함되어 있고 형식이 올바른지 확인합니다.</li>
          <li>JSON 페이로드를 전송하는 경우 JSON 구조의 유효성을 검사합니다.</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td><b>401 승인되지 않음</b></td>
      <td>요청에는 사용자 인증이 필요합니다.</td>
      <td>
        <ul>
          <li>요청 헤더에 올바른 인증 자격 증명(예: API 키 또는 토큰)이 포함되어 있는지 확인합니다.</li>
          <li>엔드포인트에 액세스할 수 있는 사용자 권한이 있는지 확인합니다.</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td><b>403 금지됨</b></td>
      <td>엔드포인트가 요청을 이해하지만 권한 부여를 거부합니다.</td>
      <td>
        <ul>
          <li>API 키 또는 토큰에 필요한 권한이 있는지 확인합니다.</li>
          <li>엔드포인트에 액세스할 수 있는 사용자 권한이 있는지 확인합니다.</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td><b>404 찾을 수 없음</b></td>
      <td>엔드포인트에서 요청된 리소스를 찾을 수 없습니다.</td>
      <td>
        <ul>
          <li>엔드포인트 URL에 오타나 잘못된 경로가 있는지 확인하세요.</li>
          <li>액세스하려는 리소스가 존재하는지 확인합니다.</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td><b>405 메서드 허용되지 않음</b></td>
      <td>요청 방법은 엔드포인트에서 알고 있지만 대상 리소스에서 지원되지 않습니다.</td>
      <td>
        <ul>
          <li>요청에 사용된 HTTP 메서드(DELETE, GET, POST, PUT)를 확인합니다.</li>
          <li>엔드포인트가 사용 중인 방법을 지원하는지 확인합니다.</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td><b>408 요청 시간 초과</b></td>
      <td>엔드포인트에서 요청을 처리하는 동안 시간이 초과되었습니다.</td>
      <td>
        <ul>
          <li>요청에 사용된 HTTP 메서드(DELETE, GET, POST, PUT)를 확인합니다.</li>
          <li>엔드포인트가 사용 중인 방법을 지원하는지 확인합니다.</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td><b>409 충돌</b></td>
      <td>리소스의 현재 상태와 충돌하여 요청이 불완전합니다.</td>
      <td>
        <ul>
          <li>요청에 사용된 HTTP 메서드(DELETE, GET, POST, PUT)를 확인합니다.</li>
          <li>엔드포인트가 사용 중인 방법을 지원하는지 확인합니다.</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td><b>429 너무 많은 요청</b></td>
      <td>주어진 시간 내에 너무 많은 요청이 전송되었습니다.</td>
      <td>
        <ul>
          <li>캠페인 또는 캔버스 단계의 요금 한도를 낮추세요.</li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

## 5XX 오류

`5XX` 오류는 엔드포인트에 문제가 있음을 나타냅니다. 이러한 오류는 일반적으로 서버 측 문제로 인해 발생합니다.

| 오류 코드                    | 의미                                                                                                                                         |
|-------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|
| **500 내부 서버 오류** | 엔드포인트에서 예기치 않은 조건이 발생하여 요청을 완료하지 못했습니다.                                                       |
| **502 불량 게이트웨이**           | 엔드포인트가 업스트림 서버로부터 잘못된 응답을 받았습니다.                                                                                   |
| **503 서비스를 사용할 수 없음**   | 일시적인 과부하 또는 유지 관리로 인해 엔드포인트가 현재 요청을 처리할 수 없습니다.                                                    |
| **504 게이트웨이 시간 초과**       | 엔드포인트가 업스트림 서버로부터 적시에 응답을 받지 못했습니다.                                                                               |
| **529 호스트 과부하**       | 엔드포인트 호스트에 과부하가 걸려 응답하지 못했습니다. |
| **598 호스트 건강하지 않음**        | Braze는 엔드포인트 호스트가 일시적으로 건강하지 않은 것으로 표시되어 응답을 시뮬레이션했습니다. 자세한 내용은 [비정상 호스트 탐지를](#unhealthy-host-detection) 참조하세요. |
| **599 연결 오류**      | Braze가 엔드포인트에 연결을 시도하는 동안 네트워크 연결 시간 초과 오류가 발생했습니다. 이는 엔드포인트가 불안정하거나 다운되었을 수 있음을 의미합니다. |
{: .reset-td-br-1 .reset-td-br-2 role="presentation" }

### 5XX 오류 해결

다음은 일반적인 `5XX` 오류를 해결하는 팁입니다:

- **메시지 활동 로그에서** 오류 메시지를 검토하여 구체적인 세부 정보를 확인할 수 있습니다. 웹훅의 경우, Braze 홈페이지의 **시간 경과에 따른 성과** 섹션으로 이동하여 웹훅 통계를 선택합니다. 여기에서 오류가 발생한 시점을 나타내는 타임스탬프를 찾을 수 있습니다.
- 엔드포인트에 과부하가 걸리는 요청을 너무 많이 보내지 않도록 하세요. 일괄 전송하거나 속도 제한을 조정하여 오류가 줄어드는지 확인할 수 있습니다.

## 건강하지 않은 호스트 탐지

Braze 웹훅과 커넥티드 콘텐츠는 비정상 호스트 감지 메커니즘을 사용하여 대상 호스트가 심각한 속도 저하 또는 과부하를 경험하여 시간 초과, 너무 많은 요청 또는 기타 결과로 인해 Braze가 대상 엔드포인트와 성공적으로 통신할 수 없는 경우를 감지합니다. 이는 대상 호스트가 어려움을 겪을 수 있는 불필요한 부하를 줄이기 위한 안전장치 역할을 합니다. 또한 Braze 인프라를 안정화하고 빠른 메시징 속도를 유지하는 데도 도움이 됩니다.

감지 임계값은 웹훅과 커넥티드 콘텐츠 간에 다릅니다:
- **웹훅의 경우**: **1분 이동 시간 동안 실패 횟수가 3,000건을 초과하면** (엔드포인트 경로가 **아닌** 호스트 이름과 앱 그룹의 고유한 조합당), Braze는 대상 호스트에 대한 요청을 1분 동안 일시적으로 중단합니다.
- **커넥티드 콘텐츠의 경우**: **실패 횟수가 3,000건을 초과하고 1분 이동 시간대에서 오류율이 90%를 초과하면**(엔드포인트 경로별이 **아닌** 호스트 이름과 앱 그룹의 고유 조합별), Braze는 대상 호스트에 대한 요청을 1분 동안 일시적으로 중단합니다.

요청이 중단되면 Braze는 상태가 좋지 않음을 나타내는 `598` 오류 코드와 함께 응답을 시뮬레이션합니다. 1분 후 호스트가 건강한 것으로 확인되면 Braze는 최대 속도로 요청을 재개합니다. 호스트가 여전히 건강하지 않으면 Braze는 다시 시도하기 전에 1분을 더 기다립니다.

다음 오류 코드는 비정상 호스트 탐지기 실패 횟수에 기여합니다: `408`, `429`, `502`, `503`, `504`, `529`.

웹훅의 경우, Braze는 비정상 호스트 감지기에 의해 중단된 HTTP 요청을 자동으로 재시도합니다. 이 자동 재시도는 지수 백오프를 사용하며 실패하기 전에 몇 번만 재시도합니다. 웹훅 오류에 대한 자세한 내용은 [오류, 재시도 로직 및 시간 초과를]({{site.baseurl}}/user_guide/message_building_by_channel/webhooks/creating_a_webhook#errors-retry-logic-and-timeouts) 참조하세요.

커넥티드 콘텐츠의 경우, 비정상 호스트 감지기에 의해 대상 호스트에 대한 요청이 중단되면 Braze는 오류 응답 코드를 수신한 것처럼 메시지를 계속 렌더링하고 Liquid 로직을 따릅니다. 이러한 커넥티드 콘텐츠 요청이 비정상 호스트 감지기에 의해 중단될 때 다시 시도되도록 하려면 `:retry` 옵션을 사용하세요. `:retry` 옵션에 대한 자세한 내용은 [연결된 콘텐츠 재시도를]({{site.baseurl}}/user_guide/personalization_and_dynamic_content/connected_content/connected_content_retries) 참조하세요.

건강하지 않은 호스트 감지로 인해 문제가 발생했다고 생각되면 [Braze 지원팀에]({{site.baseurl}}/support_contact/) 문의하세요.

## 자동화된 이메일 및 메시지 활동 로그 항목

### 자동 이메일 설정

24시간 동안 워크스페이스에서 웹훅 또는 연결된 콘텐츠 엔드포인트 오류(재시도 포함)가 100,000건 이상 발생하는 경우 오류 해결 방법에 대한 다음 정보가 포함된 이메일을 받게 됩니다. 

- 워크스페이스의 이름
- 캔버스 또는 캠페인에 대한 링크
- 엔드포인트 URL
- 오류 코드
- 오류가 마지막으로 관찰된 시간
- 메시지 활동 로그 및 관련 문서 링크

{% alert note %}
워크스페이스별로 오류 임계값을 구성할 수 있습니다. 이 임계값을 조정하려면 [Braze 지원팀에]({{site.baseurl}}/support_contact/) 문의하세요.
{% endalert %}

엔드포인트 오류는 다음과 같습니다:

- **`4XX`:** `400`, `401`, `403`, `404`, `405`, `408`, `409`, `429`
- **`5XX`:** `500`, `502`, `503`, `504`, `598`, `599`

이러한 이메일은 워크스페이스 수준에서 하루에 한 번만 전송됩니다. 이러한 이메일에 가입한 사용자가 없는 경우 모든 회사 관리자에게 알림이 전송됩니다.

이러한 이메일 수신을 신청하려면 다음과 같이 하세요:

1. **설정** > **관리자 설정** > **알림 기본 설정**.
2. **캔버스 및 캠페인** 섹션에서 **연결된 콘텐츠 오류** 및 **웹훅 오류를** 선택합니다.

### 메시지 활동 로그 항목

[메시지 활동 로그에]({{site.baseurl}}/user_guide/administrative/app_settings/message_activity_log_tab) 자동 이메일을 트리거한 오류와 관련된 항목이 하나 이상 있을 것입니다.

### 브레이즈 커런트의 추가 장애 인사이트

웹훅 관련 문제에 대한 투명성을 높이기 위해 Braze는 자세한 웹훅 장애 이벤트를 Currents 및 Snowflake 데이터 공유에 스트리밍합니다. 이러한 이벤트에는 실패한 웹훅 요청(예: HTTP `4xx` 또는 `5xx` 응답)이 포함되어 있어 웹훅 문제가 메시지 전송에 미치는 영향에 대한 가시성을 높일 수 있습니다. 실패 이벤트에는 터미널 오류와 재시도 중인 오류가 포함됩니다.

{% alert note %}
커넥티드 콘텐츠 요청은 이러한 웹훅 실패 이벤트에 포함되지 않습니다.
{% endalert %}

자세한 내용은 [메시지 참여 이벤트 용어집을]({{site.baseurl}}/user_guide/data/braze_currents/event_glossary/message_engagement_events/) 참조하세요.
