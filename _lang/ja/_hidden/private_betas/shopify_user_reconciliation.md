---
nav_title: Shopifyユーザー照合
article_title: Shopifyユーザー照合
permalink: "/shopify_user_reconciliation/"
description: "この参考記事では、チェックアウトフローに到達したユーザーのデバイスIDと個人情報を照合する方法について説明します。"
hidden: true
---

# チェックアウトフロー外でのShopifyユーザー照合 

> Shopifyの統合は、ユーザーがチェックアウトフローに到達し、Shopifyのウェブフックイベントを実行する際に、ユーザーのデバイスIDと個人情報を照合します。

{% alert note %}
この機能は現在ベータ版である。ご興味のある方は、カスタマー・サクセス・マネージャーまたはアカウント・マネージャーにお問い合わせください。
{% endalert %}

Shopifyのサインアップとログインのフローを経由してユーザーの照合をサポートするために、チェックアウトのフローの外で自動的にShopifyストアにJavaScript関数を実装することができます。Brazeは、Shopifyストアのフォームに`type="email"` 、以下の例のように自動的に関数を実装します。

![1]{:style="max-width:60%;"}

この関数が呼び出されると、ウェブ上の匿名ユーザーは、提供された電子メールアドレスと関連付けられるようになる。今後、私たちが使用する識別子（例えば、ShopifyカスタマーID、メールアドレス、電話番号）を参照するShopifyイベントは、一致する場合、同じBrazeユーザーに割り当てられます。

## 考察

{% alert important %}
Brazeは、顧客のShopifyサイト上の`type="email"` を含むすべてのフォームに精通しているわけではありません。つまり、この関数はユーザー照合に利用されるべき入力フィールドを見落としたり、ユーザープロファイルに間違ったメールアドレス（例えば、紹介フォーム）を設定するような間違ったフィールドをピックアップしたりする可能性があります。
{% endalert %}

Shopifyのサイトでサポートされているすべてのフォームをご覧になり、このベータ版ソリューションがお客様の要件にどのように効果的に対応できるかを評価されることをお勧めします。このベータ機能の利用を選択することで、Shopifyのフォームを手動で変更することによる予期せぬ動作が発生する可能性があることをご理解ください。

[1]: {% image_buster /assets/img/shopify_type_email.png %}
