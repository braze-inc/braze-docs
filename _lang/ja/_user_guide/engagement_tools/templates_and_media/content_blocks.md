---
nav_title: コンテンツブロックライブラリ
article_title: コンテンツブロックライブラリ
page_order: 1
page_type: reference
description: "この参考記事では、コンテンツブロックライブラリを使用して、再利用可能なクロスチャネルコンテンツを1つの一元的な場所で管理する方法について説明します。"
tool: 
  - Templates
  - Media

---

# コンテンツブロックライブラリ

> コンテンツブロックライブラリを使用すると、再利用可能なクロスチャネルのコンテンツを1か所で一元管理できます。

コンテンツブロックを使用すると、次のことができます。

- メールキャンペーンをヘッダーとフッターとして使用して、一貫した外観と雰囲気を作りましょう。
- 同じオファーコードを別のチャネルに配布してください。
- あらかじめ定義されたアセットを作成して、一貫性のある情報やアセットを含むメッセージを作成できます。
- メッセージ本文全体を他のメッセージにコピーします。

## コンテンツブロックの作成

コンテンツブロックの作成に使用されるエディターには、クラシックとドラッグ＆ドロップの2種類があります。この2種類のエディターは、コンテンツブロックの種類に対応しています。HTML とドラッグ＆ドロップ。[API を使用して]({{site.baseurl}}/api/endpoints/templates/)コンテンツブロックを作成、管理することもできます。

{% tabs %}
{% tab Drag-and-drop %}

{% multi_lang_include create_content_block.md location="dnd" %}

{% endtab %}
{% tab HTML %}

{% multi_lang_include create_content_block.md location="html" %}

{% endtab %}
{% endtabs %}

### コンテンツブロックの仕様

| コンテンツブロック属性 | 仕様 |
|---|---|
| 名前 | 最大100文字の必須フィールド。コンテンツブロックを保存した後で名前を変更することはできません。さらに、以前のコンテンツブロックがアーカイブされていても、新しいコンテンツブロックに以前のコンテンツブロックと同じ名前を付けることはできません。| |
| 説明 | (任意）最大250文字。コンテンツブロックを説明し、他のBrazeユーザーがその用途や使用場所を知ることができるようにする。 |
| コンテンツサイズ | 最大50KB。 |
| 配置 | コンテンツブロックはメールフッター内では使用できない。 |
| 創造 | HTMLエディタまたはドラッグ・アンド・ドロップ・エディタ。 |
{: .reset-td-br-1 .reset-td-br-2 role="presentation" }

{% alert tip %}
コンテンツブロックを作成する場合は、改行を追加してHTML とLiquid を視覚化すると便利です。送信中にこれらの改行が残っていると、余分なスペースが入り、ブロックのレンダリング方法に影響する危険があります。これを避けるには、ブロックに「**Capture」**タグと**「｜strip」**フィルターを使用する。
{% raw %}
```
{% capture your_variable %}
{{content_blocks.${your_content_block}}}
{% endcapture %}{{your_variable | strip}}
```
{% endraw %}
{% endalert %}

## コンテンツブロックを使用する

コンテンツブロックを作成したら、次のステップに従ってメッセージに挿入できます。 

1. [**コンテンツブロック詳細**] セクションから**コンテンツブロック Liquid タグ**をコピーします。
2. コンテンツブロック Liquid タグをメッセージに挿入します。Liquid の入力を開始して、タグを自動入力することもできます。

### 知っておくべきこと

- ドラッグアンドドロップメールでHTML コンテンツブロックを使用する** または** HTML メールのコンテンツブロックをドラッグアンドドロップすると、予期しないレンダリングの問題が発生する可能性があります。これは、ドラッグアンドドロップエディタがコンテンツを動的にレンダリングするHTML とCSS を生成するのに対し、HTML エディタの方が静的であるためです。
- キャンバスイベントプロパティは、キャンバスでのみサポートされています。キャンペーンのキャンバスエントリプロパティを使用してコンテンツブロックを参照する場合、そのコンテンツブロックには入力されません。

### コンテンツブロックの更新とコピー

コンテンツブロックを更新することを選択した場合、Liquid 経由でコンテンツブロックが挿入された場合、そのコンテンツブロックが使用されているすべてのメッセージで更新されます。ドラッグ＆ドロップエディターの [**行**] にある [**コンテンツブロック**] ドロップダウンを使用してコンテンツブロックをインポートした場合、すべてのメッセージで更新されるわけではありません。

1つのメッセージのコンテンツブロックを更新したり、他のメッセージで使用するためにコピーを作成したりする場合は、元のメッセージから HTML を新しいメッセージにコピーするか、元のコンテンツブロック (メッセージで既に使用されている必要があります) を編集して保存することができます。新しいコンテンツブロックとして保存するためのプロンプトが表示されます。

コンテンツブロックを編集したら、**Launch Content Block** を選択して、更新されたコンテンツブロックを保存して起動できます。または、[**その他**] > [**複製**] を選択して、コンテンツブロックの複製を作成することもできます。

\![を読むコンテンツブロック;ニュースレター&quotへようこそ;。]({% image_buster /assets/img/copy-content-block.png %})

コンテンツブロックを[複製]({{site.baseurl}}/user_guide/engagement_tools/templates_and_media/managing_templates/)することもできます。これにより、コンテンツブロックのドラフトコピーが作成されます。

### コンテンツブロックのプレビュー

アクティブなキャンペーンまたはキャンバスにコンテンツブロックを追加したら、コンテンツブロックにカーソルを合わせて<i class="fa fa-eye preview-icon"></i>**プレビュー**アイコンを選択すると、コンテンツブロックライブラリからこのコンテンツブロックをプレビューできます。 

このプレビューには、コンテンツブロックの作成者、タグ、作成日、最終編集日、説明、エディタータイプ、詳細のある包含数、コンテンツブロックの実際のプレビューなど、コンテンツブロックに関する情報が含まれます。

\![コンテンツブロック"Workout_Promo" のプレビュー。6 つのインクルードを含むサイクリングおよびダンス用。]({% image_buster /assets/img/preview_tab_content_block.png %}){: style="max-width:60%;"} 

### コンテンツブロックをネストする

コンテンツブロックはネストできますが、ネストできるのは一度だけです。コンテンツブロックAをコンテンツブロックBにネストすることはできますが、コンテンツブロックBをコンテンツブロックCにネストすることはできません。

{% alert warning %}
コンテンツブロックの3番目のレベルをネストすることを妨げるものは何もありませんが、ネストされたコンテンツが2番目のレベルを超えて展開されることはありません。コンテンツと Liquid スニペットがメッセージから削除されます。
{% endalert %}

さらに、コンテンツブロックはメールフッター内では使用できませんが、メールフッターはコンテンツブロック内で使用できます。

### コンテンツブロックのアーカイブ

\![拡張設定] ドロップダウンメニューには次の3つのオプションが表示されます。アーカイブ、複製、ワークスペースにコピー。]({% image_buster /assets/img/template_archive_cog.png %}){: style="max-width:20%;float:right;margin-left:15px;" }

コンテンツブロックの使用が終了したら、[Templates & Media]({{site.baseurl}}/user_guide/engagement_tools/templates_and_media/managing_templates/) ページからアーカイブできます。アーカイブされたコンテンツブロックは読み取り専用なので、編集する前にコンテンツブロックをアーカイブ解除してください。コンテンツブロックは、いずれかのメッセージで使用されている場合はアーカイブできません。

#### ベストプラクティス

- ブロックが少数のメールでのみ使用される場合は、古いブロックをアーカイブし、アーカイブされていない新しいブロックでライブメッセージを更新することをお勧めします。
- ブロックにタイプミスがあるだけの場合や小さな変更しか必要でない場合は、ブロックをアーカイブすることはお勧めしません。代わりに、ブロックを更新し、送信しましょう!
- このリストの最初の提案で合理的に管理できる数よりも多くのメッセージでブロックが使用されている場合は、ブロックからすべてのコンテンツを削除してアーカイブすることをお勧めします。これにより、新しく送信されるメールに古い情報が含まれることがなくなります。
- コンテンツブロックを誤ってアーカイブした場合は、アーカイブを解除できます。

\![保存されたコンテンツブロックパネル。"Test_32" の設定ドロップダウンメニューが展開され、次の3 つのオプションが表示されます。アーカイブ解除、複製、ワークスペースにコピー]({% image_buster /assets/img/unarchive-content-block.png %})

