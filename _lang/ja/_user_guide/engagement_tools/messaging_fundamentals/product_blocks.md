---
nav_title: 製品ブロック
article_title: ドラッグアンドドロッププロダクトブロック
page_order: 7.5
description: "このリファレンス記事では、ドラッグアンドドロップ製品ブロックについて説明します。これにより、ユーザーはカタログアイテムの動的または静的なショーケースをすばやく追加および構成できます。"
tool:
    - Campaigns
    - Canvas
alias: /dnd_product_blocks/
---

# 製品ブロックのドラッグ&ドロップ 

> ドラッグ＆ドロップエディターでは、カスタムの Liquid コードを作成しなくても、メッセージに製品ブロックをすばやく追加、設定できます。 

{% alert important %}
製品ドラッグ＆ドロップブロック機能は早期アクセス段階であり、現時点ではメールでのみ使用できます。早期アクセスへの参加に興味がある方は、Brazeのアカウントマネージャーに連絡を。
{% endalert %}

## 要件 

| 要件 | 説明 |
| --- | --- |
| e コマースの推奨イベント | [eコマース推奨イベント]({{site.baseurl}}/ecommerce_events/)は、注文の前後に発生する主要な行動イベントの標準化されたデータスキーマを提供します。これらのイベントは、最終的には従来の Braze 購入イベントを置き換えるものであり、商取引関連の行動を追跡するための標準となる予定です。<br><br> e コマースの推奨イベントは、ダイナミックな製品ブロックに必要です。<br><br> e コマースの推奨イベントは現在、早期アクセス段階です。早期アクセスに参加したい場合は、Braze カスタマーサクセスマネージャーにお問い合わせください。 |
| eコマースキャンバスのテンプレート | e コマースの推奨イベントは、閲覧の放棄、カート放棄、注文確認などの必須ユースケース向けに設計された e コマースキャンバステンプレートを含む、事前に作成されているテンプレートをサポートしています。<br><br>[eCommerce Canvas テンプレート]({{site.baseurl}}/ecommerce_use_cases/)を使用して、これらの必須eCommerce ユースケースのいずれかを実装する場合は、提供されているCanvas テンプレートを使用するか、それに従う必要があります。 |
| Braze カタログ | 以下のフィールドを含むBrazeカタログを作成し、製品ブロック構成で使用する必要がある：{::nomarkdown}<code><ul><li>product_title</li><li>product_url</li><li>variant_image_url</li></ul></code>{:/} |
| カタログ選択 | 静的製品ブロックの場合、[カタログセレクションを]({{site.baseurl}}/user_guide/data/activation/catalogs/selections/)作成して、製品ブロックに含める製品を指定する必要がある。 |
{: .reset-td-br-1 .reset-td-br-2 role=“presentation” }

## ドラッグアンドドロップ製品ブロックの種類

| 製品ブロック | 目的 | ユースケース | 可用性 |
| --- | --- | --- | --- |
| ダイナミック | [eCommerce 推奨イベント]({{site.baseurl}}/ecommerce_events/)および[eCommerce Canvas テンプレート]({{site.baseurl}}/ecommerce_use_cases/)内のカタログを使用して、顧客とのやり取りに基づいて製品のショーケースでメッセージをカスタマイズします。 | {::nomarkdown}<ul><li>閲覧の放棄</li><li>カート放棄</li><li>購入手続き放棄</li><li>注文確認</li></ul>{:/} | キャンバスでのみ使用できます。 |
| 静的 | Brazeカタログに保存されたデータを使って商品をパーソナライズする。どの製品を含めるかを指定するには、[カタログセレクションを]({{site.baseurl}}/user_guide/data/activation/catalogs/selections/)使用しなければならない。 | 新製品の発売やカテゴリ別のオファリングを紹介するのに最適です。| |
{: .reset-td-br-1 .reset-td-br-2 .reset-td-br-3 .reset-td-br-4 role=”presentation” }

## 製品ブロックのコンテンツ設定

各ブロックタイプには、異なるコンテンツ設定があります。 

### 製品フィールド

**Product Fields** セクションで、製品ブロックタイプを選択し、各製品に含めるフィールドを切り替えます。各フィールドは、選択した製品ブロックのタイプに基づいて、異なるソースからプルされます。

#### ダイナミック製品ブロック

| 製品フィールド | ソース |
| --- | --- | 
| バリアント画像 | カタログ | 
| 製品名 | カタログ | 
| 製品 URL のボタン | カタログ |
| 価格 | e コマースの推奨イベントのプロパティ|
| 数量 | e コマースの推奨イベントのプロパティ| 
{: .reset-td-br-1 .reset-td-br-2 role=“presentation” }

![ダイナミックな商品ブロックの商品フィールド。カタログデータとイベントデータに分けられる。]({% image_buster /assets/img/product_blocks/dynamic_fields.png %}){: style="max-width:50%;"}

#### 静的製品ブロック

| 製品フィールド | ソース |
| --- | --- | --- |
| バリアント画像 | カタログ |
| 製品名 | カタログ |
| 製品 URL のボタン | カタログ |
| 価格 | カタログ |
{: .reset-td-br-1 .reset-td-br-2 .reset-td-br-3 role=“presentation” }

![静的商品ブロックの商品フィールドで、すべてカタログデータに分類される。]({% image_buster /assets/img/product_blocks/static_fields.png %}){: style="max-width:50%;"}

### レイアウトオプション

レイアウトオプションを使用して、製品ブロック内での製品の表示方法をカスタマイズします。

| オプション | 説明 |
| --- | --- |
| 製品の向き | ブロック内の画像フィールドと製品フィールドの向きを選択します。 |
| 位置揃え | ブロック内のテキストフィールドとボタンの配置を調整します。 |
| 行あたりの最大製品数 | 1 行につき最大3 つの製品を表示し、静的製品ブロックについては合計12 製品まで、動的製品ブロックについては合計24 製品まで表示します。 |
| 製品の間隔 | 製品の間隔を設定します。 |
{: .reset-td-br-1 .reset-td-br-2 role=“presentation” }

![製品の向き、配列、1行あたりの最大製品数、製品間隔のレイアウトオプション。]({% image_buster /assets/img/product_blocks/layout_options.png %}){: style="max-width:50%;"}

### グローバルメールスタイル設定 

[グローバルメールスタイル設定]({{site.baseurl}}/user_guide/message_building_by_channel/email/drag_and_drop/dnd_email_style_settings)では、Braze内のメールに一貫したスタイルを適用できます。つまり、すべてのメールに自動的に適用される特定のスタイル(フォント、色、ボタンデザインなど)を定義できます。

#### グローバルメールスタイル設定と製品ブロックの連携の仕組み

段落やボタンの既存のスタイルは、商品ブロック内のテキストやボタン要素に自動的に適用される。つまり、商品ブロックでは、段落やボタンに設定した書式が一貫して使用され、メール全体にまとまりが保たれる。

## 製品ブロックの設定

### カタログセットアップ 

{% alert important %}
[製品の同期]({{site.baseurl}}/shopify_catalogs/)のために Braze と Shopify の連携を使用している場合は、製品ドラッグ＆ドロップブロックを使用するために必要な追加の手順はありません。<br><br> 製品バリアント情報がない場合は、イベントペイロードおよびカタログ内の製品項目と製品バリアント項目の両方で、最上位の製品情報を複製する必要があります。つまり、製品ブロックが正しく動作するように整合性を維持するには、両方の識別子に同じ製品詳細を指定する必要があります。
{% endalert %}

ドラッグアンドドロップ製品ブロックを使用するには、特定の項目値を含むBraze カタログを設定する必要があります。これらのフィールドは製品ブロックの設定で使用する。カタログに次のフィールドが含まれていることを確認します。

| フィールド | 説明 |
| --- | --- |
|`product_title` | 製品のタイトル。|
|`product_url` | 顧客が製品を閲覧または購入できるURL。 |
|`variant_image_url` | バリアント画像の URL。 |

必要なフィールドを含むこの[サンプル製品カタログ]({{site.baseurl}}/assets/download_file/ecommerce_product_catalog_sample.csv)を使用して、作業をすぐに開始します。 

![必須フィールドに加え、その他のフィールドを含むCSVファイルのサンプル。]({% image_buster /assets/img/ecommerce/sample_product_catalog.png %})

#### カタログフィールドへのマッピング

カタログの**設定**タブで、**商品ブロックの**トグルを選択し、カタログの特定のフィールドや情報にマッピングすることができる。これにより、どのフィールドを商品タイトル、商品URL、画像写真URLとして使用するかを選択できる。Shopifyのカタログフィールドはデフォルトでマッピングされており、変更することはできない。

{% alert note %}
Shopifyを使用していない場合は、アカウントマネージャーに連絡してフィールドマッピングをオンにすることができる。これにより、任意のカタログを商品ブロックに接続し、そのフィールドを`product_title` 、`product_url` 、`variant_image_url` にマッピングすることができる。
{% endalert %}

## 製品ブロックの作成

このガイドでは、E メールのドラッグアンドドロップエディタを使用して、動的または静的な製品ブロックの作成、テスト、および機能性の確認を行う手順について説明します。

### ステップ1:メールキャンペーンまたはメールキャンバスステップを作成する

#### ダイナミック製品ブロック

{% alert note %}
ダイナミックプロダクトブロックには[eCommerceの推奨イベント]({{site.baseurl}}/ecommerce_events/)が必要で、[Canvases]({{site.baseurl}}/ecommerce_use_cases)内でのみ使用できます。Braze Shopify ユーザーの場合、これらのイベントは統合の一部として自動的に含まれます。Shopify以外のユーザーの場合は、開発者と協力してこれらのイベントをBrazeに渡し、イベント内の一次製品IDがカタログアイテムIDとして追加されるようにする必要があります。
{% endalert %}

特定のユースケースに使用可能な Braze テンプレートの1つを使用する新しいキャンバスを作成します。
- 閲覧の放棄
- カート放棄
- 購入手続き放棄
- 注文確認

eCommerce Canvaseの作成に関する詳細な手順については、[eCommerceのユースケース]({{site.baseurl}}/ecommerce_use_cases/)を参照してください。

#### 静的製品ブロック

ドラッグ＆ドロップメールキャンペーン、アクションベースのキャンバス、またはドラッグ＆ドロップメールのメッセージステップを含むテンプレートを作成します。

### ステップ2:製品ブロックの追加

{% tabs %}
{% tab Dynamic product block %}

メッセージステップ内で、メールを作成するか、ドラッグアンドドロップのメールコンポーザーを使用して既存のテンプレートを変更します。
製品ブロックをメールメッセージにドラッグします。
ダイナミックブロックタイプが選択されていることを確認します。
パーソナライズに使用する製品カタログを選択します。ターゲットとするインバウンドイベントの製品と一致していることを確認します。

{% endtab %}
{% tab Static product block %}

製品ブロックをメールメッセージにドラッグして、静的ブロックタイプを選択します。
製品ブロックに使用するカタログを選択します。商品ブロックに表示する商品を指定するには、カタログセレクションを選択する必要がある。

{% endtab %}
{% endtabs %}

![商品ブロックなどのエディターブロックを含む「コンテンツ」タブ。]({% image_buster /assets/img/product_blocks/product_block.png %}){: style="max-width:40%;"}

### ステップ 3:製品フィールドの設定

製品ブロックに表示する[製品フィールド](#product-fields)を選択します。変更を行うたびに [**設定を適用**] を選択して、エディターで更新内容を確認します。 

Liquid タグの前でテキストをカスタマイズすることもできます。例えば項目の価格にドル記号 ($) を付加したり、数量を示す用語を「amount」または使用したい他のラベルに更新したりできます。

![商品価格の前にドル側が付加された商品ブロック。]({% image_buster /assets/img/product_blocks/liquid.png %}){: style="max-width:45%;"}

### ステップ 4: レイアウト設定の構成

製品ブロック内の製品の表示方法を更新するには、[レイアウトオプション](#layout-options)を変更し、変更後は必ず**Apply settings**を選択してください。

### ステップ 5: メッセージをプレビューしてテストする

{% tabs %}
{% tab Dynamic product block %}

1. **Preview& Test**セクションで、カスタムユーザーとしてメッセージをプレビューする。
2. プレビューでレンダリングする項目の数を指定します。
3. 正しい項目数が表示され、レイアウトオプションが正しく適用されていることを確認します。表示される項目はランダムに選択されることに注意してください。

!["ユーザーとしてプレビュー "タブにドロップダウン・セクション "ダイナミックな商品ブロック "を設け、4つのアイテムを表示するよう指定する。]({% image_buster /assets/img/product_blocks/preview_as_a_user.png %}){: style="max-width:40%;"}

{% endtab %}
{% tab Static product block %}

製品ブロックに変更を適用すると、ドラッグアンドドロップコンポーザー内にプレビューが生成されます。 

![ドラッグ＆ドロップで商品ブロックを生成するメールコンポーザー。]({% image_buster /assets/img/product_blocks/static_block_preview.png %})

{% endtab %}
{% endtabs %}

メッセージの作成が完了し、予想どおりに表示されることを確認したら、送信の準備が整いました。