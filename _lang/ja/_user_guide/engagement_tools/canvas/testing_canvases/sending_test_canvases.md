---
nav_title: テストキャンバスの送信
article_title: テストキャンバスの送信
page_order: 1
description: "この参考記事では、開始前にキャンバスをテストする方法とベストプラクティスを説明します。"
page_type: reference
tool: Canvas
---

# テストキャンバスの送信

> [キャンバスを作成]({{site.baseurl}}/user_guide/engagement_tools/canvas/create_a_canvas/create_a_canvas/)した後、オーディエンスのサイズやセグメンテーションフィルターの数などの詳細に応じて、開始前にいくつかの事項を確認することをお勧めします。

可能な限り、Braze はキャンバスを発売する前にテストすることを推奨しています。このテストは通常、Braze 環境で行います。キャンバスのテストには、キャンバスを複製し、テストユーザーをユーザージャーニーに誘導し、ユーザー行動がキャンバスで説明したものと一致するかどうかを確認することなどが含まれます。

## ステップ 1:テスト計画を作成する

キャンバスのテストを始める前に、テスト計画を必ず作成しなければなりません。テスト計画は、キャンバスジャーニーにおける特定の分野を特定し、追跡するのに役立ちます。

テスト計画を立てる際は、以下の質問を検討してください。
\- 各キャンバスブランチとパスに少なくとも 1 人のユーザーが作成されているか？
\- キャンバスで使用されているセグメントはあるか？
	\- セグメントを使用する場合、ユーザーがユーザージャーニーの対象となる前に、キャンバスに入る前提条件はあるか？
\- テストキャンバスのメッセージは、メッセージタイトルにユーザー ID やメールアドレスを引き込むリキッドが入っているか？

## ステップ 2: テストユーザーを特定する

次に、意図したユーザーに実際にメッセージを送信せずに、キャンバスのステップを通過するテストユーザーのセットを特定します。テストユーザーは、Braze ダッシュボードの実際のサービスに使用されていない既存のメールアドレス、またはテスト目的のみに使用される新しいメールアドレスのどちらも可能です。 

## ステップ 3: キャンバスを設定する

次はキャンバスのテストだ！元のキャンバスとテスト用キャンバスの情報を整理するため、テスト用にキャンバスの複製を作成します。 

![][1]

この複製されたキャンバスで、キャンバスビルダーの**エントリオーディエンス**の部分を編集し、テストユーザーのみがキャンバスに参加できるようにします。また、**メールアドレス**のテストフィルターを追加することで、自分のメールアドレスをテストユーザーとして入力することもできます。 

以下の例では、キャンバスを、アプリを初めて使ってから 3 日以内の 2 人のテストユーザーに限定しています。

![][2]

## ステップ 4: テストを開始する

テストキャンバスを開始し、ユーザーが入り始めるようにします。次に、ユーザーをそれぞれのキャンバスジャーニーに送るアプリケーションのユーザーの動作を完成させます。 

テストユーザーがキャンバスのステップから意図したメッセージを受け取っていることを確認する。以下のような理由で、メッセージがテストユーザーに届かない場合もあります。

- グローバルコントロールグループの対象にならない
- 周波数の上限
- セグメントメンバーシップの不一致
- 中止されたメッセージ
- 異なるユーザーに関連付けられたプッシュトークン

キャンバスのテストを繰り返し、キャンバスが意図したとおりに機能することを確認します。

## 一般的なヒント

### キャンバスのステップを特定する

場合によっては、ユーザーはキャンバスを通過する際に複数のメッセージを受け取る可能性があります。テストのためにステップ間の遅延が大幅に短縮された場合、テスト中にどのメッセージがトリガーされるかが必ずしも明確ではありません。テストメッセージにステップ名またはユーザー ID (Liquid を使用) が含まれていることを確認すると、正しいメッセージが正しいユーザーに送信されたかどうかを簡単に識別して確認できるようになります。

### 内部グループを作成する

個別のテストユーザーを作成する代わりに、メッセージのコンテンツを確認することを目的とした内部グループである[コンテンツテストグループ]({{site.baseurl}}/user_guide/administrative/app_settings/developer_console/internal_groups_tab/)を作成できます。これには、キャンペーンやキャンバスからテストメッセージを受信するユーザーのグループが含まれます。次に、このテストグループを [**テスト受信者** ]の [**コンテンツテストグループを追加**] フィールドに追加できます。

### 時間の遅延を減らす

テストをより効率的に実行するために、テストの目的で時間遅延を数分または数秒に短縮し、メッセージをタイムリーに表示できるようにすることをお勧めします。例えば、特定のアクションを特定の Canvas ジャーニーに分離できるようにするには、テストの間に少なくとも 2 ～ 3 分を確保します。

### コンテンツブロックを活用する

テストフレームワークでコンテンツが繰り返される場合 (例えば、ユーザーをさまざまな Canvas ステップにフィルターする複雑な Liquid など)、この繰り返されるコンテンツを[コンテンツブロック]({{site.baseurl}}/user_guide/engagement_tools/templates_and_media/content_blocks#content-blocks)として保存してみてください。これで、個々の Canvas ステップ全体にコンテンツブロックを含められるようになります。

### Postman と Track ユーザーエンドポイントを使う

Postman と [Braze Postman Collection]({{site.baseurl}}/api/postman_collection/) を使ってテストを実行できます。[`/users/track`エンドポイント]({{site.baseurl}}/api/endpoints/user_data/post_user_track/)を使用し、さまざまなテスト ユーザーのカスタムイベントと購入を記録して追跡します。

ユーザートラック API へのデータの送信は外部 ID でのみ実行できることに注意してください。そのため、特定のエラーをさらに調査できるように、Braze ダッシュボードの内部グループ内のテストユーザーとしてテストユーザーを追加する必要がある場合があります。 

#### 複数のブランチをテストする

さまざまな属性とイベントに基づいてユーザーをターゲットとする複数のブランチを持つキャンバスをテストする場合は、次のテスト計画に従ってください。

1. 各ブランチについて、Canvas ジャーニーに含まれるためにユーザーが持つ必要がある属性とイベントを特定します。
2. それらを JSON ペイロードにビルドし、`/users/track` エンドポイントを使用して投稿します。

[1]: {% image_buster /assets/img_archive/canvas_test1.png %}
[2]: {% image_buster /assets/img_archive/canvas_test2.png %}