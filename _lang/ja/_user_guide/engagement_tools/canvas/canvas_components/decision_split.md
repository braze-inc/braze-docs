---
nav_title: 条件分岐 
article_title: 条件分岐 
alias: /decision_split/
page_order: 2
page_type: reference
description: "この記事では、キャンバスで条件分岐を作成して使用する方法について説明します。"
tool: Canvas

---

# 条件分岐 

> キャンバスの条件分岐コンポーネントを使用すると、パーソナライズされたリアルタイムのエクスペリエンスをユーザーに提供できます。 

このコンポーネントを使用して、ユーザーがクエリに一致するかどうかに基づいてキャンバスブランチを作成することができます。
![][1]{: style="float:right;max-width:20%;margin-left:15px;margin-top:15px;margin-bottom:15px;"}

## 条件分岐を作成する 

ワークフローで条件分岐を作成するには、まずキャンバスにステップを追加します。サイドバーからコンポーネントをドラッグ＆ドロップするか、ステップの一番下にある <i class="fas fa-plus-circle"></i> プラスのボタンを押して、[**条件分岐**] を選択します。

### 分岐方法を定義する

ユーザーの分岐方法を決めます。[セグメント][5] とフィルターを使用してユーザーを振り分けることができます。基本的には、ユーザーを評価し、絞り込んで次のステップに送る `true` / `false` のクエリを作成します。少なくとも 1 つのセグメントまたは 1 つのフィルターを使用する必要があります。セグメントとフィルターの両方を使用する必要はありません。

![][2]{: style="max-width:90%;"}

{% alert note %}
デフォルトでは、遅延を追加しない限り、条件分岐コンポーネントのセグメントとフィルターは前のステップを受信した直後にチェックされます。
{% endalert %} 

## 分岐を使用する

条件分岐を使用すると、ユーザーのセグメントや属性に基づいてユーザーのパスを区別するのに役立ちます。これには、ユーザーが特定のメッセージングチャネルを使用してメッセージを受信しているかどうかも含まれます。

例えば、オンボーディングのフローを作成するとします。サインアップ時のウェルカムメールから始めることにします。次に、2 日後にプッシュメッセージを送信しますが、これはプッシュが有効になっているユーザーにのみ送信します。その後、すべてのユーザーが、サインアップしてから 3 日後に別のメールを受け取ります。ここで、条件分岐を使用して、プッシュを有効にしていないユーザーにアプリ内メッセージを送信し、プッシュを有効にするよう促すこともできます。

![][3]{: style="max-width:60%;"}

パスに後続のステップがない場合、そのパスをたどるユーザーはキャンバスから退出します。 

{% alert important %}
条件分岐にフルステップの兄弟ステップを含めることはできません。つまり、フィルターステップとフルステップに分岐するようなフルステップは作成できません。この制限が存在するのは、フィルターステップとフルステップを持つブランチがある場合、ユーザーがどちらのブランチに進むかが明確でないためです。
<br>
フィルターステップは、次の 1 つのステップにのみ接続できます。
{% endalert %}

## 分析

このステップの分析の説明については、次の表を参照してください。

| 指標 | 説明 |
|---|---|
| 入力済み | ステップに入った合計回数。キャンバスに再適格性があり、ユーザーが条件分岐コンポーネントに 2 回入った場合、2 つのエントリが記録されます。 |
| はい | 指定された基準を満たし、「はい」のパスに進んだエントリの数。 |
| いいえ | 指定された基準を満たさず、「いいえ」のパスに進んだエントリの数。 |
{: .reset-td-br-1 .reset-td-br-2}

[1]: {% image_buster /assets/img/decision-split-1.png %}
[2]: {% image_buster /assets/img/define-split-2.png %}
[3]: {% image_buster /assets/img/use-split-onboarding-3.png %}
[5]: {{site.baseurl}}/user_guide/engagement_tools/segments/
