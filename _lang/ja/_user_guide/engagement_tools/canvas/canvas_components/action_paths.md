---
nav_title: アクションパス
article_title: アクションパス 
alias: /action_paths/
page_order: 0.1
page_type: reference
description: "この記事では、行動に基づいてユーザーを並べ替えることができるコンポーネント、アクションパスの使い方を説明します。"
tool: Canvas
---

# アクションパス 

> キャンバスのアクションパスでは、ユーザーをそのアクションに基づいて並べ替えることができます。 

![キャンバスユーザーの移動でのアクションパスのステップ。]({% image_buster /assets/img/canvas_actionpath.png %}){: style="float:right;max-width:40%;margin-left:15px;"}

アクションパスを使用して、次のことを行えます。

* ユーザーエンゲージメントイベントやカスタムイベントなど、特定のアクションに基づいてユーザーパスをカスタマイズする。
* 指定期間中、ユーザーを保持し、この評価期間中のユーザーのアクションに基づいて、ユーザーの次のパスに優先順位を付ける。

## アクションパスの作成

アクションパスを作成するには、キャンバスにコンポーネントを追加します。サイドバーからコンポーネントをドラッグアンドドロップするか、ステップの下部にある<i class="fas fa-plus-circle"></i> プラスボタンを選択し、**Action Paths** を選択します。

### アクション設定

**Action Settings**で、**Evaluation Window**を設定して、ユーザーがステップに保持される期間を決定します。デフォルトでは、ユーザーが 1 日以内に評価されますが、キャンバスに応じて、この時間枠を秒、分、時間、日、週単位で調整できます。アクションパスの大評価期間は31 日間です。

[**アクション設定**] で、[**ランクに基づいてユーザーを先に進める**] トグルをオンにすることで、コンポーネントのランク付けされた順序をオンにすることもできます。

![評価ウィンドウが1 日のアクション設定。]({% image_buster /assets/img/actionpath_settings.png %})

デフォルトでは、**ランク**がオフになっています。ユーザーがアクションパスに入り、アクショングループにアタッチされたトリガーイベントを実行すると、関連するアクショングループをただちに実行します。ユーザーがトリガーの行動を実行しない場合は、評価期間の終了時にデフォルト**Everyone Else** グループに進みます。

[**ランクに基づいてユーザーを先に進める**] がオンの場合、**ランク**がオンになっています。したがって、すべてのユーザーs は評価ウィンドウの最後まで保持されます。評価期間の終わりに、ユーザーsは、評価期間の終わりに適格である最優先のアクション群に進みます。評価ウィンドウでアクションs を実行しないユーザは、デフォルト**Everyone Else** グループに進みます。

階層化カスタム属性オブジェクトが変更されたときにアクションパスをトリガーできますが、階層化カスタム属性sの配列やオブジェクト配列データ型への変更はできません。

#### アプリ内メッセージ

アクション群トリガーがセッションを開始し、次回のステップがアプリ内メッセージである場合、2つのセッションを実行してアプリ内メッセージを受信する必要があることに注意してください。最初のセッションはアクションパス内のアクショングループにユーザーを割り当て、2 番目のセッションがアプリ内メッセージをトリガーします。

#### ランクステータスの例

ここでは評価期間が 1 日で、行動グループが 2 つあるアクションパスを想定し、これをグループ 1 とグループ 2 とします。グループ 1 には「セッションを開始」というトリガーイベントがあり、グループ 2 には「購入」というトリガーイベントがあります。**ランク**がオンになっている場合、アクションパスに含まれるすべてのユーザーは 1 日間「保持」されます。1 日の終わりに、ユーザーがセッションを開始し、購入した場合、最高ランクのパスに進みます。ここではユーザーがグループ 1 に進みます。 

前述の例では、**Ranking** が無効で、ユーザーがトリガーのイベント("Start Session"または"Purchase") のいずれかを実行した場合、そのユーザーは、トリガー アクションに基づいて関連するアクショングループで進められます。

キャンバスエントリのプロパティは、イベントのプロパティとは異なることに注意してください。キャンバスエントリのプロパティは、キャンバスをトリガーしたイベントのプロパティです。これらのプロパティは、元のキャンバスワークフローを使用する場合にキャンバスの最初のフルステップでのみ使用できます。キャンバスを使用すると、永続的なエントリプロパティーが有効になり、キャンバス全体でエントリプロパティーを再利用できるようになります。逆に、イベントプロパティは、ユーザーがワークフローを進行する中で発生するイベントやアクションに由来しています。

### アクショングループ

1 つまたは複数のトリガーを追加して、アクショングループを定義します。ここでは、ユーザー s などのトリガーs を選択できます。

- 購入する
- セッションの起動
- [カスタムイベント]({{site.baseurl}}/user_guide/data/custom_data/custom_events/)の実行
- コンバージョンイベントの実行
- メール宛先を追加する
- カスタム属性を変更します(配列を含み、階層化カスタム属性s は含みません)。これには、初めて(属性が以前に存在しなかった) ユーザープロファイルに、新しい属性を追加することも含まれます。
- サブスクリプション ステータスまたはサブスクリプショングループ ステータスをアップデートする
- キャンペーンまたはコンテンツカードとのやり取り
- 場所を入力
- ジオフェンスのトリガー
- SMSまたはWhatsApp受信メールを送信する

![「&quot」、「Group 1&quot」という名前のアクショングループ。購買を行うユーザー用。]({% image_buster /assets/img/actionpath_group.png %})

それぞれのアクショングループ設定で、チェックボックス**このグループがキャンバス**を終了するように選択することもできます。つまり、このグループ内のユーザーは、評価期間の終了時にキャンバスを終了します。

### 再適格性を伴うキャンバス

ユーザーがアクションパスを複数回入力し、同時にアクションパスに複数のエントリがある場合、期待される動作は**ランキング**ステータスによって異なる。

| ランキングステータス | アクションパスの動作 |
|---|--------------|
| **オフ** | 関連するアクションが実行されると、Brazeはエントリーを重複排除し、関連するアクショングループを介して最も早いエントリをただちに進めます。<br><br/> 該当するアクションが実行されていない場合は、該当する評価ウィンドウの最後にすべてのエントリーが進みます。重複排除は発生しません。 |
| **オン** | すべてのエントリは、関連する評価ウィンドウの最後に進みます。重複排除は発生しません。 |
{: .reset-td-br-1 .reset-td-br-2 role="presentation" }

なお、ランクを[開始後に編集]({{site.baseurl}}/post-launch_edits/)することはできません。
