---
nav_title: トラブルシューティング
article_title: キャンバスのトラブルシューティング
page_order: 11
page_type: reference
description: "このページでは、キャンバスに関するトラブルシューティングの手順を説明します。"
tool: Canvas
---

# キャンバスのトラブルシューティング

> このページは、キャンバスのトラブルシューティングに役立ちます。

## トリガーされたキャンバスステップがユーザーに届かなかったのはなぜですか?

まず、カスタムイベントがBrazeに渡されていることを確認する。**Analytics**> **カスタムイベントレポート**に移動し、それぞれのカスタムイベントと日付範囲を選択します。イベントが表示されない場合は、正しく設定されているか、ユーザーが正しいアクションを行ったかを確認する。

カスタムイベントが表示される場合は、さらに以下の方法でトラブルシューティングを行う：

- ユーザープロファイルのダウンロードをチェックして、イベントがトリガーされたことと、イベントがいつトリガーされたかを確認します。イベントがトリガーされている場合は、イベントがトリガーされた時点のタイムスタンプを、キャンバスが有効になった時点と比較します。このイベントは、キャンバスが有効になる前にトリガーされた可能性があります。
- カスタムイベントがトリガーされたときにユーザーがセグメンテーションにいたかどうかを判断するために、キャンバスおよびターゲティングに使用されたセグメントの変更ログを確認する。ユーザーがセグメントに含まれていなかった場合、キャンバスステップを受け取っていません。
- ユーザーがセグメンテーションによってコントロールグループに登録され、その結果キャンバスステップを受け取ることができなかったかどうかを確認します。
- スケジュールされた遅延がある場合は、遅延が発生する前にユーザーのカスタムイベントがトリガーされていたかどうかを確認します。遅延前にイベントがトリガーされていた場合、ユーザーはキャンバスステップを受け取っていません。

{% alert note %}
アプリ内メッセージは、REST API ではなく、SDK 経由で送信されたイベントによってのみトリガーできます。
{% endalert %}

## なぜキャンバスが期待どおりに送信しないのですか?

キャンバスは堅牢かつ複雑であり、作成する際には多くの時間と注意を要します。そのため、キャンバスが目的の方法を送信していないことがわかった場合は、キャンバスのスケジュール、エントリ オーディエンス、およびエントリ 設定s を確認し、[キャンバスを作成するステップs を確認することをお勧めします。

### スケジュール

- キャンバスは[正しくスケジュール]({{site.baseurl}}/user_guide/engagement_tools/canvas/create_a_canvas/create_a_canvas/#entry-schedule-types)されていますか?
- 正しい日付と時間を選択しましたか?
- キャンバスを起動してから、[アクションベースの配信]({{site.baseurl}}/user_guide/engagement_tools/canvas/create_a_canvas/create_a_canvas/?tab=action-based%20delivery#entry-schedule-types)のために、ユーザーが指定されたアクションを実行しましたか?

### エントリ設定

[エントリ設定]({{site.baseurl}}/user_guide/engagement_tools/canvas/create_a_canvas/create_a_canvas/?tab=basics#selecting-entry-controls)は、キャンバスの送信方法を理解するために重要です。キャンバスにエントリする可能性のある人数を制限しているかどうかを確認してください。

メッセージを受信する資格がなくなったユーザーは、キャンバスを終了することもできます。例えば、キャンバスにプッシュ通知のみが含まれている場合、最初のステップを受信した後にプッシュ通知をオプトアウトしたユーザーはキャンバスから離脱します。[異なるキャンバスステップ]({{site.baseurl}}/user_guide/engagement_tools/canvas/canvas_components/about/)を使用して、代わりのユーザー ジャーニーを追加することを検討してください。

### オーディエンスをセグメント化する

ターゲットオーディエンスに関する次の質問を考慮します。

- 正しいセグメントを選択しましたか?
- セグメントはどのように設定されていますか?
- Segmentにユーザーsが含まれていることを確認しましたか?
- キャンバスにエントリするユーザーの数を制限するフィルターを追加しましたか?
- ユーザーがバリアントの最初のステップを受信する条件を満たしていますか? 例えば、キャンバスの最初のステップがプッシュ通知で、エントリオーディエンスがすべてプッシュ通知無効である場合、ユーザーはメッセージを受信しません。

## なぜ私のオーディエンスはコントロールグループとバリアントの間で均等に分かれなかったのですか？

キャンバスを作成するときに、次の[ユースケース](#use-case)のように、オーディエンスがコントロールグループとバリアントの間で均等に分割されることが予想される場合があります。それがなぜなのか、どのように修正するのかを話し合いましょう！

ユーザーが参加するグループは、ユーザーの設定によって異なる。これは、コントロールグループとバリアントグループのいずれかになります。ユーザーは、[入力ステップ]({{site.baseurl}}/user_guide/engagement_tools/canvas/create_a_canvas/create_a_canvas/?tab=entry%20schedule#step-12-determine-your-canvas-entry-schedule)で定義されたすべての基準に合うとキャンバスに入ります。キャンバスを設定するとき、各バリアントとコントロール・グループに入るユーザーの割合を定義する。

コントロールグループが意図せずバリアントグループよりも大きくなった場合は、以下をお勧めします。
1. エントリ オーディエンス フィルターを**is Foreground Push Enabled**に設定します。
2. **Push Subscription Status**、**Email Subscription Status**、またはその両方のエントリ オーディエンス フィルターを**Opted In**または**Subscribed**に設定します。

コントロールグループを使用してキャンバスを作成する場合は、エントリ オーディエンス内のすべてのユーザーがキャンバス内でメッセージを受信できることを確認します(キャンバスにはプッシュメッセージやメールメッセージが含まれているなど)。

### ユースケース

次のようなシナリオを想像してみよう：
- キャンバスには単一変異体と対照群がある。
- バリアントの最初のステップはプッシュ通知だ。
- ユーザーの90% がバリアント、10% がコントロールグループにエントリするよう選択されました。

![バリアントが90%、コントロールグループが10%のキャンバスサンプル。]({% image_buster /assets/img_archive/trouble15.png %})

このシナリオでは、キャンバスにエントリするユーザーの90% がバリアントにエントリします。 

アクティブユーザーs を振り返ると、29.8k ユーザー s が含まれているにもかかわらず、64% しかプッシュが有効になっていないことがわかります。

!["Push Enabled" フィルターが"true"および推定ユーザーsが29.8kに設定されたセグメント。]({% image_buster /assets/img_archive/trouble16.png %})

つまり、90％のユーザーがバリアントを入力するように指定したにもかかわらず、それらのユーザー全員が実際にプッシュ通知を受け取れるわけではないということだ。プッシュ通知を受信できないこれらのユーザーも、バリアントにエントリします。