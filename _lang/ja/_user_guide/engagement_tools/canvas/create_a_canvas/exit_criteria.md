---
nav_title: 終了条件 
article_title: 終了条件 
page_order: 4.1
alias: /exit_criteria/
page_type: reference
description: "このリファレンス記事では、終了基準と、ユーザーが選択した基準に基づいてキャンバスを終了する方法について説明する。"
tool: Canvas
---

# 終了条件

> 例外イベントをキャンバスのエントリルールに直接追加することで、ユーザーはステップの最後に例外イベントが発生するとすぐにキャンバスを終了することができる。これは、キャンバスのメッセージングにおいて、ターゲットをさらに絞ったアプローチを実現するのに役立ちます。

## 退団基準の設定

キャンバスフロービルダーの**ターゲットオーディエンス**ステップでは、キャンバスから退出させるユーザーを特定するための終了条件を設定できます。 

終了条件には例外イベントが含まれます。例外イベントは、ユーザーがキャンバスから退出する結果となる可能性がある特定のアクションです。

![]({% image_buster /assets/img/exit_criteria.png %}) 商品を閲覧したが、まだカートに入れたり注文したりしていないユーザーを再度エンゲージするために設定された終了基準。{: style="max-width:90%;"}

### 例外イベントの選択 {#exception-events}

ユーザーが例外イベントをパフォーマンスすると、キャンバスから退出する。例外イベントは、ユーザーがキャンバスにいて、ユーザージャーニーを進んでいるときにのみトリガーされる点に注意してください。

新製品を宣伝するためにキャンバスを設定したとしよう。この場合、商品の購入が例外イベントとなる。こうすることで、ユーザーが購入した後、すでに購入した商品に関するメッセージを受け取ることがなくなります。例外イベントにより、メッセージングが適切でありパーソナライズされた状態に維持されます。

その他の例外イベントには以下のものがあります。

- 購入する
- セッションを開始する
- カスタムイベントの実行
- コンバージョンイベントの実行
- メールアドレスを追加する
- カスタム属性の値を変更する
- サブスクリプションステータスの更新
- サブスクリプショングループステータスを更新中
- キャンペーンに参加する
- 場所を入力する
- ジオフェンスのトリガー
- SMS インバウンドメッセージの送信
- WhatsAppの受信メッセージを送信
- LINEインバウンドメッセージを送信する
- カート更新済みイベントの実行
- チェックアウト完了済みイベントの実行
- チェックアウト開始済みイベントの実行

### セグメンテーションとフィルターを使う

また、終了条件にセグメントやフィルターを追加できます。つまり、セグメンテーションやフィルターにマッチしたユーザーはキャンバスから退出し、それ以降のメッセージングを受け取ることはない。 

例えばキャンバスの最初のステップが 5 日間の遅延ステップである場合、終了条件はこのステップの終了時に適用されます。したがって、ユーザーが終了条件を満たしている場合、5 日間が経過した時点で退出します。

{% alert note %}
配列属性は現在、例外イベントの終了基準としてサポートされていない。
{% endalert %}

## 例

例えば、まだバックパック用品会社で購入したことのないユーザーをターゲットにしたいとしよう。終了条件を設定するには、次のようにします。

1. 例外イベントとして [**購入**] を選択します。
2. [**トリガーを追加**] を選択します。 
3. [**セグメント**] で [**過去 1 日以内に使用した**] を選択します。これによりキャンバスの起動時に、購入を行ったユーザーがオーディエンスから除外されます。
4. **フィルターについては**、「**購買行動**」＞「**購買回数**」＞「**購入商品**」を選択する。
5. フィルターグループを`backpack-example exactly 1` に設定する。つまり、バックパック製品を購入したユーザーはキャンバスから退出することになる。

![例外イベントとして「何か購入する」が設定された終了条件。ユーザーが何らかの買い物をするとこのキャンバスから退出します。]({% image_buster /assets/img_archive/exit_criteria_example.png %}){: style="max-width:80%;"}


