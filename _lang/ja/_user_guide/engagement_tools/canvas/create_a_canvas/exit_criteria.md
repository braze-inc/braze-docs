---
nav_title: 終了条件 
article_title: 終了条件 
page_order: 4.1
alias: /exit_criteria/
page_type: reference
description: "このリファレンス記事では、終了基準と、ユーザーが選択した基準に基づいてキャンバスを終了する方法について説明する。"
tool: Canvas
---

# 終了条件

> 例外イベントをキャンバスのエントリルールに直接追加することで、ユーザーはステップの最後に例外イベントが発生するとすぐにキャンバスを終了することができる。これは、キャンバスのメッセージングにおいて、ターゲットをさらに絞ったアプローチを実現するのに役立ちます。

## 退団基準の設定

キャンバスフロービルダーの**ターゲットオーディエンス**ステップでは、キャンバスから退出させるユーザーを特定するための終了条件を設定できます。 

終了基準は、例外イベントを含む。例外イベントは、ユーザーがキャンバスを終了する原因となる特定のアクションである。

![商品を閲覧したものの、カートに入れたり注文したりしていないユーザーを再度エンゲージメントするために設定された終了基準。][1]{: style="max-width:90%;"}

### 例外イベントを選択する {#exception-events}

ユーザーが例外イベントをパフォーマンスすると、キャンバスから退出する。例外イベントは、ユーザーがキャンバスにいて、ユーザージャーニーを進んでいるときにのみトリガーされることに注意すること。

新製品を宣伝するためにキャンバスを設定したとしよう。この場合、商品の購入が例外イベントとなる。こうすることで、ユーザーが購入した後、すでに購入した商品に関するメッセージを受け取ることがなくなる。例外イベントは、あなたのメッセージングを適切かつパーソナライズされたものに保つ。

その他の例外イベントには以下のものがあります。

- 購入する
- セッションを開始する
- カスタムイベントの実行
- コンバージョンイベントの実行
- メールアドレスを追加する
- カスタム属性の値を変更する
- サブスクリプションステータスの更新
- サブスクリプショングループステータスを更新中
- キャンペーンに参加する
- 場所を入力する
- ジオフェンスのトリガー
- SMS インバウンドメッセージの送信
- WhatsAppの受信メッセージを送信
- LINEインバウンドメッセージを送信する
- カート更新済みイベントの実行
- チェックアウト完了済みイベントの実行
- チェックアウト開始済みイベントの実行

### セグメンテーションとフィルターを使う

また、終了基準にセグメンテーションやフィルターを追加することもできる。つまり、セグメンテーションやフィルターにマッチしたユーザーはキャンバスから退出し、それ以降のメッセージングを受け取ることはない。 

例えば、キャンバスの最初のステップが5日遅れのディレイステップであれば、このステップの終了時に終了基準が適用される。したがって、ユーザーが終了条件を満たしている場合、5 日間が経過した時点で退出します。

{% alert note %}
配列属性は現在、例外イベントの終了基準としてサポートされていない。
{% endalert %}

## 例

例えば、まだバックパック用品会社で購入したことのないユーザーをターゲットにしたいとしよう。退団基準を設定するには、次のようにする：

1. 例外イベントとして**Make Purchaseを**選択する。
2. **トリガーの追加を**選択する。 
3. **セグメンテーションでは**、**Used in last dayを**選択し、キャンバスのローンチ時に、購入したユーザーをオーディエンスから除外する。
4. **フィルターについては**、「**購買行動**」＞「**購買回数**」＞「**購入商品**」を選択する。
5. フィルターグループを`backpack-example exactly 1` に設定する。つまり、バックパック製品を購入したユーザーはキャンバスから退出することになる。

![例外イベントとして "Makes Any Purchase "を設定し、ユーザーが購入した場合、このキャンバスから退出する。][2]{: style="max-width:80%;"}


[1]: {% image_buster /assets/img/exit_criteria.png %}
[2]: {% image_buster /assets/img_archive/exit_criteria_example.png %}
