---
nav_title: 開始後にキャンバスを編集する
article_title: 開始後にキャンバスを編集する
page_order: 0
description: "この参考記事では、初回開始後にキャンバスで変更できるさまざまな側面について説明します。"
alias: "/post-launch_edits/"
page_type: reference
tool:
  - Canvas

---

# 開始後にキャンバスを編集する

> この参考記事では、初回開始後にキャンバスで変更できることについて説明します。

次の方法で、開始後にキャンバスを編集できます。

* ユーザージャーニーに新しいキャンバスのステップを挿入する
* 新しいバリアントと接続を追加する
* バリアントの分布を調整する
* すべてのキャンバスステップを停止または再開する

{% alert note %}
コントロールバリアントの分布は、開始後のみに減らせます。
{% endalert %}

キャンバスがどのワークフローで作成されたかに応じて、開始後のキャンバスは以下の編集が可能です。キャンバスが従来のキャンバスワークフローを使用している場合、開始後に編集するには、まずキャンバスフローに複製する必要があります。

ユーザージャーニーでは、以下を削除できます。

- [キャンバスのステップ]({{site.baseurl}}/user_guide/engagement_tools/canvas/canvas_components/about/)
- キャンバスのバリエーション 
- キャンバスのステップ間の接続

キャンバスのユーザージャーニーを編集・追加したい場合は、以下の事項が適用されます。

- まだキャンバスに入っていないユーザーは、新しく作成されたステップの対象となります。 
- キャンバスのエントリ設定でステップの再エントリを許可している場合は、新しく作成されたステップにすでに適合しているユーザーも再度エントリの対象となります。
- 現在開始されているキャンバスにいるが、新しいステップが追加されるユーザージャーニーのポイントに到達していないユーザーは、新しく追加されたステップを受け取る資格があります。 

[遅延]({{site.baseurl}}/user_guide/engagement_tools/canvas/canvas_components/delay_step/)または[アクションパス]({{site.baseurl}}/user_guide/engagement_tools/canvas/canvas_components/action_paths/)ステップを削除した場合、オプションで現在ステップで待機しているユーザーを別のキャンバスステップにリダイレクトすることができます。遅延の場合、ユーザーは遅延期間が終了するまでステップに留まります。アクションパスの場合、ユーザーは評価期間が終了するまでステップに留まります。

キャンバスの初回開始時に、Braze はキャンバス内の後続のすべてのメッセージではなく、そのユーザーがいるメッセージステップのユーザーをキューに入れます。開始後にキャンバスに編集を加えた場合、一部のユーザーはすでにキューに登録されており、変更は適用されません。キャンバスを停止し、複製した後、キャンバスを変更し、新しいバージョンを開始すると、キャンバスはすべてのユーザーを再評価します。

具体的な編集のユースケースについては、[ベストプラクティス](#best-practices)のセクションを参照してください。一般的に、予期しない動作が発生する可能性もあるので、ベストプラクティスとしては、ライブキャンバスの編集を避けることをおすすめします。

{% details Expand for original Canvas editor details %}

既存の接続は編集も削除もできず、既存の接続されたステップの間にステップを挿入することもできません。キャンバスのユーザージャーニーを編集・追加したい場合は、以下の事項が適用されます。

- まだキャンバスに入っていないユーザーは、新しく作成されたステップの対象となります。 
- キャンバスのエントリ設定でステップの再エントリを許可している場合は、新しく作成されたステップにすでに適合しているユーザーも再度エントリの対象となります。
- 現在開始されているキャンバスにいるが、ユーザージャーニーで新しく追加されたステップに到達していないユーザーは、新しく追加されたステップを受け取る資格があります。
- 延期期間ステップがキャンバスの最後のステップである場合、そのステップに到達したユーザーは自動的にキャンバスから昇格され、新しく作成されたステップは受け取りません。

{% alert important %}
キャンバスステップの [**遅延**] または [**時間枠**] 設定を更新すると、更新時点でそのステップにいるユーザーは、最初にステップに入ったときに割り当てられた遅延時間に従います。キャンバスに入る新しいユーザーと、そのステップのキューに入れられていないユーザーのみが、更新された時刻にメッセージを受信します。
{% endalert %}

キャンバスを停止しても、メッセージの受信を待っているユーザーは退出しません。キャンバスを再度有効にし、ユーザーがまだメッセージを待っている場合、ユーザーはメッセージを受け取ります (メッセージを送るべき時間が過ぎている場合は、メッセージを受け取りません)。

{% enddetails %}

## キャンバスの詳細

キャンバスの開始後に、以下のキャンバス設定と情報を編集できます。

* キャンバスの名前と説明
* チームとタグ
* エントリタイプ、スケジュール、コントロール
* サブスクリプションステータス
* レート制限
* フリークエンシーキャップ
* サイレント時間
* ターゲットオーディエンス

キャンバスの開始後:

- コンバージョンイベントは編集できない。 
- 次の手順は追加または削除できず、順番を変更してランクを調整することもできません。[オーディエンスパス]({{site.baseurl}}/user_guide/engagement_tools/canvas/canvas_components/audience_paths/)、[アクションパス]({{site.baseurl}}/user_guide/engagement_tools/canvas/canvas_components/action_paths/)、[実験パス]({{site.baseurl}}/user_guide/engagement_tools/canvas/canvas_components/experiment_step/)
  - **回避策1:**新しいオーディエンスパス、アクションパス、または実験パスを作成し、その新しいステップへのパスを再設定します。
  - **回避策2:**キャンバスを複製して編集します。

### 個々のステップ

キャンバスの個々のステップについては、開始後に以下の詳細を編集できます。

* 名前
* メッセージの内容
* トリガー
* オーディエンス
* 例外イベント
* 遅延（遅延ステップのみ）

ただし、ステップのスケジュールタイプとコントロールパーセンテージは開始後に編集できません。アクションパスとオーディエンスパスのステップでは、ランキングと評価期間は開始後に編集できません。

### キャンバスバリアントのパーセント

キャンバスの開始後は、コントロールバリアントをパーセントで減らすことしかできません。キャンバスでバリアントのパーセントを変更した場合、ユーザーが他のバリアントに再配布される可能性があることがわかります。

初回は、これらのユーザーは特定のバリアントがランダムに割り当てられ、その後キャンペーンを受け取ります。以降は、キャンペーンを受信するたびに（またはユーザーが再度キャンバスバリアントに入るたびに）、バリアントのパーセントが変更されない限り、同じバリアントを受信します。

バリアントのパーセントが変わると、ユーザーは他のバリアントに再配分されることがあります。再びパーセントを変更するまで、ユーザーはこれらのバリアントに留まります。ランダムバケット番号を `NOT` フィルターで絞り込んだブランチを使用しているキャンバスでは、ユーザーがユーザージャーニーで再度キャンバスに入る際に、毎回同じブランチを受け取るとは限りません。

#### コントロールグループ

バリアントのパーセントが変わらない限り、コントロールグループも変わりません。コントロールグループのパーセンテージが増減すると、以前にメッセージを受け取ったユーザーは、後の送信でコントロールグループに入れなくなり、コントロールグループのユーザーがメッセージを受け取ることもなくなります。

### ローカルの送信時間

ローカルの送信時刻に開始するようにスケジュールされたキャンバスは、スケジュールされた送信時刻の 24 時間前まで編集できます。この期間は「セーフゾーン」と呼ばれます。 

{% alert tip %}
完全に新しいキャンバスを作成するなどの大規模な編集を行う場合は、最初のキャンバスを受け取ったユーザーを除外し、タイムゾーンの送信を考慮して、キャンバスのスケジュール時間を再調整してください。
{% endalert %}

### バリアントを削除する

キャンバスからバリアントが削除されると、次のことが起こる：

- バリアント内のステップ（他のバリアントと共有しているものも含む）は削除される。 
- ステップ分析およびキャンバスのトップレベル分析（_総エントリー数_、_総エグジット数_、_コンバージョン率など_）が削除される。
- 削除されたバリアントのユーザーはステップから退出し、それに続くメッセー ジは送信されません。

### キャンバスエントリのプロパティ

キャンバスエントリプロパティは、送信時にステップにテンプレート化されません。つまり、キャンバスの起動後にキャンバスのエントリプロパティが編集されると、これらの変更はキャンバスに入ったユーザーにのみ適用されます。キャンバスでユーザーがキャンバスに再入場できる場合、再入場するユーザーは、更新されたキャンバスのエントリプロパティによって決定されます。

## ベストプラクティス

キャンバスを起動した後で編集または追加する場合は、次のベストプラクティスを確認してください。

{% alert important %}
通常、キャンバスが有効でユーザーをエンキューしている間は変更を行わないでください。
{% endalert %}

### 切断されたステップ

切断されたステップでキャンバスを開始し、開始後にキャンバスを保存することもできます。ワークフローからステップを切断する前に、保留中のユーザーのステップの分析ビューを確認することをお勧めします。

たとえば、ユーザーがキャンバスのワークフローの切断されたステップにいるとします。このユーザーは、次のステップがあれば、そのステップに昇格されます。ステップの設定によって、ユーザーがどのように昇格されるかが決まります。 

切断されたステップを作成・編集することで、キャンバスの残りの部分に直接接続することなく、独立したステップに変更を加えることができます。これは、キャンバスを再開する前にステップをテストするのに役立ちます。 

### 実験パスステップ

キャンバスにアクティブまたは進行中の勝者パスまたはパーソナライズされた パスの実験があり、アクティブなキャンバスを更新した場合、実験パス ステップそのものを更新した場合でも、実行中の実験は終了し、実験ステップは勝者パスまたはパーソナライズされた パスs を決定しません。実験を再開するには、既存の実験パスをを解除して新しい実験パスを開始するか、キャンバスを複製して新しいキャンバスを起動します。それ以外の場合、ユーザーs は最適化メソッドが選択されていないかのように、実験パスを通過します。

### 遅延

遅延のあるキャンバスの編集は、多少複雑です。そのため、キャンバスを編集する際は、以下の事項に注意してください。

遅延ステップの遅延を更新すると、キャンバスに新しく入ったユーザーと、そのステップのキューに入っていないユーザーだけが、更新された遅延時間でメッセージを受け取ります。

遅延のあるステップ (遅延やアクションパスなど) を削除し、そのユーザーを別のキャンバスステップにリダイレクトすると、ユーザーはステップの遅延の完了後にリダイレクトされます。例えば、1 日遅れの遅延ステップを削除し、そのユーザーをメッセージステップにリダイレクトするとします。この場合、ユーザーがリダイレクトされるのは、1 日の遅延の完了後です。

キャンバスに1つ以上の実験パスステップが含まれている場合は、ステップを削除すると、このステップの結果が無効になる場合があります。

### キャンバスを停止する

キャンバスを停止しても、ステップで待機しているユーザーは退出しません。キャンバスを再度有効にしても、ユーザーがまだ待っている場合、ユーザーはステップを完了し、次のステップに移ります。ただし、ユーザーが次のステップに進むべき時間を過ぎてしまった場合は、ユーザーはキャンバスから退出します。 

例えば、キャンバスフローのワークフローを使用して作成されたキャンバスが午後 2 時に開始するように設定されており、2 つのステップを持つ 1 つのバリアントがあるとします。 

ユーザーは午後 2 時 1 分にこのキャンバスに入り、同時に遅延ステップに入ります。つまり、ユーザーは午後 3 時 1 分に、ユーザージャーニーの次のステップ (メッセージステップ) に進むようスケジュールされることになります。午後 2 時 30 分にキャンバスを停止し、午後 3 時 30 分にキャンバスを再度有効にすると、午後 3 時 1 分を過ぎているのでユーザーはキャンバスから退出します。しかし、午後 2 時 40 分にキャンバスを再度有効にすると、ユーザーは午後 3 時 1 分にメッセージのステップに進みます。

## 知っておくべきこと

次の一般的な問題は、起動後にキャンバス内の他のコンポーネントを編集または追加することでトリガーできます。 

{% alert important %}
以下の問題は避けることができます。起動後にキャンバスを編集する必要がある場合は、キャンバスにすでに入力されているすべてのユーザーがユーザーの移動を完了したことを最初に確認することをお勧めします。また、少なくとも1 つのユーザーを処理済みのステップは削除しないことをお勧めします。
{% endalert %}

- 不明なレポートデータ(メッセージバリアントsが削除され、再追加された場合)
- ユーザが予想されるパスをフォローしていない
- 予期しない時間にメッセージが送信される
- 編集によってCurrentsのデータが上書きされないため、キャンバスステップs 間に不一致(削除のためキャンバスに存在しない`canvas_step_ids` など)が発生する場合があります。
- ユーザーは同じメッセージを2回受け取ることができます
- 既にレート制限されているため、受信を中止しました
  - ユーザーがキャンバスにディスパッチされると、ユーザーがディスパッチされたときにレート制限 アプリがキャンバスに横になり、アプリそのままユーザーに横になります。キャンバスが送信された後、レート制限はそのユーザーのために編集できないため、起動後にレート制限を増減しても、すでにディスパッチされているユーザーには影響しません。