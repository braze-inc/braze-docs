---
nav_title: キャンペーンコネクタ
article_title: キャンペーンコネクター
page_order: 2
tool: Campaigns
page_type: tutorial
description: "このハウツー記事では、キャンペーンコネクターとは何か、そして適切なタイミングでターゲットを絞った関連性の高いコンテンツを配信するための使い方について説明します。"

---
# キャンペーンコネクター

> キャンペーンコネクターは、ユーザーがアクティブなキャンペーンと対話したときにトリガーされるキャンペーンを作成できます。ターゲットを絞った適切なコンテンツを適切なタイミングで配信できます。

## CDI の仕組み

この機能により、アクティブなキャンペーンで以下のインタラクションを完了したユーザーをターゲットにすることができます。

- アプリ内のメッセージを見る
- アプリ内メッセージをクリックする
- アプリ内のメッセージボタンをクリックする
- メールをクリックする
- メールのエイリアスをクリックする
- メールを開く
- プッシュ通知を直接開く
- プッシュ通知ボタンをクリックする
- プッシュ通知ストーリーページをクリックする
- コンバージョンイベントを実行する
- メールを受け取る
- SMS を受信する
- 短縮 SMS リンクをクリックする
- プッシュ通知を受け取る
- Webhook を受け取る
- コントロールグループに登録されている
- コンテンツカードを見る
- コンテンツカードをクリックする
- コンテンツカードを閉じる

### 配信規定

ユーザーがキャンペーンとのインタラクションを完了した後、Campaign Connectorを使用してユーザーにメッセージを送信することはできない。例えば、マーケティングキャンペーンを9週間実施し、4週目の最初にCampaign Connectorを使用するフォローオンキャンペーンを設定した場合、フォローオンキャンペーンは、フォローオンキャンペーンが公開された後（4～9週目）にマーケティングキャンペーンと相互作用したユーザーにのみメッセージを配信する。従って、後続キャンペーンがターゲットとしているすべてのユーザーに確実に届くようにするためには、以下のことを行う必要があります。

- オリジナルのキャンペーンをドラフトとして設定する
- 後続キャンペーンを設定し、公開する
- オリジナルキャンペーンを公開する

これらの配信ルールは、コントロールグループに登録されているユーザー、メールを受け取っているユーザー、プッシュ通知を受け取っているユーザーをターゲットにしている場合に特に適しています。オリジナルキャンペーンを公開するとすぐにユーザーがコントロールグループに登録されるため、オリジナルキャンペーンを公開する前に後続キャンペーンを公開する必要があります。同様に、オリジナルキャンペーンを後続キャンペーンの前に公開した場合、多くのユーザーは後続キャンペーンが公開される前にメールやプッシュ通知を受け取る可能性があります。

## キャンペーンでキャンペーンコネクターを使用する

### ステップ 1: 新しいキャンペーンを作成する

ユーザーに送りたいメッセージを作成します。ユースケースに応じて、シングルチャンネルキャンペーンまたはマルチチャネルキャンペーンを選択できます。

### ステップ 2: インタラクションとターゲットキャンペーンを選択する

1. [[アクションベースの配信]({{site.baseurl}}/user_guide/engagement_tools/campaigns/building_campaigns/delivery_types/triggered_delivery/)] 選択し、[キャンペーンと対話] トリガーを選択して、アクティブなキャンペーンと対話するユーザーをターゲットにします。 
2. トリガーとなるインタラクションを選択します。 
3. その後、ターゲットにしたいアクティブなキャンペーンを選択します。

\![]({% image_buster /assets/img_archive/Campaign_Connector1.png %})

### ステップ 3: スケジュール遅延の設定と例外の追加（オプション）

スケジュール遅延を設定する場合、トリガーアクションに例外を追加することができます。たとえば、元のメールを開かなかったユーザーにメールキャンペーンを再送信したい場合があります。 このシナリオでは、トリガーとして「メールを受信」を選択し、1 週間のスケジュール遅延を設定することができます。そして、例外として「メールを開く」を追加することができます。今度は、元のメールを受け取ってから 1 週間以内に開封しなかったユーザーにメールを再送します。

\![]({% image_buster /assets/img_archive/Campaign_Connector3.png %})

例外イベントは、ユーザーが関連するメッセージの受信を待っている間だけトリガーされます。メッセージを待つ前にユーザーがアクションを実行した場合、例外イベントはトリガーされません。

### ステップ 4: キャンペーンを作成する

通常と同じようにキャンペーンの作成を続けます。特定のキャンペーンとインタラクションするユーザー全員に確実にメッセージを送りたい場合は、アプリの全ユーザーを含むセグメントをターゲットにするのがベストです。

## ユースケース

キャンペーンコネクターを使用して、アクティブなキャンペーンに参加する、または参加しないユーザーをターゲットにすることができます。

たとえば、送料無料を宣伝するプロモーションプッシュメッセージをクリックしたユーザーをターゲットにして、購入金額の 15％ オフを宣伝するプロモーションプッシュメッセージを送ることができます。

あるいは、オンボーディングのアプリ内メッセージでディープリンクをクリックしたユーザーに、追加機能を強調する別のアプリ内メッセージを送ってフォローアップすることもできます。 こうすることで、アプリケーションの機能についてもっと知りたいと思っているユーザーをターゲットにすることができる上、自分で機能を発見したいユーザーに迷惑がられるのを防ぐことができます。

キャンペーンコネクターは、カートを放棄したことを思い出させるプッシュ通知を受け取ったユーザーをターゲットにすることもできます。たとえば、通知を直接開かなかったユーザーに再送信したい場合があります。しかし、最初の通知を送った後に購入したユーザーには、通知が直接開かれていなくても、除外したいと思います。このユースケースは、「放棄カート」キャンペーンに「プッシュ通知を受信」トリガーを追加し、スケジュール遅延を設定して、「購入」と「プッシュ通知を直接開封」を例外として追加することで実現できます。

