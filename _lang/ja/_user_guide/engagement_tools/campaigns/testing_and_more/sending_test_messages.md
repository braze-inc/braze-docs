---
nav_title: テストメッセージの送信
article_title: テストメッセージの送信
page_order: 0
tool: 
  - Campaigns
page_type: reference
description: "この記事では、さまざまな Braze チャネルにテストメッセージを送信する方法と、カスタムイベントプロパティやユーザー属性を組み込む方法について説明します。"

---

# テストメッセージの送信

> ベストプラクティスとして、メッセージングキャンペーンをユーザーに送信する前に、これが正しく表示され、意図したとおりに動作するかどうかテストすることをお勧めします。Braze ダッシュボードのツールを使用して、選択したデバイスまたはチームメンバーへのテストメッセージを作成して送信できます。

{% alert important %}
テスト後は必ずキャンペーンの下書きを保存して、キャンペーンが削除されないようにしてください。メッセージを下書きとして保存しなくてもテストメッセージを送信することはできます。
{% endalert %}

## ステップ 1: テストユーザーを特定する

メッセージングキャンペーンをテストする前に、テストユーザーを特定することが重要です。これらのユーザーは、既存のユーザー ID やメールアドレス、またはメッセージングキャンペーンのテスト専用に使用される新規ユーザーのいずれでもかまいません。 

### オプション: コンテンツテストグループを作成する

テストユーザーを整理する便利な方法として、キャンペーンからテストメッセージを受け取るユーザーのグループを含む[コンテンツテストグループ]({{site.baseurl}}/user_guide/administrative/app_settings/internal_groups_tab/)を作成することができます。このテストグループは、キャンペーンの**コンテンツテストグループの追加**フィールドの**テストレシピエント**に追加し、個々のテストユーザーs を作成または追加せずにテストを開始できます。

## ステップ 2: チャネル固有のテストメッセージを送信する

テストメッセージを送信する手順については、それぞれのチャネルの次のセクションを参照してください。

{% tabs local %}
{% tab Email %}

1. メールメッセージの下書きを作成します。
2. **プレビューとテスト**を選択します。
3. **Test Send**タブを選択し、**個々のユーザーを追加s**フィールドにメールの住所またはユーザー IDを追加します。 
4. **Send Test**を選択して、下書きのed メールを受信トレイに送信します。

![テストメール]]({% image_buster /assets/img_archive/testemail.png %}){: style="max-width:40%;" }

{% endtab %}
{% tab Push %}

#### モバイルプッシュ

1. モバイルプッシュの下書きを作成します。
2. [**設定**] タブを選択し、[**ユーザーを個別に追加**] フィールドにメールアドレスまたはユーザー ID を追加します。
3. **Send Test**を選択して、下書きのメッセージを端末に送信します。

![テストプッシュ]]({% image_buster /assets/img_archive/testpush.png %})

#### Web プッシュ

1. Web プッシュを作成します。
2. [**テスト**] タブを選択します。 
3. **Send Test to Myself**を選択します。
4. **Send Test**を選択して、Web プッシュをウェブブラウザに送信します。

![試験Web プッシュ]]({% image_buster /assets/img_archive/testwebpush.png %})

Braze ダッシュボードからのプッシュメッセージをすでに受け入れている場合、プッシュは画面の隅に表示されます。それ以外の場合は、メッセージが表示されたら [**許可**] をクリックすると、メッセージが表示されます。

{% endtab %}
{% tab In-App Message %}

アプリ内とテストデバイスでプッシュ通知を設定している場合は、テスト用アプリ内メッセージをアプリに送信して、リアルタイムでどのように表示されるかを確認できます。 

1. アプリ内メッセージの下書きを作成します。
2. [**テスト**] タブを選択し、[**ユーザーを個別に追加**] フィールドにメールアドレスまたはユーザー ID を追加します。 
3. **Send Test**を選択して、プッシュメッセージをデバイスに送信します。

テスト用プッシュメッセージがデバイス画面の上部に表示されます。

![アプリ内テスト]]({% image_buster /assets/img_archive/test-in-app.png %})

プッシュメッセージを直接クリックして開くと、アプリが開いてアプリ内メッセージのテストを確認できます。このアプリ内メッセージのテスト機能では、ユーザーがテストプッシュ通知をクリックしてアプリ内メッセージをトリガーする必要があることに注意してください。そのため、テストプッシュ通知の配信を成功させるために、ユーザーには関連アプリでプッシュ通知を受信する資格が必要です。

{% endtab %}
{% tab Content Card %}

コンテンツカードを作成したら、テストコンテンツカードをアプリに送信して、リアルタイムでどのように表示されるかを確認できます。

1. コンテンツカードの下書きを作成します。
2. [**テスト**] タブを選択し、このテストメッセージを受信するコンテンツテストグループを少なくとも 1 つ、あるいは個々のユーザーを少なくとも 1 人選択します。 
3. **Send Test**を選択して、コンテンツカードをアプリに送信します。

![コンテンツカードのテスト]]({% image_buster /assets/img/contentcard_test.png %})

{% endtab %}
{% tab SMS/MMS %}

SMS または MMS メッセージを作成した後、スマートフォンにテストメッセージを送信して、リアルタイムでどのように表示されるかを確認できます。 

1. SMS または MMS メッセージの下書きを作成します。
2. [**テスト**] タブを選択し、このテストメッセージを受信するコンテンツテストグループを少なくとも 1 つ、あるいは個々のユーザーを少なくとも 1 人選択します。 
3. テストメッセージを送信するには、**Send Test**を選択します。

![コンテンツカードのテスト]]({% image_buster /assets/img/sms_test.png %})

{% endtab %}
{% tab Webhook %}

Webhook を作成した後、テスト送信を実行して Webhook の応答を確認できます。[**テスト**] タブを選択し、[**テストを送信**] を選択して、指定された Webhook URL にテスト送信を送信します。個々のユーザーを選択して、特定のユーザーとして応答をプレビューすることもできます。 

![コンテンツカードのテスト]]({% image_buster /assets/img/webhook_test.png %})

{% endtab %}
{% endtabs %}

## パーソナライズされたキャンペーンのテスト 

ユーザーデータを入力したり、カスタムイベントプロパティを使用するキャンペーンをテストしたりする場合は、追加または別の手順を実行する必要があります。

### ユーザー属性でパーソナライズされたキャンペーンのテスト

メッセージに[パーソナライゼーションを]({{site.baseurl}}/user_guide/personalization_and_dynamic_content/overview/)使用している場合は、キャンペーンを適切にプレビューし、ユーザーデータがコンテンツに正しく入力されているかチェックするための追加ステップが必要になる。

テストメッセージを送信するときは、必ず [**既存のユーザーを選択**] オプションか、[**カスタムユーザー**] としてプレビューするオプションを選択します。

![パーソナライズされたのテスト]({% image_buster /assets/img_archive/personalized_testing.png %}){: style="max-width:70%;" }

#### 既存のユーザーの選択

既存のユーザーを選択する場合は、検索フィールドに特定のユーザー ID またはメールを入力します。次に、ダッシュボードプレビューを使用してメッセージがそのユーザーにどのように表示されるかを確認し、そのユーザーに表示される内容を反映したテストメッセージをデバイスに送信します。

![ユーザーを選択]({% image_buster /assets/img_archive/personalized_testing_select.png %})

#### カスタムユーザーの選択

カスタムユーザーとしてプレビューする場合は、ユーザーの名やカスタム属性など、パーソナライズできるさまざまなフィールドにテキストを入力します。繰り返しになりますが、自分のメールアドレスを入力して、デバイスにテストを送信できます。

![ユーザーユーザー]]({% image_buster /assets/img_archive/personalized_testing_custom.png %})

### カスタムイベントプロパティでパーソナライズされたキャンペーンのテスト

[カスタムイベントプロパティ]({{site.baseurl}}/user_guide/data/custom_data/custom_events/#custom-event-properties)でパーソナライズされたキャンペーンのテストは、ここで説明する他のタイプのキャンペーンのテストとは少し異なります。 

{% tabs local %}
{% tab Trigger manually %}

#### 方法1:キャンペーンの手動トリガ

カスタムイベント プロパティーを使用してキャンペーン s パーソナライズされたをテストするための堅牢な方法として、自分でキャンペーンをトリガーできます。

1. イベント・プロパティを含むコピーを書き上げる。 

![プロパティを使用したテストメッセージの作成]({% image_buster /assets/img_archive/testeventproperties-compose.png %})

{: start="2"}
2\.[アクションベースの配信]({{site.baseurl}}/user_guide/engagement_tools/campaigns/building_campaigns/delivery_types/triggered_delivery/)を使用して、イベントの発生時にキャンペーンを配信します。

{% alert note %}
iOS プッシュキャンペーンをテストしている場合は、iOS が現在の開封 アプリのプッシュ通知を配信しないため、自分でアプリを終了できるように遅延を1 分に設定する必要があります。他のタイプのキャンペーンは、即座に配信するように設定できます。
{% endalert %}

![メッセージ配信テスト]]({% image_buster /assets/img_archive/testeventproperties-delivery.png %})

{: start="3"}
3. テストフィルターを使用したり、自分のメールアドレスをターゲットにしたりして、通常どおりにテスト用のユーザーをターゲットにして、キャンペーンの作成を完了します。 

![メッセージターゲットのテスト]]({% image_buster /assets/img_archive/testeventproperties-target.png %})

{: start="4"}
4. アプリを開いて、カスタムイベントを完了します。

キャンペーンがトリガーされ、イベントプロパティでカスタマイズされたメッセージが表示されます。

![テストメッセージ例]]({% image_buster /assets/img_archive/testeventproperties-message2.png %})

{% endtab %}
{% tab Test message %}

#### 方法2:テストメッセージの送信

また、カスタムユーザー ID を保存する場合は、カスタマイズされたテストメッセージを自分に送信してキャンペーンをテストすることもできます。

1. キャンペーンのコピーを書きます。
2. [**テスト**] タブを選択し、[**カスタマイズされたユーザー**] を選択します。 
3. ページ下部にカスタムイベント プロパティを追加し、ユーザー IDまたはメールの住所を一番上のボックスに追加します。
4. **Send Test**を選択すると、プロパティでメッセージパーソナライズされたを受信します。

![カスタマイズユーザーによるテスト]]({% image_buster /assets/img_archive/testeventproperties-customuser.png %})

{% endtab %}
{% tab Liquid %}

#### 方法3:Liquid の使用

カスタムイベントのプロパティーは、Liquid で数値を手動で入力することで確認できます。 

1. メッセージエディタで、カスタムイベントのプロパティーの数値を入力します。
2. ユーザータブとして**プレビューを選択し、正しいメッセージが表示されることを確認します。

{% endtab %}
{% endtabs %}

## トラブルシューティング

### アプリ内メッセージ

アプリ内メッセージキャンペーンがプッシュキャンペーンによってトリガーされない場合、アプリ内キャンペーンのセグメンテーションをチェックし、ユーザーがプッシュメッセージの受信**前に**、ターゲットオーディエンスに合致していることを確認してください。

Android および iOS でのテスト送信の場合、クリック時に**プッシュ通知の許可を要求**する動作を使用するアプリ内メッセージが、一部のデバイスで表示されないことがあります。回避策として
- **Android :**デバイスは Android 13、かつ当社の Android SDK バージョン21.0.0 である必要があります。もう1つの理由は、アプリ内メッセージが表示されるデバイスに、すでにシステムレベルのプロンプトがあることかもしれない。[**再び表示しない**] を選択している可能性があるため、再びテストする前にアプリを再インストールして、通知の許可をリセットしなければならない場合があります。
- **iOS: **開発チームは、アプリのプッシュ通知の実装を見直し、プッシュ許可を要求するコードを手動で削除することを推奨する。詳細については、[アプリ内メッセージのプッシュプライマー]({{site.baseurl}}/user_guide/message_building_by_channel/push/best_practices/push_primer_messages/)を参照してください。

アクションベースのアプリ内メッセージキャンペーンを配信するには、カスタムイベントをREST API ではなく Braze SDK 経由でログに記録する必要があります。これにより、ユーザーは適格のアプリ内メッセージを直接デバイスに受信できます。ユーザーは、セッション中にイベントを実行すると、アプリ内メッセージを受信できます。
