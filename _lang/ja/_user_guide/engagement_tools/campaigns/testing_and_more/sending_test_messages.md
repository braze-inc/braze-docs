---
nav_title: テストメッセージの送信
article_title: テストメッセージの送信
page_order: 0
tool: 
  - Campaigns
page_type: reference
description: "この記事では、さまざまな Braze チャネルにテストメッセージを送信する方法と、カスタムイベントプロパティやユーザー属性を組み込む方法について説明します。"

---

# テストメッセージの送信

> ベストプラクティスとして、メッセージングキャンペーンをユーザーに送信する前に、これが正しく表示され、意図したとおりに動作するかどうかテストすることをお勧めします。Braze ダッシュボードのツールを使用して、選択したデバイスまたはチームメンバーへのテストメッセージを作成して送信できます。

{% alert important %}
テスト後は必ずキャンペーンの下書きを保存して、キャンペーンが削除されないようにしてください。メッセージを下書きとして保存しなくてもテストメッセージを送信することはできます。
{% endalert %}

## ステップ 1: テストユーザーを特定する

メッセージングキャンペーンをテストする前に、テストユーザーを特定することが重要です。これらのユーザーは、既存のユーザー ID やメールアドレス、またはメッセージングキャンペーンのテスト専用に使用される新規ユーザーのいずれでもかまいません。 

### オプション: コンテンツテストグループを作成する

テストユーザーを整理する便利な方法として、キャンペーンからテストメッセージを受け取るユーザーのグループを含む[コンテンツテストグループ]({{site.baseurl}}/user_guide/administrative/app_settings/developer_console/internal_groups_tab/)を作成することができます。このテストグループをキャンペーンの [**テスト受信者**] の [**コンテンツテストグループの追加**] フィールドに追加すると、個々のテストユーザーを作成または追加せずにテストを開始できます。

## ステップ 2: チャネル固有のテストメッセージを送信する

テストメッセージを送信する手順については、それぞれのチャネルの次のセクションを参照してください。

{% tabs %}
{% tab メール %}

1. メールメッセージの下書きを作成します。
2. [**プレビュー後にテスト**] をクリックします。
3. [**テスト送信**] タブを選択し、[**ユーザーを個別に追加**] フィールドにメールアドレスまたはユーザー ID を追加します。 
4. [**テストを送信**] をクリックして、下書きしたメールを受信ボックスに送信します。

![メールのテスト]({% image_buster /assets/img_archive/testemail.png %}){: style="max-width:40%;" }

{% endtab %}
{% tab プッシュ %}

#### モバイルプッシュ

1. モバイルプッシュの下書きを作成します。
2. [**設定**] タブを選択し、[**ユーザーを個別に追加**] フィールドにメールアドレスまたはユーザー ID を追加します。
3. [**テストを送信**] をクリックして、下書きしたメッセージをデバイスに送信します。

![プッシュのテスト]({% image_buster /assets/img_archive/testpush.png %})

#### Web プッシュ

1. Web プッシュを作成します。
2. [**テスト**] タブを選択します。 
3. [**自分にテストを送信**] をチェックします。
4. [**テストを送信**] をクリックして、Web プッシュを Web ブラウザーに送信します。

![Web プッシュのテスト]({% image_buster /assets/img_archive/testwebpush.png %})

Braze ダッシュボードからのプッシュメッセージをすでに受け入れている場合、プッシュは画面の隅に表示されます。それ以外の場合は、メッセージが表示されたら [**許可**] をクリックすると、メッセージが表示されます。

{% endtab %}
{% tab アプリ内メッセージ %}

アプリ内とテストデバイスでプッシュ通知を設定している場合は、テスト用アプリ内メッセージをアプリに送信して、リアルタイムでどのように表示されるかを確認できます。 

1. アプリ内メッセージの下書きを作成します。
2. [**テスト**] タブを選択し、[**ユーザーを個別に追加**] フィールドにメールアドレスまたはユーザー ID を追加します。 
3. [**テストを送信**] をクリックして、プッシュメッセージをデバイスに送信します。

テスト用プッシュメッセージがデバイス画面の上部に表示されます。

![アプリ内のテスト]({% image_buster /assets/img_archive/test-in-app.png %})

プッシュメッセージを直接クリックして開くと、アプリが開いてアプリ内メッセージのテストを確認できます。このアプリ内メッセージテスト機能は、ユーザーがテストプッシュ通知をクリックしてアプリ内メッセージをトリガーすることに依存していることに注意してください。

{% endtab %}
{% tab コンテンツカード %}

コンテンツカードを作成したら、テストコンテンツカードをアプリに送信して、リアルタイムでどのように表示されるかを確認できます。

1. コンテンツカードの下書きを作成します。
2. [**テスト**] タブを選択し、このテストメッセージを受信するコンテンツテストグループを少なくとも 1 つ、あるいは個々のユーザーを少なくとも 1 人選択します。 
3. [**テストを送信**] をクリックして、コンテンツカードをアプリに送信します。

![コンテンツカードのテスト]({% image_buster /assets/img/contentcard_test.png %})

{% endtab %}
{% tab SMS/MMS %}

SMS または MMS メッセージを作成した後、スマートフォンにテストメッセージを送信して、リアルタイムでどのように表示されるかを確認できます。 

1. SMS または MMS メッセージの下書きを作成します。
2. [**テスト**] タブを選択し、このテストメッセージを受信するコンテンツテストグループを少なくとも 1 つ、あるいは個々のユーザーを少なくとも 1 人選択します。 
3. [**テストを送信**] をクリックしてテストメッセージを送信します。

![コンテンツカードのテスト]({% image_buster /assets/img/sms_test.png %})

{% endtab %}
{% tab Webhook %}

Webhook を作成した後、テスト送信を実行して Webhook の応答を確認できます。[**テスト**] タブを選択し、[**テストを送信**] を選択して、指定された Webhook URL にテスト送信を送信します。個々のユーザーを選択して、特定のユーザーとして応答をプレビューすることもできます。 

![コンテンツカードのテスト]({% image_buster /assets/img/webhook_test.png %})

{% endtab %}
{% tab ニュースフィード %}

{% alert note %}
ニュースフィードは非推奨です。Braze では、ニュースフィードツールを利用しているお客様に、コンテンツカードのメッセージングチャネルへの移行をお勧めしています。移行により、柔軟性、カスタマイズ性、信頼性が向上します。詳細については、[移行ガイド]({{site.baseurl}}/user_guide/message_building_by_channel/content_cards/migrating_from_news_feed/)をご覧ください。
{% endalert %}

テスト用のニュースフィードカードを送信するには、テストセグメントを設定してからテストキャンペーンを送信する必要があります。

##### ステップ 1: 指定のテストセグメントを作成する

テストセグメントを設定すると、これらのメッセージングチャネルを利用できます。このプロセスにはいくつかの簡単な手順が必要で、適切に設定されていれば、一度実行するだけで済みます。

1. [**セグメント**] ページに移動して、[新しいセグメントを作成]({{site.baseurl}}/user_guide/engagement_tools/segments/creating_a_segment/)します。 
2. [**フィルターを追加**] の下のドロップダウンメニューをクリックし、リストの下部にあるテストフィルターを探します。 <br><br>![テストフィルター]({% image_buster /assets/img_archive/testmessages1.png %})<br><br>
3. テストフィルターを使用して、特定のメールアドレスまたは外部 [ユーザー ID]({{site.baseurl}}/developer_guide/platform_integration_guides/swift/analytics/setting_user_ids/) を持つユーザーを選択します。<br><br>![テストフィルターのオプション]({% image_buster /assets/img_archive/testmessages2.png %})
<br><br>これらのフィルターには次のオプションがあります。
- **完全一致**: 指定したメールアドレスまたはユーザー ID と完全に一致するものを探します。これは、1 つのメールまたはユーザー ID に関連付けられたデバイスにのみテストキャンペーンを送信する場合に使用します。
- **一致しない**: 特定のメールまたはユーザー ID をテストキャンペーンから除外します。
- **一致する**: 指定した検索語の一部と一致するメールアドレスまたはユーザー ID を持つユーザーを検索します。これを使用すると、「@yourcompany.com」のアドレスを持つユーザーのみを検索して、チームの全員にメッセージを送信できます。
<br><br>
これらのフィルターを組み合わせて使用すると、テストユーザーのリストを絞り込むこともできます。例えば、テストセグメントに「`matches` @braze.com」というメールアドレスフィルターと、「`does not equal` sales@braze.com」というフィルターの両方を含めることができます。`matches` オプションを使用してメールアドレスを「\|」文字で区切ることにより、複数の特定のメールを選択することもできます (例えば、「`matches` "email1@braze.com\\|email2@braze.com"」）。
<br><br>
4. テストフィルターをテストセグメントに追加します。
5. セグメントエディターの上部にある [**プレビュー**] をクリックするか、そのセグメントのユーザーデータを CSV にエクスポートして、目的のユーザーのみを選択したことを確認します。
6. セグメントのユーザーデータをエクスポートするには、[**ユーザーデータ**] ドロップダウンをクリックし、[**すべてのユーザーデータを CSV 形式でエクスポート**] を選択します。 

![テストセグメントの確認]({% image_buster /assets/img_archive/testmessages3.png %})

> セグメントのユーザーデータを CSV にエクスポートすると、そのセグメントに該当するユーザーを最も正確に把握できます。[**プレビュー**] タブはセグメント内のユーザーのサンプルにすぎないため、目的のメンバーがすべて選択されていないように見える場合があります。詳細については、「[セグメントデータの表示と理解][7]」を参照してください。

テストメッセージを送りたいユーザーのみをターゲットにしていることを確認したら、テストしたい既存のキャンペーンでこのセグメントを選択するか、セグメントメニューの [**キャンペーンを開始**] ボタンをクリックします。

##### ステップ 2: テストキャンペーンを送信する

テストニュースフィードカードを送信するには、以前に作成したテストセグメントをターゲットにする必要があります。まず、マルチチャネルキャンペーンを作成し、通常の手順に従います。[**ターゲットユーザー**] ステップに到達したら、次の画像のようにテストセグメントを選択します。

![テストセグメント]({% image_buster /assets/img_archive/test_segment.png %})

キャンペーンの確認が完了したら、キャンペーンを開始してニュースフィードカードをテストします。

> 1 つのキャンペーンを使用して自分自身にテストメッセージを複数回送信する場合は、キャンペーンコンポーザーの [**スケジュール**] 部分にある [ユーザーがキャンペーンを再度受信できるようにする] というタイトルのチェックボックスをオンにします。

{% endtab %}
{% endtabs %}

## パーソナライズされたキャンペーンのテスト 

ユーザーデータを入力したり、カスタムイベントプロパティを使用するキャンペーンをテストしたりする場合は、追加または別の手順を実行する必要があります。

### ユーザー属性でパーソナライズされたキャンペーンのテスト

メッセージで [パーソナライゼーション][26] を使用している場合は、キャンペーンを適切にプレビューし、ユーザーデータがコンテンツに正しく入力されていることを確認するために追加の手順を実行する必要があります。

テストメッセージを送信するときは、必ず [**既存のユーザーを選択**] オプションか、[**カスタムユーザー**] としてプレビューするオプションを選択します。

![パーソナライズされたメッセージのテスト][23]{: style="max-width:70%;" }

#### 既存のユーザーの選択

既存のユーザーを選択する場合は、検索フィールドに特定のユーザー ID またはメールを入力します。次に、ダッシュボードプレビューを使用してメッセージがそのユーザーにどのように表示されるかを確認し、そのユーザーに表示される内容を反映したテストメッセージをデバイスに送信します。

![ユーザーを選択][24]

#### カスタムユーザーの選択

カスタムユーザーとしてプレビューする場合は、ユーザーの名やカスタム属性など、パーソナライズできるさまざまなフィールドにテキストを入力します。繰り返しになりますが、自分のメールアドレスを入力して、デバイスにテストを送信できます。

![カスタムユーザー][25]

### カスタムイベントプロパティでパーソナライズされたキャンペーンのテスト

[カスタムイベントプロパティ][19] でパーソナライズされたキャンペーンのテストは、ここで説明する他のタイプのキャンペーンのテストとは少し異なります。カスタムイベントプロパティを使用してパーソナライズされたキャンペーンをテストする最も確実な方法は、以下を実行してキャンペーンを自分でトリガーすることです。

1. イベントプロパティを含むコピーを書きます。![プロパティを含むテストメッセージの作成][15]
2. [アクションベースの配信][21] を使用して、イベントの発生時にキャンペーンを配信します。

{% alert note %}
iOS のプッシュキャンペーンをテストする場合、iOS は現在開いているアプリに関するプッシュ通知を配信しないため、アプリの終了にかかる時間を確保するために 1 分の遅延を設定する必要があります。他のタイプのキャンペーンは、即座に配信するように設定できます。
{% endalert %}

![テストメッセージ配信][16]

{: start="3"}
3. テストフィルターを使用したり、自分のメールアドレスをターゲットにしたりして、通常どおりにテスト用のユーザーをターゲットにして、キャンペーンの作成を完了します。 

![テストメッセージのターゲット設定][17]

{: start="4"}
4. アプリを開いて、カスタムイベントを完了します。

キャンペーンがトリガーされ、イベントプロパティでカスタマイズされたメッセージが表示されます。

![テストメッセージの例][18]

また、カスタムユーザー ID を保存する場合は、カスタマイズされたテストメッセージを自分に送信してキャンペーンをテストすることもできます。

1. キャンペーンのコピーを書きます。
2. [**テスト**] タブを選択し、[**カスタマイズされたユーザー**] を選択します。 
3. ページの下部にカスタムイベントプロパティを追加し、上部のボックスに自分のユーザー ID またはメールアドレスを追加します。
4. [**テストを送信**] をクリックすると、プロパティでパーソナライズされたメッセージが届きます。

![カスタマイズされたユーザーを使ったテスト][22]

[7]: {{site.baseurl}}/user_guide/data_and_analytics/reporting/viewing_and_understanding_segment_data/#user-preview
[13]: {% image_buster /assets/img_archive/test-push-for-in-app.png %}
[15]: {% image_buster /assets/img_archive/testeventproperties-compose.png %}
[16]: {% image_buster /assets/img_archive/testeventproperties-delivery.png %}
[17]: {% image_buster /assets/img_archive/testeventproperties-target.png %}
[18]: {% image_buster /assets/img_archive/testeventproperties-message.PNG %}
[19]: {{site.baseurl}}/user_guide/data_and_analytics/user_data_collection/#custom-event-properties
[20]: {{site.baseurl}}/user_guide/personalization_and_dynamic_content/personalized_messaging/#personalized-messaging
[21]: {{site.baseurl}}/user_guide/engagement_tools/campaigns/scheduling_and_organizing/delivery_types/triggered_delivery/
[22]: {% image_buster /assets/img_archive/testeventproperties-customuser.png %}
[23]: {% image_buster /assets/img_archive/personalized_testing.png %}
[24]: {% image_buster /assets/img_archive/personalized_testing_select.png %}
[25]: {% image_buster /assets/img_archive/personalized_testing_custom.png %}
[26]: {{site.baseurl}}/user_guide/personalization_and_dynamic_content/overview/