---
nav_title: イベント予測の作成
article_title: イベント予測の作成
page_order: 1.1
description: "この記事では、Braze ダッシュボード内でイベント予測を作成する方法について説明します。"

---

# イベント予測の作成

> 予測は、訓練された機械学習モデルとそれが使用するすべてのパラメーターとデータの 1 つのインスタンスです。予測イベントの詳細については、[予測イベントの概要]({{site.baseurl}}/user_guide/brazeai//predictive_events/)を参照してください。

Braze で、[**分析**] > [**予測イベント**] に移動します。

このページには、現在アクティブなイベント予測のリストと、それらに関する基本情報が表示されます。ここでは、名前の変更、アーカイブ、および新しい予測の作成を行えます。アーカイブされた予測は非アクティブであり、ユーザースコアは更新されません。

## ステップ 1: 新しい予測を作成する

1. **予測の作成**を選択し、新しい**イベント予測**を選択します。

{% alert note %}
同時にアクティブな予測は5 つに制限されます。予測イベントを購入する前は、アクティブなプレビュー予測が 1 つに制限されます。プレビュー予測では、予測の出力に基づいてスコアまたはターゲットユーザーが定期的に更新されることはありません。詳細については、担当のアカウントマネージャーにお問い合わせください。
{% endalert %}

{: start="2"}
2\.予測に一意の名前を付けます。関連するメモを保存するための説明を指定することもできます。

![]({% image_buster /assets/img/purchasePrediction/purchases_step1.png %})

{: start="3"}
3\.次の手順に進むには、[**進む**] をクリックします。<br><br>オプションで [**今すぐ作成**] をクリックして、すべてのデフォルト設定を使用して作成の最後のステップにスキップすることもできます。作成プロセスを開始する前に、設定を確認できます。また、一番上のバーでクリックすると、後で任意のステップに戻ることができます。

## ステップ 2: イベントトラッキングを指定する {#event-tracking}

ユーザのイベントがブレーズに[購入イベント]({{site.baseurl}}/user_guide/data/custom_data/purchase_events/)または[カスタムイベント]({{site.baseurl}}/user_guide/data/custom_data/custom_events/)として保存されているかどうかを指定します。

ここでは、選択したメソッドが、機械学習モデルを作成するためにBraze に十分なデータを提供しているかどうかを確認します。要件が満たされていない場合は、アプリケーションでも使用されている他のロギング方法を選択してみてください。該当するものがない場合、残念ながら Braze では利用可能なデータの量で予測を作成できません。このエラーの表示が間違っていると思われる場合は、カスタマーサクセスマネージャーに連絡してください。

#### イベントウィンドウ

イベント・ウィンドウは、ユーザーがイベントを実行するかどうかを予測する時間枠です。これは最大 60 日に設定できます。この期間は、予測をトレーニングするための履歴データのクエリに使用されます。さらに、予測が作成されてユーザーがスコアを受け取った後、可能性スコアは、ユーザーがイベントウィンドウで指定された日数内にイベントを実行する可能性を示します。

### ステップ 3:予測オーディエンスをフィルタリングする(オプション) {#audience}

予測対象者は、予測する可能性スコアを持つユーザのグループです。必要に応じて、ユーザーの母集団全体について予測を実行できます。これを行うには、デフォルトのオプション**All Users** を選択したままにします。

通常、評価するユーザーをいくつかの基準でフィルタリングすると、モデルのパフォーマンスが向上します。これを行うには、**自分の予測オーディエンスを定義**を選択し、オーディエンスフィルタを選択します。たとえば、「アプリの初回使用」フィルターを 30 日に設定して、アプリを少なくとも 30 日間使用していたユーザーに集中することができます。

予測オーディエンス定義は、機械学習モデルが過去から学習できるように、履歴データのクエリにも使用されます。前のページと同様に、これらのフィルタによって提供されるデータの量が、要件とともに表示されます。必要なオーディエンスを指定し、最小値を満たさない場合は、より広範なフィルタを指定するか、**All Users** オプションを使用します。

{% alert note %}
予測対象ユーザーは 1 億人を超えることはできません。
{% endalert %}

イベントウィンドウが 14 日以内の場合、「Last Used App」や「Last Made Purchase」のように「Last...」で始まるフィルターの時間枠は、**[イベント追跡](#event-tracking)で指定されたイベント期間を超えることはできません**。たとえば、イベントウィンドウが14日に設定されている場合、"Last..."フィルタの時間枠は14日を超えることはできません。

#### フルフィルターモード

新しい予測をすぐに構築するために、ブレーズセグメンテーションフィルタのサブセットのみがサポートされています。Full Filter Mode(フルフィルタモード)では、すべてのろう付けフィルターを使用できますが、予測を作成するには1 つのイベントウィンドウが必要です。 

たとえば、イベントウィンドウが14 日に設定されている場合、フルフィルタモードでのみサポートされるフィルタを使用すると、ユーザデータの収集と予測の作成に14 日かかります。 また、フルフィルターモードでは、オーディエンスのサイズに関する一部の見積もりが利用できなくなります。

### ステップ 4:アップデートスケジュールを選択する

このページを完了したときに作成された機械学習モデルは、ここで選択したスケジュールで使用され、ユーザーがイベントを実行する確率の新しいスコア (可能性スコア) を生成します。役立つと思われる**更新の最大頻度**を選択します。たとえば、購入を予測しており、週次プロモーションを送信する予定の場合は、選択した日時に更新頻度を**Weekly** に設定します。

{% alert note %}
プレビューとデモの予測では、ユーザーの可能性スコアは更新されません。
{% endalert %}

### ステップ 5: 予測を作成する

指定した詳細が正しいことを確認し、**Build Prediction** を選択します。また、**Save As Draft**を選択してこのページに戻り、後でモデルをビルドすることで、ドラフトフォームに変更を保存することもできます。 

**Build Prediction**をクリックすると、モデルを生成するプロセスが開始されます。データの量によっては、30 分から数時間かかる場合があります。この予測では、モデル構築プロセスの間、トレーニングが進行中であることを説明するページが表示されます。

完了すると、ページが自動的に分析ビューに切り替わり、予測と結果の準備ができたことを知らせる電子メールが送信されます。エラーが発生すると、ページは編集モードに戻り、何が間違っていたかが説明されます。

予測は自動的に再構築され("retrained")、**2 週間** ごとに最新のデータで更新されます。これは、ユーザの尤度スコア(予測の出力)が生成される場合とは別のプロセスであることに注意してください。後者は、手順4で選択した更新頻度によって決まります。

## アーカイブ済み予測

アーカイブされた予測では、ユーザースコアの更新が停止します。アーカイブされていないアーカイブされた予測は、事前に設定されたスケジュールでユーザーのスコアを更新し続けます。アーカイブされた予測は削除されず、リストに残ります。


