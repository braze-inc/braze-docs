---
nav_title: セレクション
article_title: セレクション
page_order: 5
description: "このリファレンス記事では、Brazeキャンペーンでデータを参照するために、カタログで選択範囲を作成して使用する方法について説明します。"
---

# セレクション

> カタログで選択範囲を作成して使用する方法をご確認ください。

選択範囲は、キャンペーンの各ユーザーのメッセージをパーソナライズするために使用できるデータのグループです。選択範囲を使用する場合、基本的には、カタログ内の特定の列に基づいてカスタムフィルターを設定します。これには、ブランド、サイズ、場所、追加日などのフィルターが含まれます。これにより、アイテムが最初に満たす必要がある条件を定義できるため、ユーザーに表示する内容を制御できます。

[カタログ]({{site.baseurl}}/user_guide/personalization_and_dynamic_content/catalog/)を作成した後、Brazeキャンペーンやレコメンデーションに選択内容を組み込むことで、カタログデータをさらに参照できます。

![サンプルカタログの [選択] セクション。[1]

## 知っておきたいこと

- カタログごとに最大 30 個の選択を作成できます。
- 選択は、Brazeカタログデータからレコメンデーションを絞り込むのに最適です。インスピレーションをお探しの場合は、商品 [アイテムのおすすめについて]({{site.baseurl}}/user_guide/sage_ai/recommendations/about_item_recommendations/) の使用例をご覧ください。

## 選択範囲の作成

選択範囲を作成するには、次の操作を行います。

1. **[カタログ**] に移動し、リストからカタログを選択します。
2. 「 **選択」** タブを選択し、「 **選択範囲の作成**」をクリックします。
3. 選択項目に名前と説明(オプション)を入力します。
4. **[フィルター フィールド**] で、フィルター処理するカタログ列を選択します。1,000 文字を超える文字列フィールドは、フィルターに選択できません。
5. 関連する演算子 (「等しい」や「等しくない」など) と属性を選択して、フィルター条件の定義を完了します。
6. [ **並べ替えの種類** ] セクションで、結果の並べ替え方法を決定します。既定では、結果は順不同で返されます。特定のフィールドでの並べ替えを指定するには、[ **並べ替え順序のランダム化** ]をオフにして、[ **並べ替えフィールド** ]と **[並べ替え順序** \](昇順または降順)を指定します。
7. [ **結果の制限** ] セクションで、結果の最大数 (最大 50) を入力します。
8. [ **選択範囲の作成**] をクリックします。

### 選択結果の液体

カスタム属性やカスタムイベントなど、カタログで任意のLiquidを使用すると、選択したユーザーごとに異なる結果が返される可能性があります。

![属性が Liquid カスタム属性に設定されているカタログ選択のフィルター設定。[7]

## メッセージングでの選択の使用

選択範囲を作成したら、Liquidでメッセージをパーソナライズし、そのカタログからフィルタリングされたアイテムを挿入します。BrazeにLiquidを生成させるには、メッセージコンポーザーのパーソナライゼーションウィンドウから。

1. パーソナライゼーションをサポートするメッセージコンポーザーで、「 <i class="fa-solid fa-circle-plus" style="color: #12aec5;" title="パーソナライゼーションを追加"></i> 」をクリックしてパーソナライゼーションウィンドウを開きます。
2. **「パーソナライゼーション・タイプ**」で、「**カタログ・アイテム**」を選択します。
3. カタログ名を選択します。
4. **[アイテムの選択方法**] で [**選択を使用**] を選択します。
4. リストから選択項目を選択します。
5. **[表示する情報**] で、各アイテムに含めるカタログのフィールドを選択します。
6. [ **コピー** ]アイコンをクリックして、メッセージ内の必要な場所にLiquidを貼り付けます。

![次の選択を伴う [個人用設定の追加] モーダル:「パーソナライゼーションタイプ」は「カタログアイテム」を、「カタログ名」は「ゲーム」を、「選択タイプ」は「選択」を「選択」を「選択」を「game\_selection」とし、「表示する情報」は「タイトル」と「description\_en」です。[6]{: style="max-width:70%;"}

## ユースケース

たとえば、食事の宅配サービスを所有していて、最近表示した食品カテゴリに基づいて特定の食事の好みを持つユーザーにパーソナライズされたメッセージを送信したいとします。 

食事の名前、価格、画像、食事のカテゴリに関する食事宅配サービスの情報を含むカタログを使用して、ユーザーが最近表示したカテゴリに基づいて 3 つの食事を推奨する選択を作成できます。

![製品タイプを食事として識別するフィルターと、最近表示したカテゴリを識別するフィルターの 2 つのフィルターを持つ食事宅配サービスの選択の例。この選択は、3 つの結果が返される順序をランダム化するように設定されます。[2]{: style="max-width:90%;"}

このカタログと選択をキャンペーンで使用するには、キャンペーンの作成のメッセージ構成セクションで「 **パーソナライゼーションを追加** 」モーダルを使用します。この例では、食事宅配サービスの情報を含むカタログと、最近表示したカテゴリに基づく食事の推奨事項の選択を選択しました。これにより、食事の名前と価格を表示できます。メッセージをさらに構築するために、選択範囲を使用して、最初に推奨される食事の画像を追加することもできます。

![ヘッダーが「You will LOVE these highly rated meals!」で、メッセージ作成セクションで「recommendations\_be\_recent\_category」が選択されているコンテンツカード。[3]{: style="max-width:90%;"}

たとえば、最近表示したカテゴリが「鶏肉」であるユーザーがいるとします。設定されたパーソナライゼーションとコンテンツカードキャンペーンを使用して、このユーザーにチキンを含む3つの食事のレコメンデーションを送信できます。

![レモンチキンの炭火焼きの画像と、ユーザーが最近閲覧したカテゴリに基づくチキンを含む 3 つのおすすめの食事のリストを含むコンテンツ カード。[4]{: style="max-width:90%;"}

同じパーソナライゼーションを使用して、最近表示したカテゴリが「牛肉」であるユーザーに 3 つの食事の推奨事項を送信することもできます。

![牛肉のストロガノフの画像と、ユーザーが最近閲覧したカテゴリに基づく牛肉を含む 2 つのおすすめの食事のリストを含むコンテンツ カード。[5]{: style="max-width:90%;"}


[1]: {% image_buster /assets/img_archive/catalog_selections1.png %}
[2]: {% image_buster /assets/img_archive/catalog_selections2.png %}
[3]: {% image_buster /assets/img_archive/catalog_selections3.png %}
[4]: {% image_buster /assets/img_archive/catalog_selections4.png %}
[5]: {% image_buster /assets/img_archive/catalog_selections5.png %}
[6]: {% image_buster /assets/img_archive/catalog_selections6.png %}
[7]: {% image_buster /assets/img_archive/catalog_selections7.png %}