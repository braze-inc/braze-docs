---
nav_title: セレクション
article_title: セレクション
page_order: 5
description: "この記事では、Braze キャンペーンでデータを参照するために、カタログでセレクションを作成し、使用する方法について説明します。"
---

# セレクション

> カタログでセレクションを作成し、使用する方法を学ぶ。

セレクションは、キャンペーンの各ユーザーにメッセージをパーソナライズするために使用できるデータのグループである。選択範囲を使用する場合、基本的にはカタログの特定の列に基づいてカスタムフィルターを設定することになる。これには、ブランド、サイズ、場所、追加日などのフィルターが含まれます。アイテムが最初に満たさなければならない基準を定義できるため、ユーザーに何を見せるかをコントロールできる。

[カタログ]({{site.baseurl}}/user_guide/personalization_and_dynamic_content/catalog/)を作成した後、Braze キャンペーンや推奨事項にセレクションを組み込むことで、カタログデータをさらに参照することができます。

![カタログ例の「セレクション」セクション。][1]

## 知っておくべきこと

- カタログごとに最大 30 個のセレクションを作成できます。
- 選択項目ごとに最大4つのフィルターを追加できる。
- セレクションは、Braze のカタログデータから推奨事項を絞り込むのに最適です。インスピレーションをお探しの場合、「[アイテムのおすすめについて]({{site.baseurl}}/user_guide/sage_ai/recommendations/about_item_recommendations/)」にあるユースケースの例を参照してください。

## セレクションを作成する

セレクションを作成するには、以下のようにする。

1. [**カタログ**] に移動し、リストからカタログを選択します。
2. [**セレクション**] タブを選択し、[**セレクションを作成**] をクリックします。
3. 選択範囲に名前と任意の説明を付ける。
4. **Filter Field（フィルター・フィールド**）で、フィルターしたいカタログ・カラムを選択する。1,000文字を超える文字列フィールドはフィルターに選択できない。
5. 関連する演算子（例えば "equals "や "doesn't equal"）と属性を選択して、フィルター基準の定義を終える。
6. **Sort type**セクションで、結果のソート方法を決定する。デフォルトでは、結果は順不同で返されます。特定のフィールドによるソートを指定するには、**Randomize Sort Orderを**オフにし、**Sort Fieldと** **Sort Order**（昇順または降順）を指定する。
7. **Results limit**セクションで、結果の最大数を50まで入力する。
8. [**セレクションを作成**] をクリックします。

### セレクション結果内の Liquid

カスタム属性やカスタムイベントなど任意のカタログ内で Liquid を使用すると、セレクションにあるユーザーごとに異なる結果が返される可能性があります。

![属性がリキッドカスタム属性に設定されているカタログ選択のフィルタ設定。][7]

## メッセージングで選択範囲を使用する

セレクションを作成したら、Liquid でメッセージをパーソナライズし、そのカタログからフィルタリングされた項目を挿入します。Braze を使用して、メッセージ作成画面にあるパーソナライゼーションウィンドウから Liquid を生成することができます。

1. パーソナライズをサポートしているメッセージ作成ツールで <i class="fa-solid fa-circle-plus" style="color: #12aec5;" title="パーソナライズを追加する"></i>をクリックしてパーソナライズウィンドウを開く。
2. **Personalization Type（パーソナライゼーション・タイプ）**」で「**Catalog Items（カタログ商品**）」を選択する。
3. カタログ名を選択する。
4. **項目選択方法]**で[**選択項目を使用する**]を選択する。
4. リストからセレクションを選択します。
5. **表示する情報**」では、カタログのどのフィールドを各アイテムに含めるかを選択する。
6. [**コピー**] アイコンをクリックし、メッセージ内の必要な場所に Liquid を貼り付けます。

![以下のセレクションがある「パーソナライゼーションの追加」モーダル: 「パーソナライズ・タイプ」は「カタログ・アイテム」、「カタログ名」は「ゲーム」、「セレクション・タイプ」は「セレクション」、「セレクション」は「game_selection」、「表示する情報」は「title」と「description_ja」である。][6]{: style="max-width:70%;"}

## ユースケース

例えば、あなたが食事の宅配サービスを経営していて、最近見た食品カテゴリーに基づいて特定の食事の好みを持つユーザーにパーソナライズされたメッセージを送りたいとしよう。 

食事宅配サービスの食事名、価格、画像、食事のカテゴリーなどの情報をカタログに使用し、ユーザーが最近閲覧したカテゴリーに基づいて3つの食事を推薦するセレクションを作成することができる。

![食事宅配サービスの選択例で、2つのフィルターがある。1つは商品タイプを食事として識別するもの、もう1つはカテゴリーを最近閲覧されたものとして識別するものである。セレクションは、3つの結果が返される順番がランダムになるように設定されている。][2]{: style="max-width:90%;"}

このカタログと選択をキャンペーンで使用するには、キャンペーンを構築する際のメッセージ構成セクションで**パーソナライゼーションの追加**モーダルを使用する。この例では、食事宅配サービスの情報が掲載されたカタログと、最近閲覧したカテゴリーに基づく食事の推薦を選択した。これにより、食事名と価格を表示することができます。メッセージをさらに構築するには、セレクションを使って最初のおすすめ料理の画像を追加することもできます。

![コンテンツカード。ヘッダーは「高評価の食事がきっと気に入るはず！」、メッセージの構成セクションは「recommendations_be_recent_category」を選択する。][3]{: style="max-width:90%;"}

例えば、最近見たカテゴリーが「チキン」であるユーザーがいるとする。設定されたパーソナライゼーションとコンテンツカードキャンペーンを使って、このユーザーにチキンを含む3つのおすすめ料理を送ることができる。

![レモン風味のチキンの炭火焼きの画像と、ユーザーが最近見たカテゴリーに基づいたチキンを含む3つのおすすめ料理のリストが表示されたコンテンツカード。][4]{: style="max-width:90%;"}

同じパーソナライゼーションを使えば、最近見たカテゴリーが「牛肉」であるユーザーに対して、おすすめの食事を3つ送ることもできる。

![ビーフ・ストロガノフの画像を使ったコンテンツ・カードと、ユーザーが最近見たカテゴリーに基づいた、ビーフを含むおすすめ料理2品のリスト。][5]{: style="max-width:90%;"}


[1]: {% image_buster /assets/img_archive/catalog_selections1.png %}
[2]: {% image_buster /assets/img_archive/catalog_selections2.png %}
[3]: {% image_buster /assets/img_archive/catalog_selections3.png %}
[4]: {% image_buster /assets/img_archive/catalog_selections4.png %}
[5]: {% image_buster /assets/img_archive/catalog_selections5.png %}
[6]: {% image_buster /assets/img_archive/catalog_selections6.png %}
[7]: {% image_buster /assets/img_archive/catalog_selections7.png %}
