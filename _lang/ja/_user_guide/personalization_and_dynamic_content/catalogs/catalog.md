---
nav_title: カタログを作成する
article_title: カタログを作成する
alias: "/catalogs/"
page_order: 1
description: "この参考記事では、Liquidを通してBrazeのキャンペーンでユーザー以外のデータを参照するカタログを作成する方法について説明する。"
---

# カタログを作成する

> カタログを作成するには、ユーザー以外のデータのCSVファイルをBrazeにインポートする。これにより、その情報にアクセスしてメッセージを充実させることができます。カタログには、任意のタイプのデータを取り込むことができます。このデータは通常、eコマース・ビジネスの商品情報や、教育プロバイダーのコース情報など、あなたの会社のある種のメタデータである。

カタログの一般的な使用例には次のようなものがある：

- 製品
- サービス
- 食品
- 今後のイベント
- 音楽
- パッケージ

この情報をインポートすると、Liquid を介したカスタム属性またはカスタムイベントプロパティへのアクセスと同様の方法で、メッセージ内でのアクセスを開始できます。

## CSVファイルを準備する

カタログを作成する前に、アップロードによるカタログ作成を希望する場合は、CSVファイルを用意しておくこと。

{% alert note %}
CSV ファイルを保存するためにより多くのスペースが必要な場合、カタログのアップグレードの詳細については、Brazeのアカウントマネージャーにお問い合わせください。
{% endalert %}

### CSVファイルのガイドライン

CSVファイルを作成する際には、以下のガイドラインに注意すること。CSVファイルの最初の列は、`id` のヘッダーでなければならず、各項目の`id` は一意でなければならない。その他のカラム名はすべて一意でなければならない。さらに、カタログCSVファイルには以下の制限が適用される：

- 最大1,000フィールド（列）。
- 最大250文字のフィールド（カラム）名
- 全社CSVファイル合計で最大100MB（無料）
- CSV ファイルの最大サイズ 2 GB (Pro)
- 最大5,000文字のフィールド値（セル）。
- `id` とヘッダーの値には、英字、数字、ハイフン、アンダースコアのみを使用できます。

また、CSVファイルのテキストはすべて小文字でフォーマットすることを推奨する。次のステップでCSVファイルをうまくアップロードするために、CSVファイルをUTF-8形式でエンコードしていることを確認しよう。

## 方法を選択する

カタログを作成するには、「**データ設定**」＞「**カタログ**」と進む。

{% alert note %}
[古いナビゲーションを]({{site.baseurl}}/navigation)使用している場合は、「**データ**」の下に「**カタログ」が**」ある。
{% endalert %}

**新しいカタログを作成**」を選択し、「**CSVをアップロード**」または「**ブラウザで作成**」のいずれかを選択する。

### 方法1:CSVをアップロードする

1. ファイルをアップロードゾーンにドラッグ＆ドロップするか、「**CSVをアップロード**」をクリックしてファイルを選択する。<br>![][1]{: style="max-width:80%;"}<br><br>
2. 各列のデータ型として、boolean、number、string、timeのいずれかを選択する。
<br> ![][9]{: style="max-width:80%;"}<br><br>
3. カタログに名前をつける。カタログ名に関する以下の要件に留意すること：
- 一意でなければなりません。
- 最大 250 文字。
- 数字、アルファベット、ハイフン、アンダースコアのみを含むことができる。<br><br>
4. (オプション）カタログの説明を追加する。
5. **プロセスカタログ**を押してカタログを作成します。

{% alert note %}
このデータタイプは、カタログをセットアップした後は編集できない。
{% endalert %}

カタログ名にテンプレートを使うこともできる。例えば、次のものを使用できます。
{% raw %}
```liquid
{% assign language = "content_spanish" %}

{% catalog_items {{language}} fall_campaign %}
{{ items[0].body }}
```
{% endraw %}

{% alert important %}
[階層](#tiers)を超えた場合、CSV ファイルが拒否される可能性があります。
{% endalert %}

ブラウザでカタログ作成を選択した後、CSVファイルを更新することもできる。**[カタログを更新] > {CSV をアップロード]** をクリックし、カタログのアイテムの更新、追加、または削除のいずれを実行するかを選択します。

### 方法2：ブラウザで作成する

1. カタログの名前を入力する。カタログ名については、以下の要件に留意すること：
- 一意でなければなりません。
- 最大 250 文字
- 数字、アルファベット、ハイフン、アンダースコアのみを含むことができる。 <br> ![「my_catalog」という名前のカタログ。][14]{: style="max-width:80%;"}<br><br>
2. (オプション）カタログの説明を入力する。
3. カタログを更新するには、[**カタログ**] ページのリストから、先ほど作成したカタログを選択します。
4. [**カタログを更新**] > [**フィールドを追加**] をクリックして、フィールドを追加します。次に、**フィールド名を**入力し、ドロップダウンを使ってデータタイプを選択する。必要に応じて繰り返す。<br> ![「rating」と「name」という2つのフィールドの例。][12]{: style="max-width:50%;"}<br><br>
5. [**カタログを更新**] > [**項目を追加**] を選択し、以前に追加したフィールドに基づいて情報を入力して、カタログに項目を追加します。次に、[**項目を保存**] または [**保存して追加**] を選択して、項目の追加を続行します。<br> ![カタログ項目を追加する。][13]{: style="max-width:50%;"}

ブラウザでカタログ作成を選択した後、CSVファイルをアップロードすることもできる。

{% alert note %}
Brazeは、ダッシュボードのタイムスタンプに基づいて時間値を処理する。例えば、カラムの値が "03/13/2024 "で、タイムゾーンが太平洋タイムゾーンの場合、この時刻は "Mar 12, 2024, 5:00 PM "としてBrazeにインポートされる。
{% endalert %}

#### チュートリアル: CSVファイルからカタログを作成する

このチュートリアルでは、2つのゲームとそのコスト、そして画像リンクを掲載したカタログを使用する。

<style type="text/css">
.tg td{word-break:normal;}
.tg th{word-break:normal;font-size: 14px; font-weight: bold; background-color: #f4f4f7; text-transform: lowercase; color: #212123; font-family: "Sailec W00 Bold",Arial,Helvetica,sans-serif;}
.tg .tg-0pky{border-color:inherit;text-align:left;vertical-align:top;word-break:normal}
</style>
<table class="tg">
<thead>
  <tr>
    <th class="tg-0pky">id</th>
    <th class="tg-0pky">名称</th>
    <th class="tg-0pky">価格</th>
    <th class="tg-0pky">image_link</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td class="tg-0pky">1234</td>
    <td class="tg-0pky">Tales</td>
    <td class="tg-0pky">7.49</td>
    <td class="tg-0pky">https://picsum.photos/200</td>
  </tr>
  <tr>
    <td class="tg-0pky">1235</td>
    <td class="tg-0pky">Regeneration</td>
    <td class="tg-0pky">22.49</td>
    <td class="tg-0pky">https://picsum.photos/200</td>
  </tr>
</tbody>
</table>

CSVファイルをアップロードしてカタログを作成する。`id`、`title`、`price`、および `image_link` のデータ型は、それぞれ文字列、文字列、数値、文字列です。 

{% alert note %}
このデータタイプは、カタログをセットアップした後は編集できない。
{% endalert %}

![4つのカタログ列名：「id」、「title」、「price」、「image_link」。][9]{: style="max-width:85%;"}

次に、このカタログに「games_catalog」という名前を付け、「**Process Catalog」**ボタンをクリックする。その後、Brazeはカタログを作成する前に、カタログにエラーがないかチェックする。

![「games_catalog」という名前のカタログ。][11]{: style="max-width:85%;"}

カタログが作成された後は、この名前を編集することはできないことに注意してほしい。カタログを削除してから、同じカタログ名を使用して更新後のバージョンを再びアップロードできます。

カタログを作成したら、[キャンペーンでカタログ]({{site.baseurl}}/user_guide/personalization_and_dynamic_content/catalogs/using_catalogs/)の参照を開始できます。

## APIでカタログを管理する

作成したカタログが増えた場合、[カタログのリストのエンドポイント]({{site.baseurl}}/api/endpoints/catalogs/catalog_management/synchronous/get_list_catalogs/)を使用して、ワークスペース内のカタログのリストを返すこともできます。

### カタログ項目の管理

カタログの管理に加えて、非同期および同期エンドポイントを使用してカタログ項目を管理することもできます。これには、カタログ項目の編集と削除、およびカタログ項目の詳細の一覧表示の機能が含まれます。 

例えば、個々のカタログ項目を編集する場合は、[`/catalogs/catalog_name/items/item_id` エンドポイント]({{site.baseurl}}/api/endpoints/catalogs/catalog_items/synchronous/patch_catalog_item/)を使用できます。

## カタログ階層{#tiers}

次の表で、無料版とプロ版のカタログの違いを説明します。

| エリア                                  | 無料版                                                                                                                                            | カタログ Pro                                                                                                                                            |
| ------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------- |
| CSV ファイルのサイズ                         | 会社全体のすべての CSV ファイルの合計が最大 100 MB                                                                                        | 1つのCSVファイルで最大2GBまで                                                                                                                   |
| アイテム値の文字数制限       | 1 つの値は最大 5,000文字。例えば、`description` というフィールドがあった場合、フィールド内の最大文字数は5,000文字である。 | 1 つの値は最大 5,000文字。例えば、`description` というフィールドがあった場合、フィールド内の最大文字数は5,000文字である。 |
| 項目カラム名の文字数制限 | 最大 250 文字                                                                                                                                    | 最大 250 文字                                                                                                                                    |
| セレクション                            | カタログごとに最大 30 個のセレクション                                                                                                                         | カタログごとに最大 30 個のセレクション                                                                                                                         |
{: .reset-td-br-1 .reset-td-br-2 .reset-td-br-3 role="presentation" }

### カタログストレージ

{% alert important %}
Braze ダッシュボードに表示されるパッケージの権利は、見やすいように最も近い単位に丸められていますが、購入した権利全体が付与されています。カタログストレージのアップグレードを依頼するには、Brazeのアカウントマネージャーに連絡する。
{% endalert %}

#### 無料版

無料版カタログのストレージサイズは最大 100 MBです。100 MB 未満であれば、アイテム数に制限はありません。セレクションはストレージに影響します。セレクションが複雑になるほど、より多くのストレージが必要です。また、CSVカタログデータとデータストアのデータ表現との間にサイズの不一致が生じる。

#### カタログ Pro

会社レベルで、カタログ Pro の最大ストレージはカタログデータのサイズに基づきます。ストレージサイズのオプションは以下の通りである：5GB、10GB、15GBのいずれか。なお、無料版のストレージ (100 MB) はこれらの各プランに含まれています。

[1]: {% image_buster /assets/img_archive/catalog_CSV_upload.png %}
[5]: {% image_buster /assets/img_archive/catalog_CSV_example.png %}
[7]: {% image_buster /assets/img_archive/create_catalog_option.png %}
[9]: {% image_buster /assets/img_archive/catalog_data_type.png %}
[11]: {% image_buster /assets/img_archive/catalog_new_name.png %}
[12]: {% image_buster /assets/img_archive/add_catalog_fields.png %}
[13]: {% image_buster /assets/img_archive/add_catalog_items.png %}
[14]: {% image_buster /assets/img_archive/in_browser_catalog.png %}
