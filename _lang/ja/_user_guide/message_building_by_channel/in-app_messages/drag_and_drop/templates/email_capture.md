---
nav_title: メールキャプチャ
article_title: メールキャプチャ
alias: "/email_capture/"
description: "このリファレンスページでは、アプリ内メッセージドラッグアンドドロップエディタを使用してメールキャプチャフォームを作成する方法について説明します。"
---

# メールキャプチャフォーム

> ドラッグアンドドロップのメールキャプチャアプリ内メッセージテンプレートを使用して、ユーザーのメールアドレスを収集し、サブスクリプショングループを拡大します。

## SDK の要件

### 最小 SDK バージョン:

ドラッグアンドドロップエディタを使用して作成されたメッセージは、次の最小SDKバージョンのユーザーにのみ送信できます。詳細と注意すべきニュアンスについては、「ドラッグアンドドロップによるアプリ内メッセージの作成」の「[前提条件][1]」セクションを参照してください。

{% sdk_min_versions swift:5.0.0 android:8.0.0 web:2.5.0 %}

### テキストリンクの SDK バージョン

メッセージを閉じないテキストリンクを含める場合、ユーザーは次の最低限の SDK バージョンを使用する必要があります。

{% sdk_min_versions swift:6.2.0 android:26.0.0 %}

{% alert warning %}
URL にリダイレクトするリンクをアプリ内メッセージに含めた場合、エンドユーザーが指定された SDK の最低バージョンを使用していない場合、リンクをクリックするとメッセージが閉じられ、ユーザーはメッセージに戻ってフォームを送信できなくなります。
{% endalert %}

## メールキャプチャフォームの作成

**ドラッグアンドドロップのアプリ内メッセージを作成するときは、テンプレートの [**メールキャプチャ**] を選択し、[メッセージを作成] をクリックします。**このテンプレートは、モバイルアプリと Web ブラウザーの両方でサポートされています。

### ステップ 1:メッセージスタイルを設定する

テンプレートのカスタマイズを開始する前に、サイドメニューを使用してメッセージ全体のメッセージレベルのスタイルを設定できます。たとえば、メッセージに含まれるすべてのテキストのフォントやすべてのリンクの色をカスタマイズしたい場合があります。メッセージをモーダル表示タイプまたはフルスクリーン表示タイプにすることもできます。

### ステップ 2:メールキャプチャコンポーネントをカスタマイズ

メールキャプチャフォームの作成を開始するには、エディターでメールキャプチャ要素を選択します。デフォルトでは、**収集されたメールアドレスにはグローバル購読グループが Subscribed** になります。ユーザーを特定の購読グループにオプトインするには、「[メール購読状態の更新]({{site.baseurl}}/user_guide/message_building_by_channel/email/managing_user_subscriptions#updating-email-subscription-states)」を参照してください。

メールキャプチャ要素のプレースホルダーテキストとラベルテキストをカスタマイズできます。

#### E メール検証

受け入れられない特殊文字を含む電子メールアドレスをユーザーが入力した場合、一般的なエラーインジケータが表示され、フォームを送信できません。このエラーメッセージはカスタマイズできません。エラーの動作は [**プレビューとテスト**] タブとテストデバイスで確認できます。Braze がメールアドレスをフォーマットする方法の詳細については、「[メール検証]({{site.baseurl}}/user_guide/message_building_by_channel/email/email_setup/email_validation/)」をご覧ください。

### ステップ 3:免責事項言語の追加 (オプション)

メッセージには、オプトイン言語とブランドのプライバシーポリシーと利用規約へのリンクを含めることをお勧めします。テンプレートには例としてプレースホルダーの免責事項を記載していますが、これはコンプライアンスの目的では使用しないでください。必ず法務チームと協力して、特定のブランドに合わせた言語を開発してください。

{% alert note %}
配信性のベストプラクティスは法的要件を超えることが多いため、メールを送信する際には常に明示的な同意を得て、ユーザーが簡単に拒否できるようにすることをお勧めします。
{% endalert %}

### ステップ 4: メッセージにスタイルを付ける

[ドラッグアンドドロップのアプリ内メッセージコンポーネントを使用して][3]、メッセージのルックアンドフィールをカスタマイズできます。

## レポーティング

キャンペーンが開始されると、結果をリアルタイムで分析して、キャンペーンに反応したユーザーの数を確認できます。サブスクリプショングループにオプトインしたユーザーの数を確認するには、アプリ内メッセージを受信してフォームを送信したユーザーをフィルタリングして、[サブスクリプショングループに登録したユーザーのセグメントを作成できます][5]。

## ベスト・プラクティス

### ダブルオプトイン認証

リストに登録した人が本当にリストに登録するつもりで、正しいメールアドレスを提供したかどうかを確認するために、[ダブルオプトインフローを送信して](https://www.braze.com/resources/articles/embracing-the-email-double-opt-in)、メールキャプチャフォームから登録した人から 2 回目の確認を受けることをお勧めします。

これを設定する方法の1つは、Canvas Flowを使用することです。

1. アクションベースのキャンバスを作成し、ユーザーが Braze にメールアドレスを追加したときにトリガーされるように設定します。プラットフォームを初めて使用するユーザーをターゲットにできるようにしてください（たとえば、キャンバスでフィルターのないセグメントを使用するなど）。
2. {% raw %}`{{${set_user_to_opted_in_url}}}`{% endraw %}Liquid タグへのハイパーリンクを含む CTA を使用してメッセージステップを作成します。これにより、ユーザーのメール購読状態が、`opted_in`ボタンをクリックしたときの状態に変更されます。
3. [アクションパスステップを追加します]({{site.baseurl}}/user_guide/engagement_tools/canvas/canvas_components/action_paths#action-paths)。
4. 最初の方法として、`opted_in`ユーザーがメール購読ステータスをに変更したときにメールを送信します。このメールは、メールが確認されたことをユーザーに通知する必要があります。
5. ウィンドウの有効期限が切れた後にキャンバスを終了するように別のパスを設定します。

[1]: {{site.baseurl}}/user_guide/message_building_by_channel/in-app_messages/drag_and_drop/create/#prerequisites
[3]: {{site.baseurl}}/user_guide/message_building_by_channel/in-app_messages/drag_and_drop/create/#drag-and-drop-in-app-message-components
[5]: {{site.baseurl}}/user_guide/engagement_tools/segments/creating_a_segment/
