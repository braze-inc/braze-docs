---
nav_title: 電子メール認証
article_title: メール認証
page_order: 2
page_type: reference
description: "このリファレンスでは、電子メール認証（電子メールの送信元に関する検証可能な情報を電子メールに付与することを目的とした技術のコレクション）について説明する。"
channel: email

---

# 電子メール認証

> 電子メール認証は、電子メールにその発信元に関する検証可能な情報を装備する技術の集合体である。<br><br>適切な認証は、インターネット・サービス・プロバイダー（ISP）があなたを望ましい電子メールの送信者として認識し、メールを直ちに配信するために極めて重要である。認証がない場合、アウトリーチは不正であると見なされます。 

## 認証方法

### 送信者ポリシーフレームワーク (SPF)

この方法は、あなたのBrazeメール送信IPアドレスが、あなたに代わってメールを送信する権限があることを確認する。SPFは基本的な認証であり、DNS設定でテキストレコードを公開することで実現される。受信サーバーは DNS レコードをチェックし、それが本物かどうかを判定します。この方法は、メール送信者を検証する目的で設計されています。

SPF レコードは、Braze で IP とドメインを構成するときに設定されます。当社が提供する DNS レコードを追加する以外の操作は必要ありません。

### ドメインキー識別メール (DKIM)

この方法では、Braze メール送信ドメインに、お客様に代わってメールを送信する権限が付与されていることを確認します。この方法は、送信者の真正性を検証し、メッセージの完全性が保たれていることを検証するために設計されている。また、個々の暗号デジタル署名を使用するため、ISPは配信するメールがあなたが送信したものと同じであることを確認できる。

Brazeはあなたの秘密の秘密鍵でメールに署名する。ISPは、カスタムDNSレコードに保存されているあなたの公開鍵と照合して署名を検証する。2 つとしてまったく同じ署名はなく、お客様の公開キーだけが、対応する秘密キーの署名を正しく検証することができます。

DKIM レコードは、Braze で IP とドメインを構成するときに設定されます。当社が提供する DNS レコードを追加する以外の操作は必要ありません。

### ドメインベースのメッセージ認証、報告、適合性（DMARC）

[Domain-based Message Authentication, Reporting& Conformance (DMARC)](https://dmarc.org/)は、メール送信者がメールの正当性を証明するためのメール認証プロトコルであり、メールボックス受信者の信頼性を高め、メールの受け入れを促す。DMARC により、送信者ポリシーフレームワーク (SPF) またはドメインキー識別メール (DKIM) を使用して認証されなかったメールの処理方法をメール送信者が指定できます。これは、SPFとDKIMの両方のチェックがパスしていることを確認することで達成される。 

送信者は、自分の署名や認証のチェックに失敗したメールの処理方法をメールボックスプロバイダーに指示できます。失敗は、他人による送信者やそのメールの「なりすまし」の試みを示す可能性があります。送信者は、メールボックスプロバイダｰにメールの拒否または隔離を指示したり、さらにチェックに失敗したメールの自動レポートを送信したりできます。これにより、メールボックスプロバイダーはスパム送信元をよりよく特定し、悪意のあるメールよる受信トレイへの侵入を防止できます。同時に、誤検知を最小限に抑え、市場での透明性を向上させる優れた認証レポートを提供できます。

#### その仕組み

DMARC を導入するには、ドメインネームシステム (DNS) に DMARC レコードを公開する必要があります。これは、SPFとDKIMのステータスをチェックした後、メールドメインのポリシーを公に表現するTXTレコードである。DMARCは、SPFまたはDKIMのいずれか、あるいは両方がパスした場合に認証する。これは DMARC アライメントと呼ばれます。

DMARCレコードはまた、DMARCレコードに記載されている報告用電子メールアドレスにXMLレポートを送り返すよう、電子メールサーバーに指示する。これらのレポートは、お客様のEメールがエコシステム内をどのように移動しているかについての洞察を提供し、お客様のEメールドメインを使用してEメールコミュニケーションを送信しようとしているすべてのものを特定することを可能にする。

あなたのDMARCレコードにあるポリシーは、SPFとDKIMをパスしていないが、あなたのドメインからのものであると主張するメールに対して何をすべきかを、参加する受信者メールサーバーに指示する。Brazeでは、ルートドメインにDMARCポリシーを設定し、すべてのサブドメインに適用することを推奨している。つまり、今後、現在のサブドメインや新しいサブドメインで追加設定が不要になるということだ。設定できるポリシーは3種類ある：

| 方針 | 影響 |
| --- | --- |
| なし | メールボックスプロバイダーに、失敗したメッセージに対して何もしないように指示します。 |
| 検疫 | メールボックスプロバイダーに、失敗したメッセージをスパムフォルダーに送信するように指示します。 |
| 却下する | メールボックス・プロバイダに、失敗したメッセージはスパムフォルダに入り、ブロックされるべきであると伝える。 |
{: .reset-td-br-1 .reset-td-br-2 .reset-td-br-3 role="presentation" }

#### ドメインのDMARC認証を確認する方法

ドメインのDMARC認証をチェックするには、2つのオプションがある：

- **オプション 1:**[MXToolbox](https://mxtoolbox.com/dmarc.aspx) などのサードパーティの DMARC チェッカーに親ドメインやサブドメインを入力して、DMARC ポリシーが配備されているかどうか、およびそのポリシーの設定内容を監査できます。
    - **MXToolbox**：DMARCをルートドメインに設定した場合、MXToolboxにそれを入力する。サブドメインにDMARCを設定する場合は、MXToolboxにサブドメインを入力する。MXToolbox は、ルックアップの実行時に上下をチェックしません。つまり、ルートドメインでDMARCを設定し、サブドメインを入力した場合、MXToolboxはルートドメインでDMARCが設定されていることを知らないため、失敗を表示する。
- **オプション 2:**メールボックスでドメインまたはサブドメインからのメールを開き、元のメッセージを見つけて、DMARCがこのメールで認証をパスしているかどうかをチェックする。

例えば、Gmailを使っている場合は、以下の手順に従う：

1. Eメールメッセージの**More** <i class="fa-solid fa-ellipsis"></i> をクリックする。
2. [**メッセージのソースを表示]** を選択します。
3. [**DMARC**] ステータスが「PASS」かどうかを確認します。

![DMARCの値として "PASS "を持つメール。]({% image_buster /assets/img_archive/dmarc_example.png %})

