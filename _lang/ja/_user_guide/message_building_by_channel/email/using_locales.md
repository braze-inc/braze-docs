---
nav_title: メッセージのロケール
article_title: メッセージのロケール
page_order: 6.3
description: "この記事では、メッセージングでロケールを使用する手順について説明します。"
---

# メッセージングのロケール

> ワークスペースにロケールを追加すると、1 通のメールメッセージの中で、異なる言語のユーザーをすべてターゲットにすることができます。

## 前提条件

[多言語サポート]({{site.baseurl}}/multi_language_support/)の編集および管理を行うには、「多言語設定を管理」のユーザー権限が必要です。メッセージにロケールを追加するには、キャンペーンの編集権限が必要だ。

## ロケールの使用

メッセージングでロケールを使用するには、メールキャンペーンまたはキャンバスを作成します。HTMLエディタかドラッグ・アンド・ドロップ・エディタのいずれかを選択し、エディタに応じた手順に従う。

{% tabs %}
{% tab HTMLエディタ %}

1. 翻訳するテキストを強調表示します。[**翻訳タグを挿入**] を選択します。これにより、テキストが翻訳タグで囲まれます。<br>![]({% image_buster /assets/img/multi-language_support/html_editor_translation_tag_example.png %}) 1つのロケールを選択したHTML エディタ。
2. メッセージを下書きとして保存する。
3. [**多言語サポート**] を選択し、そのドロップダウンを使用してメッセージのロケールを追加します。
4. [**テンプレートをダウンロード**] を選択して、翻訳テンプレートを CSV ファイルとしてダウンロードします。次に、CSVファイルに翻訳を記入する。<br>![翻訳 CSV ファイルの例。]({% image_buster /assets/img/multi-language_support/translation_csv_example.png %}) 
5. **Upload translationsを**選択し、翻訳が完了したCSVファイルをアップロードする。

{% endtab %}
{% tab ドラッグ＆ドロップ・エディター %}

1. 翻訳タグ{% raw %}`{% translation %}` と`{% endtranslation %}`{% endraw %} を追加して、翻訳するすべてのテキストと画像、リンクURLをラップする。 
2. 各翻訳タグに ID タグを追加します。例を挙げよう： {% raw %}`{% translation id_1 %}`{% endraw %}<br>![2つの翻訳IDを持つドラッグ＆ドロップ・エディター]({% image_buster /assets/img/multi-language_support/dnd_editor_translation_example.png %})
3. タグを追加したら、メッセージを下書きとして保存する。
4. [**多言語サポート**] を選択し、そのドロップダウンを使用してメッセージのロケールを追加します。
5. [**テンプレートをダウンロード**] を選択して、翻訳テンプレートを CSV ファイルとしてダウンロードします。 
6. CSVファイルに翻訳を記入する。ステップ1から翻訳タグを直接コピー＆ペーストした場合は、CSVファイルの**翻訳タグ**欄から`<code>` 。
7. **Upload translationsを**選択し、翻訳が完了したCSVファイルをアップロードする。

{% endtab %}
{% endtabs %}

CSV ファイルの ID や ロケールに変更があっても、メッセージは自動的に更新されません。翻訳を更新するには、CSVファイルを更新し、ファイルを再アップロードする。

## ロケールのプレビュー

[**プレビュー後にテスト**] セクションで、[**多言語ユーザー**] を選択してメッセージが期待どおりに翻訳されているかどうかを確認します。

## 翻訳をマネージャーする

### キャンペーンやキャンバスの翻訳を編集する。

キャンペーンやキャンバスが開始された後でも、下書きモードであれば翻訳を修正することができる。これは、コンポーザーで直接翻訳を編集する場合でも、CSVアップロードを利用する場合でも、APIを利用する場合でも同じだ。 

翻訳更新を行う前に、キャンペーンまたはキャンバスをまず下書きとして保存する必要がある。

1. **キャンペーン/キャンバスを編集を**選択し、コンポーザーで編集を行う。
2. **下書きとして保存を**選択し、モーダルで「**はい**」を選択する。
3. **レビューサマリーの**ステップに進み、**キャンペーン／キャンバスの更新を**選択する。
4. モーダルで**キャンペーン/キャンバスの更新を**選択する。

ローンチ後のキャンペーンとキャンバスのマネージャーについては、[ローンチしたキャンペーンと]({{site.baseurl}}/user_guide/engagement_tools/campaigns/managing_campaigns/change_your_campaign_after_launch/) [キャンバスの下書きとローンチ後の]({{site.baseurl}}/user_guide/engagement_tools/canvas/managing_canvases/canvas_drafts/) [編集を]({{site.baseurl}}/user_guide/engagement_tools/campaigns/managing_campaigns/change_your_campaign_after_launch/)参照。

### キャンバスのステップやキャンペーンの複製と翻訳

キャンバスのステップやキャンペーンを複製する場合、立ち上げ後の下書きモードであれ、最初の作成中であれ、そのステップに関連する翻訳は引き継がれない。必要な翻訳は、新しいステップやキャンペーンに追加する必要がある。キャンバスやキャンペーンに修正を加える際には、必ず翻訳を確認し、適宜更新すること。

### Canvasesで多言語APIを使う

[Canvasesで多言語APIを]({{site.baseurl}}/api/endpoints/translations/)使用するには、パラメータリストに`workflow_id` 、`step_id` 、`message_variation_id` を含める必要がある。

#### 発売後の下書きにキャンバスのステップが追加された。

キャンバス起動後に作成されたキャンバスステップで多言語APIを使用する場合、APIに渡す`message_variation_id` は空または空白になる。

## よくある質問

#### あるロケールの翻訳文を変更しようと考えています。どうすればいいですか?
CSV で編集を行い、ファイルを再度アップロードすることで、翻訳文を変更します。

#### 翻訳タグをネストできますか?
いいえ。

#### メールテンプレートにローカライゼーションを使用できるか？
いいえ。ロケールは、キャンバスのキャンペーンおよびメッセージステップのメールエディターでのみサポートされます。

#### 翻訳タグにHTMLスタイルを追加できるか？
そうです。ただし、HTMLのスタイリングがコンテンツと一緒に翻訳されていないことを確認してほしい。

#### Brazeは翻訳に対してどのような検証や追加チェックを行っているのか？

| シナリオ                                                                                                                                                 | Braze での検証                                                                                            |
|----------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------|
| 現在のメッセージに関連するロケールが翻訳ファイルにない。                                                                               | この翻訳ファイルはアップロードされない。                                                                       |
| 翻訳ファイルに、現在の電子メールメッセージから、リキッド翻訳タグ内のテキストなどのテキストブロックが欠落している。                                | この翻訳ファイルはアップロードされない。                                                                       |
| 翻訳ファイルには、現在のメール・メッセージのテキスト・ブロックと一致しないデフォルト・テキストが含まれている。                                          | この翻訳ファイルはアップロードされない。再アップロードを試みる前に、CSVでこれを修正する。               |
| 翻訳ファイルには、**多言語サポート**設定に存在しないロケールが含まれている。                                                           | これらのロケールは Braze に保存されません。                                                                      |
| 翻訳ファイルには、現在のメッセージ（翻訳がアップロードされた時点の草稿など）には存在しないテキストブロックが含まれる。 | 現在のメッセージに存在しないテキストブロックは、翻訳ファイルから Braze には保存されません。 |
| ロケールが翻訳ファイルの一部としてすでにメッセージにアップロードされた後に、メッセージからロケールを削除する。                           | ロケールを削除すると、メッセージ内のそのロケールに関連する翻訳がすべて削除される。                   |
{: .reset-td-br-1 .reset-td-br-2 role="presentation" }

{% multi_lang_include locales.md section="よくある質問" %}