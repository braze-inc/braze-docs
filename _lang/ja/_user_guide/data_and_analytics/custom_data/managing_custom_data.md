---
nav_title: カスタムデータの管理
article_title: カスタムデータの管理
page_order: 20
page_type: reference
description: "このリファレンス記事では、キャンペーンやセグメントへの事前入力、禁止リストへのデータの追加、データの削除など、カスタムデータの管理方法について説明します。"
---

# カスタムデータの管理

> キャンペーンやセグメントへのカスタムデータの事前入力、不要になったデータの禁止リストの作成、またカスタムイベント、カスタム属性、およびカスタムプロパティを管理する方法を学びましょう。

## カスタムデータの事前入力

開発チームがカスタムデータを統合する前に、そのカスタムデータを使用してキャンペーンやセグメントを設定したい場合があります。Braze では、カスタムイベントやカスタム属性のデータの追跡を開始する前に、ダッシュボードにそれらのデータを事前入力できるため、これらのイベントや属性をドロップダウンやキャンペーン作成プロセスの一部として使用できます。

カスタムイベントとカスタム属性を事前入力するには次の手順に従います。

1. [**データ設定**] > [**カスタムイベント**] または [**カスタム属性**] または [**製品**] に移動します。

{% alert note %}
[古いナビゲーションを]({{site.baseurl}}/navigation)使用している場合、これらのページは [**設定の管理**] の下に表示されます。
{% endalert %}

![[カスタム属性]、[カスタムイベント] または [製品] に移動する。][21]{: style="max-width:90%;" }

{: start="2"}
2. カスタム属性、カスタムイベント、または製品を追加するには、それぞれのページに移動して、[**カスタム属性を追加**]、[**カスタムイベントを追加**]、または [**製品を追加**] をクリックします。<br><br>カスタム属性の場合は、この属性の[データ型][20] (ブール型、文字列など)を選択します。属性のデータ型によって、その属性に使用できるセグメンテーションフィルターが決まります。<br><br>![新しい属性やイベントを追加する][22]{: style="max-width:80%;" }
3. [**保存**] をクリックします。

### カスタムイベントとカスタム属性の命名

カスタムイベントとカスタム属性では大文字小文字が区別されます。開発チームが後でこれらのカスタムイベントやカスタム属性を統合するときには、この点に留意してください。開発チームがカスタムイベントやカスタム属性に付ける名前は、ここで付けた名前とまったく同じでなければなりません。異なる場合、Braze により別のカスタムイベントやカスタム属性が生成されます。

## プロパティの管理

カスタムイベントまたは製品を作成した後、そのイベントまたは製品の [**プロパティの管理**] をクリックして、新しいプロパティの追加、禁止リストへの既存のプロパティの追加、および[トリガーイベント]({{site.baseurl}}/user_guide/engagement_tools/campaigns/scheduling_and_organizing/delivery_types/triggered_delivery/#step-1-select-a-trigger-event)でこのプロパティを使用するキャンペーンまたはキャンバスの表示ができます。

![カスタムイベントのカスタムプロパティ][73]{: style="max-width:80%"}

これらの追加されたカスタム属性、カスタムイベント、製品、またはカスタムイベントプロパティを追跡可能にするには、以前の追加時に使用した正確な名前を使用して SDK でそれらを作成するように、開発チームに依頼する必要があります。または、Braze [API]({{site.baseurl}}/api/basics/) を使用してその属性のデータをインポートすることもできます。その後、カスタム属性、カスタムイベントなどのアクションが可能になり、ユーザーに適用されます。

{% alert note %}
ユーザープロファイルのすべてのデータ (カスタムイベント、カスタム属性、カスタムデータ) は、ユーザープロファイルがアクティブである限り保存されます。
{% endalert %}

## 禁止リストへのカスタムデータの追加

たまに、カスタム属性、カスタムイベント、購入イベントについて、データポイントの消費量が多いもの、マーケティング戦略に不要になったもの、または誤って記録されたものが見つかることがあります。開発チームがアプリや Web サイトのバックエンドからこのデータを削除する作業をしている間、このデータが Braze に送信されないようにするために、カスタムデータオブジェクトを禁止リストに入れておくことができます。

禁止リストにカスタムデータオブジェクトを追加すると、そのデータが Braze に記録されなくなります。つまり、特定ユーザーを検索するときにそのデータが表示されなくなります。ただし、禁止リストを使用しても、ユーザープロファイルからデータが削除されたり、そのカスタムデータオブジェクトで生じたデータポイントの量が遡及的に減少したりすることはありません。

カスタムデータの禁止リストに関する説明と詳細については、「[カスタムデータの管理]({{site.baseurl}}/user_guide/data_and_analytics/custom_data/managing_custom_data/#blocklisting-custom-data)」を参照してください。

### 禁止リストへのカスタム属性、カスタムイベント、製品の追加

{% alert important %}
イベントや属性を禁止リストに追加すると、そのイベントや属性を使用しているセグメント、キャンペーン、またはキャンバスがアーカイブされます。
{% endalert %}

特定のカスタム属性、カスタムイベント、または製品の追跡を停止するには、次のステップに従います。

1. [**カスタム属性**]、[**カスタムイベント**] または [**製品**] のページで追跡を停止するものを検索します。
2. カスタム属性、カスタムイベント、または製品を選択します。カスタム属性とカスタムイベントについては、一度に 10 個まで選択して禁止リストに追加できます。
3. [**禁止リスト**] をクリックします。

![Multiple selected custom attributes that are blocklisted on the Custom Attributes page.]({% image_buster /assets/img_archive/blocklist_custom_attr.png %})

禁止リストには、最大で 300 個のカスタム属性と 300 個のカスタムイベントを追加できます。特定のデバイス属性の収集を停止する方法については、[SDKガイド][88]を参照してください。

カスタムイベントやカスタム属性を禁止リストに追加すると、以下のことが適用されます。

- そのイベントや属性に関するデータは収集されません。
- 再びアクティブにしない限り、既存のデータは利用できません。
- 禁止リストに追加したイベントや属性は、フィルターやグラフに表示されません。
- アクティブなキャンバスの下書き内で禁止リストに追加済みのデータを参照すると、無効な値として読み込まれ、エラーの発生する可能性があります。
- 禁止リストにあるイベントや属性を使用したものはすべてアーカイブされます。

これを実現するために、Braze は禁止リスト情報を各デバイスに送信します。膨大な数のイベントや属性 (数十万、数百万に及ぶ) を禁止リストに追加することを考えた場合、これはデータ集約的な操作になるため重要です。

### 禁止リストの考慮事項

考慮すべきこととして、多数のイベントや属性を禁止リストに入れることができますが、これはお勧めできません。イベントが実行されたり、属性が Braze に送信される (可能性がある) たびに、このイベントや属性を禁止リスト全体と照合しなければならないためです。リストに存在するものは送信されません。この処理には時間がかかり、リストが大きくなるとアプリの動作が遅くなる可能性があります。もし、イベントや属性が今後不要であれば、次回のリリース時にアプリのコードから削除すべきです。

禁止リストの変更が伝播するまで数分かかることがあります。禁止リストのイベントや属性は、いつでも再び有効にできます。

## カスタムデータの削除

カスタムデータの削除は、カスタムデータオブジェクトを禁止リストに追加し、アプリや Web サイトから参照を削除した後に行うことができます。カスタムデータの削除のサポートについては、カスタマーサクセスマネージャーまたはサポートチームにお問い合わせください。

カスタムデータを削除すると、以下のことが実行されます。

- セグメントフィルターの選択肢と [分析] ページから、カスタム属性、カスタムイベント、または購入イベントを削除する。
- [**データ設定**] の該当する各ページから、カスタム属性、カスタムイベント、購入イベントを削除する。

{% alert important %}
削除を行っても、ユーザープロファイルにすでに記録されているデータは削除されず、ユーザープロファイルへのカスタムデータオブジェクトの記録も停止されません。カスタムデータの記録が行われなくなったことを確認してから、イベントや属性を削除してください。
{% endalert %}

## データ型の比較の強制

Braze は、受信した属性データのデータ型を自動的に認識します。しかし、イベントで 1 つの属性に複数のデータ型が適用されている場合、任意の属性にデータ型を強制することで、その属性の実体がわかります。[データ型] 列のドロップダウンをクリックして選択します。

{% alert note %}データ型の強制は、イベントプロパティや購入プロパティには適用されません。{% endalert %}

![カスタム属性のデータ型のドロップダウン][75]

{% alert warning %}
ある属性のデータ型を強制的に指定した場合、指定されたデータ型以外のデータが入力されても無視されます。
{% endalert %}

### データ型の強制

| 強制したデータ型 | 説明 |
|------------------|-------------|
| ブール型 |`1`、`true`、`t` (大文字小文字は区別されない) の入力は、`true` として保存されます |
| ブール型 | `0`、`false`、`f` (大文字小文字は区別されない) の入力は、`false` として保存されます |
| 数値 | 整数または浮動小数点数 (`1`、`1.5` など) は数値として保存されます |
{: .reset-td-br-1 .reset-td-br-2}

異なるデータ型の比較によって表示される特定のフィルターオプションの詳細については、[レポートの設定][43]を参照してください。また、利用可能な他のデータ型の詳細については、[カスタム属性のデータ型][44]を参照してください。

{% alert note %}
Braze に送信されたデータは不変であり、受信後の削除または変更ができません。ただし、ダッシュボードで追跡しているものをコントロールするために、前のセクションに挙げたステップのいずれかを使用できます。
{% endalert %}


[1]: {% image_buster/assets/img_archive/blocklist_warning.png %}
[20]: {{site.baseurl}}/user_guide/data_and_analytics/custom_data/custom_attributes/#custom-attribute-data-types
[21]: {% image_buster /assets/img_archive/prepopulate_page.png %}
[22]: {% image_buster /assets/img_archive/prepopulate_add.png %}
[43]: {{site.baseurl}}/user_guide/data_and_analytics/configuring_reporting/#configuring-reporting
[44]: {{site.baseurl}}/user_guide/data_and_analytics/custom_data/custom_attributes/#custom-attribute-data-types
[73]: {% image_buster /assets/img_archive/manageproperties1.png %}
[75]: {% image_buster /assets/img_archive/custom_events_view_data_type_dropdown.png %}
[88]: {{site.baseurl}}/developer_guide/platform_integration_guides/sdk_primer/#blocking-data-collection