---
nav_title: Currents の設定
article_title: Currents の設定
page_order: 0
page_type: tutorial
description: "このハウツー記事では、Braze Currents の連携と設定を行うプロセスを順に説明します。"
tool: Currents
search_rank: 8
---

# [![Braze ラーニングコース]({% image_buster /assets/img/bl_icon3.png %})](https://learning.braze.com/currents-the-basics-2/){: style="float:right;width:120px;border:0;" class="noimgborder"}Currents の設定

> このページでは、Braze Currents の連携と設定を行う一般的なプロセスを概説します。

{% alert important %}
Currents は特定の Braze パッケージに含まれています。質問がある場合、またはアクセスを希望する場合は、Braze の担当者にお問い合わせください。
{% endalert %}

## 要件

弊社のパートナーと連携して Currents を使用するには、同じ基本パラメーターと接続方法が必要です。

各パートナーは Braze がデータファイルを書き込んでパートナーに送信する権限を有することを要求し、Braze は、それらのファイルをパートナーが書き込む場所、具体的にはバケット名またはキーを尋ねます。

以下の要件は、ほとんどのパートナーと連携するための基本的な最小要件です。パートナーによっては、追加のパラメーターが必要になります。それらのパラメーターは、これらの基本要件とのわずかな違いとともに、それぞれの[パートナーのドキュメント]({{site.baseurl}}/user_guide/data_and_analytics/braze_currents/available_partners/)にリストされています。

| 要件 | 提供元 | アクセス | 説明
|---|---|---|---|
| パートナーのアカウント | そのパートナーにアカウントを手配するか、Brazeのアカウントマネージャーに提案を求める。 | パートナーのサイトをチェックするか、パートナーに連絡して登録します。 | Brazeは、あなたの会社のアカウントを通じてそのデータにアクセスできない場合、パートナーにデータを送信しない。
| パートナーAPIキーまたはトークン | 通常はパートナーのダッシュボードにあります。 | それをコピーして指定のBrazeフィールドに貼り付けるだけだ。 | Braze には、パートナーの「連携」ページに、このための指定フィールドがあります。これは、データの送信先をマッピングするために必要です。**パートナーのキー / トークンを最新の状態に維持することが重要です。認証情報が無効の場合、コネクターが無効になり、イベントがドロップする可能性があります。**
| 認証コード/キー、秘密キー、認証ファイル | そのパートナーのアカウント担当者に連絡します。パートナーのダッシュボードに記載されている可能性もあります。 | キーをコピーして指定のBrazeフィールドにペーストする。`.json` または他の証明書ファイルを生成して、Braze の適切な場所にアップロードします。 | Braze には、パートナーの「連携」ページに、このための指定フィールドがあります。これにより Braze に認証情報が付与され、パートナーでのお客様のアカウントに Braze がファイルを書き込むことができます。**認証の詳細を最新の状態に維持することが重要です。認証情報が無効の場合、コネクターが無効になり、イベントがドロップする可能性があります。**
| バケツ、フォルダパス | 一部のパートナーは、バケツごとにデータを整理し、分類している。これはパートナーのダッシュボードにあります。 | これが必要な場合は、Bucket名またはファイルパスをBrazeの指定スペースに正確にコピーしておくこと。私たちは、あなたのデータが失われることを望んでいない！ | これはパートナーによっては必要なことではあるが、必要なときに正しく行うことが重要だ。 |
{: .reset-td-br-1 .reset-td-br-2 .reset-td-br-3  .reset-td-br-4 role="presentation" }

{% alert important %}
パートナーのキー / トークンと認証の詳細を最新の状態に維持することが重要です。コネクターの認証情報の有効期限が切れると、コネクターはイベントの送信を停止します。この状態のまま **48 時間**を超えると、コネクターのイベントがドロップし、データが永久に喪失します。
{% endalert %}

## ステップ 1: パートナーの選択

Braze Currents を使用すると、フラットファイルを使用したデータストレージ経由での連携、またはバッチ化された JSON ペイロードを指定されたエンドポイントに送信して、行動分析を行ったり顧客データを扱ったりするパートナーとの連携ができます。  

連携を開始する前に、目的に最適な連携を決定することをお勧めします。例えば、すでに mParticle と Segment を利用していて、そこに Braze データをストリーミングする場合は、バッチ化された JSON ペイロードを使用することが最も優れた方法です。データを独自に操作する場合、またはより複雑なデータ分析システムがある場合は、データ ストレージを使用することが最も優れた方法です ([Braze ではこの方法を採用]({{site.baseurl}}/user_guide/data_and_analytics/braze_currents/how_braze_uses_currents/))。

## ステップ 2: Currents への移動

まず、[**パートナー連携**] > [**データのエクスポート**] に移動します。Currents の [連携管理] ページが表示されます。

{% alert note %}
[古いナビゲーション]({{site.baseurl}}/navigation)を使用している場合、このページは [**連携**] > [**Currents**] にあります。
{% endalert %}

![Braze ダッシュボードの Currents ページ]({% image_buster /assets/img_archive/currents-main-page.png %})

## ステップ 3: パートナーの追加

画面上部のドロップダウンを選択し、パートナー（「Currentsコネクター」と呼ばれることもある）を追加する。

パートナーごとに異なる設定ステップが必要です。各連携を有効にするには、 [利用可能なパートナー]({{site.baseurl}}/user_guide/data_and_analytics/braze_currents/available_partners/) のリストを参照し、それぞれのページの指示に従います。

## ステップ 4:イベントの設定

利用可能なオプションから、パートナーに渡すイベントのチェックボックスをオンにします。これらのイベントのリストは、[顧客行動イベント]({{site.baseurl}}/user_guide/data_and_analytics/braze_currents/event_glossary/customer_behavior_events/)ライブラリと[メッセージエンゲージメントイベント]({{site.baseurl}}/user_guide/data_and_analytics/braze_currents/event_glossary/message_engagement_events/)ライブラリにあります。

![]({% image_buster /assets/img/current4.png %})

必要に応じて、イベントの詳細について「[イベント配信セマンティクス]({{site.baseurl}}/user_guide/data_and_analytics/braze_currents/event_delivery_semantics/)」の記事を参照してください。

## ステップ 5: フィールド変換

Currents のフィールド変換を使用すると、Currents の特定の文字列フィールドの削除 (空の文字列に置換)、またはハッシュ (SHA-256 ハッシュアルゴリズムの適用) を指定できます。 

これらのいずれかの変換を行う対象のフィールドを選択すると、そのフィールドのあるすべてのイベントにその変換が適用されます。例えば、ハッシュ化の対象として `email_address` を選択すると、メール送信数、メール開封数、メールバウンス数、サブスクリプショングループの状態の変更の `email_address` フィールドがハッシュ化されます。

![フィールド変換の追加]({% image_buster /assets/img/current3.png %})

## ステップ 6:連携のテスト

連携をテストしたり、Currents の例の [GitHub リポジトリ](https://github.com/Appboy/currents-examples)にあるサンプルの Currents データを確認したりできます。

{% alert important %}
Currents は、900 KB を超える過度に大きなペイロードを持つイベントをドロップすることに注意してください。
{% endalert %}

### Currents のテストコネクター

Currents のテストコネクターは、弊社の既存のコネクターの無料版であり、さまざまな送信先のテストと試行に使用できます。Currents のテストは次のとおりです。
- Currents のテストコネクターの数に制限はありません。
- 7 日間の移動期間あたり、集計するイベントは最大 10,000 件です。このイベントの合計はダッシュボードで 1 時間ごとに更新されます。

Currents のテストコネクターが送信制限に達すると、コネクターは次の 7 日間まで、イベントを送信しません。

Currents のテストコネクターをアップグレードするには、ダッシュボードで連携を編集し、[**アップグレード**] を選択します。

## Currents の更新

{% multi_lang_include updating_currents.md %}

## IP許可リスト

Braze は、リストされた IP から Currents データを送信します。これは、許可リストにオプトインされているすべての API キーにダイナミックに自動で追加されます。

| インスタンス `US-01`、`US-02`、`US-03`、`US-04`、`US-05`、`US-06`、`US-07` の場合:  |
|---|
| `127.0.0.1`
| `23.21.118.191`
| `34.206.23.173`
| `50.16.249.9`
| `52.4.160.214`
| `54.87.8.34`
| `54.156.35.251`
| `52.54.89.238`
| `18.205.178.15`

| インスタンス `EU-01` と `EU-02` の場合:  |
|---|
| `127.0.0.1`
| `52.58.142.242`
| `52.29.193.121`
| `35.158.29.228`
| `18.157.135.97`
| `3.123.166.46`
| `3.64.27.36`
| `3.65.88.25`
| `3.68.144.188`
| `3.70.107.88` 

| インスタンス `US-08` の場合:  |
|---|
| `52.151.246.51`
| `52.170.163.182`
| `40.76.166.157`
| `40.76.166.170`
| `40.76.166.167`
| `40.76.166.161`
| `40.76.166.156`
| `40.76.166.166`
| `40.76.166.160`
| `40.88.51.74`
| `52.154.67.17`
| `40.76.166.80`
| `40.76.166.84`
| `40.76.166.85`
| `40.76.166.81`
| `40.76.166.71`
| `40.76.166.144`
| `40.76.166.145`