---
nav_title: 同期ログと観測可能性
article_title: 同期ログと観測可能性
page_order: 10
page_type: reference
description: "このページでは、CDIで利用可能なオブザーバビリティ機能の概要を説明する。"
---

# 同期ログと観測可能性

> Cloud Data Ingestion (CDI)**Sync Log**ダッシュボードでは、CDIによって処理されたすべてのデータを監視し、データが正常に同期されたかどうかを確認し、「不正確な」データや欠落したデータに関する問題を診断することができる。

同期ログにアクセスするには、**Data Settings**>**Cloud Data Ingestionに**進み、**Sync Log**タブを選択する。

## シンクログダッシュボードを理解する

メインの**Sync Log**ページでは、最近実行されたシンクの現在または最終ステータス別の概要を含む、すべてのシンク実行のハイレベルな概要を提供する。

* **走っている：**現在進行中のジョブを同期する。  
* **成功:**同期ジョブが完了し、すべての行が正常に処理された。  
* **部分的に成功した：**同期ジョブは完了したが、1 つ以上の行でエラーが発生した。  
* **エラー:**完了に失敗した同期ジョブ。  
* **制限を超えた：**データ上限を超えたために処理を停止した同期ジョブ。

![合計6,576回の成功を記録した同期ログの例。]({% image_buster /assets/img/cloud_ingestion/sync_logs1.png %}){: style="max-width:80%"}

同期ログには、各同期の以下の詳細も記録されている：

* **同期名：**同期設定の名前。  
* **IDを実行する：**シンクの特定の実行に対する一意の識別子。詳細を見るには、このIDを選択する。これは[CDI APIエンドポイントでも]({{site.baseurl}}/api/endpoints/cdi)使用でき、Brazeサポートで実行された同期を参照することもできる。   
* **ステータス:**実行のステータス（成功、部分成功、エラー、実行中）。  
* **ソースから新しい行を読み込む：**この実行でデータウェアハウスから引き出された新しい行の数。  
* **結果:**実行中に成功した行数、失敗した行数の内訳。  
* **Last"UPDATED_AT":**この同期実行で処理された最新のレコードのタイムスタンプ。  
* **走行開始時間：**同期が開始された。  
* **走行時間**同期ジョブが完了するまでにかかった合計時間。

![同期ログの詳細。]({% image_buster /assets/img/cloud_ingestion/sync_logs3.png %}){: style="max-width:80%"}

### データのリテンション

すべての行レベルのペイロードとエラーの詳細を含む同期ログデータは、最大**30**日間保持される。30日以上前のログは自動的に消去される。

処理された行数などの同期実行メタデータは、少なくとも12ヶ月間保持される。

### 同期ログをフィルターする

同期ログテーブルをフィルターして、特定の実行を見つけることができる。使用可能なフィルターは以下の通りだ：

* **仕事開始日**定義済みの範囲（「過去30日間」など）またはカスタムの日付範囲を選択する。  
* **ステータス:**1つまたは複数のシンクステータスでフィルターをかける（**エラーと** **パーシャルサクセスステータスのみを**表示するなど）。  
* **同期名：**特定のシンクをその名前で検索する。

特定のシンクを調査するには、シンクログテーブルから関連する**ランIDを**選択する。**実行の詳細**ページでは、シンクの詳細な行ごとのログを見ることができる。

### ランの概要

このセクションでは、開始時間、終了時間、継続時間、ソースから読み取られた行の合計数など、選択されたランを要約する。また、成功した行数とエラーになった行数のカウントも提供する。

### この実行で処理された行数

このテーブルは、シンク中に処理されたデータの行レベルの可視性を提供し、個々のレコードを検証できるようにする。

* **検索してみよう：****ユーザーIDによる検索**バーを使用して、ランの結果から特定のユーザーを検索することができる。  
* **詳細はこちら：**   
  * **UPDATED_AT:** 特定の行の`UPDATED_AT` 列のタイムスタンプ。  
  * **ID:**ユーザー識別子（`external_id` 、`email` 、`alias_name` など）。Braze ユーザープロファイルとレコードを照合するために使用される。  
  * **ステータス:**その行の個々の処理ステータス**（成功**または**エラー**）。  
  * **ソースペイロード：**データペイロードを見るためのリンク。  
  * **エラーの理由：**ステータスが**エラーの**場合、このカラムには、行の同期に失敗した理由を説明するメッセージが表示される。

#### ペイロードを見る

特定の行についてBrazeに送信された正確なデータを見るには、**ソースペイロード**欄で**View payloadを**選択する。これは、そのユーザーに対して処理された生のJSONペイロードを表示する。

![同期ログの特定の行に対するペイロードの例。]({% image_buster /assets/img/cloud_ingestion/sync_logs2.png %}){: style="max-width:80%"}

#### 同期ログをエクスポートする

**Export rows（行のエクスポート）**ボタンを使って、シンク実行の行レベルのログをエクスポートできる。Brazeには2つのエクスポートオプションがある：

* **すべてのログをエクスポートする：**実行中に処理されたすべての行を含むファイルをダウンロードする。  
* **エラーログのみをエクスポートする：**エラーステータスの行のみを含むファイルをダウンロードする。

ログはダッシュボードから直接エクスポートできない。エクスポートが生成されると、ログエクスポートファイルをダウンロードするためのリンクが記載されたメールが届く。 

## 通知

CDIシンクのステータスを知らせるメール通知を設定できる。これらの設定はシンクの作成時に設定され、いつでも更新できる。

### エラー通知

シンクレベルのエラーの通知を受け取るには、少なくとも1つのメールアドレスの連絡先が必要である。これらのアラートは、シンクジョブ全体の実行や完了に失敗した場合や、認証情報の期限切れやソーステーブルの欠落など、シンクの変更にユーザーの操作が必要なエラーに遭遇した場合に送信される。

その他の通知は以下の通りだ：

- **行エラーだ：**同期中に一定の割合の行が更新されなかった場合にアラートを受け取る。
- **故障のしきい値(%)：**アラートをトリガーする行失敗の割合を指定する。例えば、これを**1に**設定すると、同期実行中の行の1％以上がエラーになった場合に通知が送られる。
- **同期に成功した：**同期が成功したら通知を受け取る。
- **行に変更がなくても警告を発する：**同期が成功し、新規または更新された行がゼロの場合でも通知を受け取る。