{% if include.section == "Variant distribution" %}

バリアント間の分布は必ずしも均等ではありません。バリアント分布の仕組みを紹介します。

多変量キャンペーンでメッセージが送信されるたびに、システムは独立系で、設定したパーセンテージに従ってランダムなオプションを選択し、その結果に基づいてバリアントを割り当てる。コインをめくるようなものです。異常はあり得ます。コインを100回めくったことのある人なら、選択肢が2つしかないのに、毎回表と裏が正確に半々になることはおそらくないだろうと知っているでしょう。表は52個、裏は48個になるかもしれません。

均等に分割したいバリアントが複数ある場合は、バリアントの数も100の倍数になるようにする必要があります。そうしないと、一部のバリアントは、他のバリアントと比較して、そのバリアントに分散されたユーザの割合が高くなります。たとえば、キャンペーンに7つのバリアントがある場合、7は整数として100で均等に割らないため、偶数のバリアント分布が存在することはできません。この場合、15%の2つのバリアント14%の5つのバリアントを持つことになります。

#### アプリ内メッセージに関する注意

アプリ内メッセージでA/Bテストを実行する場合、たとえ同じ割合のスプリットであったとしても、分析ではあるバリアントと別のバリアントでより高いバリアント分布が表示されることがある。たとえば、バリアント A とバリアント C の*ユニーク受信者*の次のグラフを考えてみます。

![バリアント A とバリアント C の間に類似した形状を持つ 2 つのバリアントのユニーク受信者のグラフ。バリアント A の方が 1 日あたりのユニーク受信者数が高い]({% image_buster /assets/img/variant_distribution_iam.png %})

バリアント A は、バリアント C よりも*ユニーク受信者*の数が一貫して多いです。これは、バリアント分布によるものではなく、アプリ内メッセージの*ユニーク受信者数*の計算方法によるものです。アプリ内メッセージの場合、*ユニーク受信者数*は実際には*ユニークインプレッション数*で、アプリ内メッセージを受け取って閲覧した人の合計数です。つまり、ユーザーが何らかの理由でメッセージを受け取らなかったり、メッセージを閲覧しないことにした場合、そのユーザーは*ユニーク受信者*数に含まれず、バリアント分布が偏っているように見える可能性があります。

{% endif %}