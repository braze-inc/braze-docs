---
nav_title: API キャンペーン
article_title: API キャンペーン
page_order: 5
description: "このリファレンス記事では、API 呼び出しに含める campaign_id を生成する方法と、そのキャンペーンを設定する方法について説明します。"
page_type: reference
tool: Campaigns

---
# API キャンペーン

> このリファレンス記事では、API `campaign_id` 呼び出しに含めるものを生成する方法と、そのキャンペーンを設定する方法について説明します。

API キャンペーンは通常、トランザクションメッセージングに使用されます。APIキャンペーン（[APIトリガーキャンペーンではない]({{site.baseurl}}/user_guide/engagement_tools/campaigns/building_campaigns/delivery_types/api_triggered_delivery/)）を作成する場合、Brazeダッシュボードはキャンペーンレポートの分析を追跡するための生成にのみ使用されます。`campaign_id`また、キャンペーンのバリエーションごとに異なるメッセージバリエーション ID を生成することもできます。 

次に、その情報を開発チームに送信して API リクエストで使用します。また、次の情報も一緒に送信します。
- キャンペーンコピー
- オーディエンスメンバーシップ
- 資産

キャンペーンが開始されると、ダッシュボードで結果を確認できます。[APIキャンペーンはBrazeメッセージAPIを使用しており]({{site.baseurl}}/api/endpoints/messaging/)、ダッシュボードだけで作成されたキャンペーンと同じ詳細なレポートとリターゲティングオプションを備えています。

{% alert warning %}
API キャンペーンは通常トランザクション型であるため、グローバルコントロールグループのユーザーも含め、すべてのユーザーが API キャンペーンの対象となります。[これらの送信には、ワンクリックのリスト購読解除ヘッダーは追加されません]({{site.baseurl}}/user_guide/administrative/app_settings/email_settings/#list-unsubscribe)。すべての API キャンペーンにワンクリックのリスト登録解除ヘッダーを追加したい場合は、カスタマーサクセスマネージャーにお問い合わせください。
{% endalert %}

## 新しいキャンペーンを作成する

\[**メッセージング**] > \[**キャンペーン**] に移動し、\[**キャンペーンの作成**] をクリックして、\[**API キャンペーン**] を選択します。これで、API キャンペーンの設定に進むことができます。

[API トリガーキャンペーンは]({{site.baseurl}}/user_guide/engagement_tools/campaigns/building_campaigns/delivery_types/api_triggered_delivery/) API キャンペーンとは異なります。

## キャンペーンを設定

キャンペーンを設定するには、次の手順を実行します。

1. メッセージを送信した後にキャンペーンページで結果を確認できるように、わかりやすいタイトルを付けてください。
2. \[**メッセージを追加**] をクリックし、API キャンペーンに含めるメッセージタイプを追加します。これにより、`campaign_id`とメッセージバリエーション ID を生成できます。このバリエーション ID は、含めるチャネルごとに異なります。 
3. 必要に応じて、コンバージョンイベントを追加して、特定のアクションまたはキャンペーン目標に関するユーザーのコンバージョンを追跡できます。
4. \[**キャンペーンを保存**] をクリックすると、API キャンペーンを開始する準備が整いました。

## API コール

API キャンペーンを保存したら、API リクエストに以下を含めてください。 
- API `campaign_id` リクエストで生成されたフィールドは、[メッセージ送信エンドポイントに記載されています][2]。
- [キャンペーンに含まれる各プラットフォームのメッセージオブジェクト]({{site.baseurl}}/api/objects_filters/#messaging-objects)。メッセージオブジェクトに、メッセージバリエーション ID を指定します。これにより、そのバリアントで統計情報を収集して表示する必要があることが指定されます。以下のメッセージオブジェクトがサポートされています。アンドロイド、コンテンツカード、電子メール、iOS、Kindle、SMS/MMS、ウェブプッシュ、ウェブフック

[2]: {{site.baseurl}}/api/endpoints/messaging/#send-endpoints

