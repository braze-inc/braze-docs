---
nav_title: リカーリー
article_title: リカーリー
description: "Recurlyは、サブスクリプションおよび請求プラットフォームのリーダーであり、サブスクリプションと定期収益を成長させようとする直接消費者ブランド向けです。"
alias: /partners/recurly/
page_type: partner
search_tag: partner
---

# リカーリー

> [Recurly](https://recurly.com/)はサブスクリプション管理および請求プラットフォームです。Recurly統合プラットフォームは、サブスクリプションライフサイクルのオートメーションを簡素化し、チームが新しいプラン、オファー、プロモーションのテストから、支払い方法、統合、インサイトの管理まで、サブスクライバーの体験を管理および最適化できるようにします。

RecurlyとBrazeの統合により、サブスクリプションデータをBrazeと共有するプロセスが簡素化され、顧客とのターゲットコミュニケーションが可能になります。

- BrazeでRecurlyのサブスクリプションライフサイクルイベント（例えば、サブスクリプションの更新、一時停止、またはキャンセル）を活用して、パーソナライズされたキャンペーンやコミュニケーションをトリガーします。
- Recurlyのサブスクリプションデータ（例えば、サブスクリプションプラン、アドオン、またはステータス）を活用して、Brazeユーザー、セグメント、およびキャンバスを作成および管理し、コホート固有のキャンペーンおよびコミュニケーションを実行します。
- Recurlyデータを直接Brazeに送信し、追加のメッセージングユースケースを可能にし、開発のオーバーヘッドコストを削減します。

BrazeとRecurlyの使用に関する追加の詳細は、[Recurly Docs](https://docs.recurly.com/docs/braze-integration)で見つけることができます。

## 前提条件

| 要件 | 説明 |
| ----------- | ----------- |
| Recurlyアカウント | このパートナーシップを活用するには、Brazeフィーチャーフラグが有効になっているエリート[Recurly](https://recurly.com/)サブスクリプションプランが必要です。Recurlyプラットフォームでのクレジット請求書の有効化も必要です。|
| Braze REST API キー | `users.track`の権限を持つBraze REST APIキー。<br><br> これはBrazeダッシュボードの**設定** > **APIキー**から作成できます。Recurlyは`users.track`エンドポイントのみを使用するため、この権限のみを持つRecurly専用キーをプロビジョニングすることをお勧めします。 |
| Braze REST エンドポイント | [あなたのRESTエンドポイントURL][1].お客様のエンドポイントは、お客様のインスタンスのBraze URLに依存します。 |

## 統合

開始する前に、BrazeとRecurlyの両方でアクティブなアカウントを持っていることを確認してください。

### RecurlyをBrazeに接続

1. Recurlyで、**Integrations** > **Braze** に移動します。RecurlyのBraze統合設定ページに初めて移動すると、インターフェイスが両方のシステムを接続するように促します。

2. 次の資格情報を提供してください:

- **インスタンスURL:**プロビジョニングされたインスタンスのBraze RESTエンドポイント。
- **API キー (識別子):**RecurlyがBrazeにリクエストを送信する際に使用するBraze REST APIキー。

BrazeインスタンスのURLをコピーすることを忘れないでください。例えば、あなたのURLは次のようになります: 

```
<https://dashboard-03.braze.com/dashboard/app_usage?locale=en>
```

{:start="3"}
3\.資格情報を入力した後、**接続**をクリックします。

## この統合を使用する

### サポートされている識別子

Recurlyはアカウントの`account_code`をBrazeの`external_id`として使用します。このため、Recurlyアカウントの`account_code`は、Brazeユーザーの`external_id`に対応している必要があります。

### カスタムイベント

効果的なカスタマーエンゲージメントのためには、Recurlyによってトリガーされたイベントを受信するためにBrazeで[カスタムイベントを設定する][2]必要があります。Recurlyの各イベントを含めて、徹底したデータ統合を行うようにしてください。これらのイベントは、[Braze 分析][3]内でも追跡できます。一度設定すると、これらのカスタムイベントを使用してユーザーをセグメント化したり、メッセージングをパーソナライズしたりできます。 

| Braze カスタムイベント| リカーリーイベント |
| ----------- | ----------- |
| Recurly新規サブスクリプション              | サブスクリプションが作成されたときにトリガーされます                            |
| Recurly更新サブスクリプション          | サブスクリプションが更新されるとトリガーされます                                |
| リカーリー更新サブスクリプション          | サブスクリプションの属性が変更されたときにトリガーされます（プランの変更、価格の変更、または数量の変更） |
| Recurlyキャンセルされたサブスクリプション         | サブスクリプションがキャンセルされたときにトリガーされます                           |
| Recurly再活性化サブスクリプション      | キャンセルされたサブスクリプションが再アクティブ化されたときにトリガーされます               |
| Recurly一時停止中のサブスクリプション           | サブスクリプションが一時停止に設定されたときにトリガーされます                   |
| Recurlyはサブスクリプションを再開しました          | サブスクリプションが再開されたときにトリガーされます                              |
| リカーリーサブスクリプションの有効期限が切れました          | サブスクリプションの有効期限が切れたときにトリガーされます                               |
| リカーリーの請求書が作成されました               | 請求書が作成されたときにトリガーされます                                |
| リカーリーの支払いが成功しました            | 請求書が正常に回収されたときにトリガーされます                 |
| リカーリーの返金が発行されました                 | 返金が発行されたときにトリガーされます                                   |
| リカーリーの定期支払いが失敗しました      | サブスクリプションの更新のための請求書が失敗したときにトリガーされます          |

### バッチ処理とレート制限

RecurlyはBrazeの`/users/track`エンドポイントを使用しているため、統合は1分あたり50,000リクエストの標準的なBrazeレート制限の対象となります。

Recurlyは、特定のサブスクリプションライフサイクルイベントを単一のAPI呼び出しとしてBrazeにバッチ処理し、呼び出し回数を減らします。

- 複数のサブスクリプションの同時作成はバッチ処理され、単一のリクエストとしてBrazeに送信されます。
- アカウントの複数のサブスクリプションが同時に更新されると、それらの更新はすべて1つのリクエストにまとめられます。
- 同じモデルのサブスクリプションライフサイクルイベントは単一のリクエストとして送信されます。支払いのある新しく作成された請求書の例では、`Recurly Invoice Created` と `Recurly Successful Payment` の両方のカスタムイベントを含む単一のAPIリクエストが送信されます。

バッチは一度に最大75件のイベントのグループでBrazeに送信されます。例えば、100件のサブスクリプションが一度に作成された場合、RecurlyはBrazeに対して2回のAPIリクエストを行います。詳細については、[バッチ処理ユーザートラックリクエスト][4]を参照してください。

[1]: {{site.baseurl}}/developer_guide/rest_api/basics/#endpoints
[2]: {{site.baseurl}}/user_guide/data_and_analytics/custom_data/custom_events/
[3]: {{site.baseurl}}/user_guide/data_and_analytics/custom_data/custom_events/#analytics
[4]: {{site.baseurl}}/api/api_limits/#batch-user-track
