---
nav_title: Recurly
article_title:リカーリー
description:"Recurlyは、サブスクリプションと継続的収益の拡大を目指す消費者直販ブランドにとって、サブスクリプション管理と課金プラットフォームのリーディングカンパニーである。"
alias: /partners/recurly/
page_type: partner
search_tag: partner
---

# リカーリー

> [Recurlyは](https://recurly.com/)サブスクリプションマネジメントと課金プラットフォームである。Recurlyの統合プラットフォームは、新しいプラン、オファー、プロモーションのテストから、支払い方法、統合、インサイトの管理まで、サブスクライバーエクスペリエンスの管理と最適化を可能にすることで、大規模なサブスクリプションライフサイクルのオートメーションを簡素化する。

RecurlyとBrazeの統合により、サブスクリプションデータをBrazeと共有するプロセスが簡素化され、顧客との的を絞ったコミュニケーションが可能になる。

- Recurlyのサブスクリプションライフサイクルイベント（サブスクリプションの更新、一時停止、キャンセルなど）をBrazeで活用し、パーソナライズされたキャンペーンやコミュニケーションをトリガーする。
- Recurlyのサブスクリプションデータ（サブスクリプションプラン、アドオン、ステータスなど）を活用し、Brazeユーザー、セグメンテーション、キャンバスを作成・管理し、コホート別のキャンペーンやコミュニケーションを実施する。
- RecurlyのデータをBrazeに直接送信することで、メッセージングのユースケースを増やし、開発のオーバーヘッドコストを削減する。

RecurlyとBrazeの併用についての詳細は、[Recurly Docsを](https://docs.recurly.com/docs/braze-integration)参照されたい。

## 前提条件

| 必要条件 | 説明 |
| ----------- | ----------- |
| 再帰アカウント | このパートナーシップを利用するには、BrazeフィーチャーフラグをイネーブルメントにしたElite[Recurlyサブスクリプションプランが](https://recurly.com/)必要である。また、Recurlyプラットフォームでのクレジット請求書の有効化も必要である。|
| Braze REST API キー | `users.track` 権限を持つ Braze REST API キー。<br><br> これはダッシュボードの**「設定」**>「**APIキー**」から作成できる。Recurlyは`users.track` エンドポイントのみを使用するため、この権限のみを持つRecurly固有のキーをプロビジョニングすることを推奨する。 |
| Braze RESTエンドポイント | [RESTエンドポイントのURL][1]。エンドポイントはインスタンスのBraze URLに依存する。 |

## 統合

始める前に、BrazeとRecurlyの両方のアカウントがアクティブであることを確認する。

### RecurlyをBrazeに接続する

1. Recurlyで、**Integrations**>**Brazeに**進む。RecurlyのBraze統合設定ページに最初に移動すると、インターフェイスが2つのシステムを接続するよう促す。

2. 以下の認証情報を提供すること：

- **インスタンスのURL：**プロビジョニング先のインスタンスのBraze RESTエンドポイント。
- **APIキー（識別子）：**RecurlyがBrazeにリクエストを送信する際に使用するBraze REST APIキー。

BrazeインスタンスのURLを忘れずにコピーする。例えば、URLは次のようになる： 

```
<https://dashboard-03.braze.com/dashboard/app_usage?locale=en>
```

{:start="3"}
3\.認証情報を入力したら、**Connectを**クリックする。

## この統合を使う

### サポートされる識別子

Recurlyはアカウントの`account_code` 、Brazeの`external_id` 。このため、Recurlyアカウントの`account_code` は、Brazeユーザーの`external_id` と一致する必要がある。

### カスタムイベント

効果的なカスタマーエンゲージメントのためには、Recurlyがトリガーしたイベントを受け取るようにBrazeで[カスタムイベントを設定する][2]必要がある。データ統合を徹底するために、Recurlyの各イベントを含めるようにする。これらのイベントは、[Braze分析でも][3]トラッキング, 追跡できる。一度設定されたカスタムイベントは、ユーザーのセグメンテーションやパーソナライズされたメッセージングに使用することができる。 

| カスタムイベント| 再帰イベント |
| ----------- | ----------- |
| Recurly 新規サブスクリプション              | サブスクリプションが作成されたときにトリガーされる。                            |
| Recurly更新サブスクリプション          | サブスクリプションが更新されたときにトリガーされる。                                |
| Recurly更新サブスクリプション          | サブスクリプションの属性変更（プラン変更、価格変更、数量変更）時にトリガーされる。 |
| Recurly サブスクリプションのキャンセル         | サブスクリプションがキャンセルされたときにトリガーされる。                           |
| Recurlyサブスクリプションを再開する      | キャンセルされたサブスクリプションが再度有効化されたときにトリガーされる。               |
| サブスクリプションを一時停止する           | サブスクリプションが一時停止に設定されたときにトリガーされる。                   |
| リカーリー サブスクリプション再開          | サブスクリプションが一時停止を解除したときにトリガーされる。                              |
| Recurlyサブスクリプションの有効期限が切れた          | サブスクリプションの有効期限が切れるとトリガーされる                               |
| 請求書作成               | 請求書が作成されたときにトリガーされる                                |
| 定期的な支払い            | 請求書が正常に回収されるとトリガーされる                 |
| 還付金の発行                 | 払い戻し時にトリガーされる                                   |
| 定期支払いの失敗      | サブスクリプション更新の請求が失敗したときにトリガーされる。          |

### バッチ処理とレート制限

RecurlyはBraze`/users/track` エンドポイントを使用しているため、この統合には1分あたり50,000リクエストというBrazeの標準レート制限が適用される。

Recurlyは、特定のサブスクリプションライフサイクルイベントを、Brazeへの単一のAPIコールとしてバッチ化し、コール回数を減らす。

- 複数のサブスクリプションを同時に作成すると、バッチ処理され、1つのリクエストとしてBrazeに送信される。
- アカウントで複数のサブスクリプションが同時に更新される場合、それらの各更新は1つのリクエストにまとめられる。
- 同じモデルのサブスクリプションライフサイクルイベントは、一つのリクエストとして送られる。例えば、新しく作成された請求書に支払いがあった場合、`Recurly Invoice Created` と`Recurly Successful Payment` の両方のカスタムイベントを含むAPIリクエストが送信される。

Brazeには、一度に最大75イベントのバッチが送信される。例えば、100のサブスクリプションが一度に作成された場合、RecurlyはBrazeに2回のAPIリクエストを行うことになる。詳しくは、[ユーザートラックリクエストのバッチ処理を][4]参照のこと。

[1]: {{site.baseurl}}/developer_guide/rest_api/basics/#endpoints
[2]: {{site.baseurl}}/user_guide/data_and_analytics/custom_data/custom_events/
[3]: {{site.baseurl}}/user_guide/data_and_analytics/custom_data/custom_events/#analytics
[4]: {{site.baseurl}}/api/api_limits/#batch-user-track
