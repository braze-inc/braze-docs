---
nav_title: Recurly
article_title: Recurly
description: "Recurly は、業界をリードするサブスクリプションおよび請求プラットフォームであり、サブスクリプションと定期収益の拡大を求める Direct-to-Consumer ブランド向けのサブスクリプション管理および課金プラットフォームです。"
alias: /partners/recurly/
page_type: partner
search_tag: partner
---

# Recurly

> [Recurly](https://recurly.com/)はサブスクリプション管理および請求プラットフォームです。Recurly 統合プラットフォームは、サブスクリプションライフサイクルのオートメーションを簡素化し、チームがサブスクライバーの体験 (新しいプラン、オファー、プロモーションのテストから、決済方法、統合、インサイトの管理まで) を管理および最適化できるようにします。

Recurly と Braze の統合により、サブスクリプションデータを Braze と共有するプロセスが簡素化され、顧客とのターゲットを絞ったコミュニケーションが可能になります。

- Braze で Recurly のサブスクリプションライフサイクルイベント (サブスクリプションの更新、一時停止、またはキャンセルなど) を活用して、パーソナライズされたキャンペーンやコミュニケーションをトリガーします。
- Recurly のサブスクリプションデータ (サブスクリプションプラン、アドオン、ステータスなど) を活用して、Braze ユーザー、セグメント、およびキャンバスを作成、管理し、コホート固有のキャンペーンおよびコミュニケーションを実施します。
- Recurlyデータを直接Brazeに送信し、追加のメッセージングユースケースを可能にし、開発のオーバーヘッドコストを削減します。

Braze と Recurly の使用に関する追加の詳細については、[Recurly のドキュメント](https://docs.recurly.com/docs/braze-integration)で確認できます。

## 前提条件

| 必要条件 | 説明 |
| ----------- | ----------- |
| Recurly アカウント | このパートナーシップを活用するには、Brazeフィーチャーフラグが有効になっているエリート[Recurly](https://recurly.com/)サブスクリプションプランが必要です。Recurly プラットフォームでクレジット請求書を有効化する必要もあります。|
| Braze REST API キー | `users.track` 権限を持つ Braze REST API キー。<br><br> これは、Brazeダッシュボードの**「設定」**>「**APIキー**」から作成できる。Recurly は `users.track` エンドポイントのみを使用するため、この権限のみで Recurly 専用キーをプロビジョニングすることをお勧めします。 |
| Braze RESTエンドポイント | [あなたのRESTエンドポイントURL][1]。エンドポイントは、インスタンスのBraze URLに依存する。 |

## 統合

開始する前に、BrazeとRecurlyの両方でアクティブなアカウントを持っていることを確認してください。

### RecurlyをBrazeに接続

1. Recurly で [**Integrations**] > [**Braze**] に移動します。Recurly の Braze統合設定ページに初めて移動すると、2 つのシステムを接続するように促されます。

2. 以下の認証情報を指定します。

- **Instance URL:**プロビジョニングされたインスタンスのBraze RESTエンドポイント。
- **API キー (識別子):**RecurlyがBrazeにリクエストを送信する際に使用するBraze REST APIキー。

BrazeインスタンスのURLをコピーすることを忘れないでください。例えば、あなたのURLは次のようになります: 

```
<https://dashboard-03.braze.com/dashboard/app_usage?locale=en>
```

{:start="3"}
3\.資格情報を入力した後、**接続**をクリックします。

## この統合を使用する

### サポートされている識別子

Recurlyはアカウントの`account_code`をBrazeの`external_id`として使用します。このため、Recurlyアカウントの`account_code`は、Brazeユーザーの`external_id`に対応している必要があります。

### カスタムイベント

カスタマーエンゲージメントを効果的に行うには、Recurly によってトリガーされるイベントを受信すrるために、Braze で[カスタムイベントを設定][2]する必要があります。データ統合を徹底するために、Recurly の各イベントを含めるようにしてください。これらのイベントは、[Braze 分析][3]内でも追跡できます。一度設定すると、これらのカスタムイベントを使用してユーザーをセグメント化したり、メッセージングをパーソナライズしたりできます。 

| Braze カスタムイベント| Recurly イベント |
| ----------- | ----------- |
| Recurly 新規サブスクリプション              | サブスクリプションが作成されたときにトリガーされます                            |
| Recurly サブスクリプション更新          | サブスクリプションが更新されるとトリガーされます                                |
| Recurly サブスクリプション変更          | サブスクリプションの属性が変更されたときにトリガーされます（プランの変更、価格の変更、または数量の変更） |
| Recurly サブスクリプションキャンセル         | サブスクリプションがキャンセルされたときにトリガーされます                           |
| Recurly サブスクリプション再有効化      | キャンセルされたサブスクリプションが再アクティブ化されたときにトリガーされます               |
| Recurly サブスクリプション一時停止           | サブスクリプションが一時停止に設定されたときにトリガーされます                   |
| Recurly サブスクリプション再開          | サブスクリプションが再開されたときにトリガーされます                              |
| Recurly サブスクリプション期限切れ          | サブスクリプションの有効期限が切れたときにトリガーされます                               |
| Recurly 請求書作成               | 請求書が作成されたときにトリガーされます                                |
| Recurly 決済成功            | 請求書が正常に回収されたときにトリガーされます                 |
| Recurly 返金                 | 返金が行われたときにトリガーされます                                   |
| Recurly 定期払い失敗      | サブスクリプション更新のための請求書が失敗したときにトリガーされます          |

### バッチ処理とレート制限

Recurly は Braze `/users/track` エンドポイントを使用しているため、この統合は標準的な Braze レート制限 (1分あたり50,000件のリクエスト) の対象となります。

Recurly は、特定のサブスクリプションライフサイクルイベントを Braze に対する単一の API 呼び出しとしてバッチ処理し、呼び出し回数を削減します。

- 複数のサブスクリプションの同時作成はバッチ処理され、単一のリクエストとしてBrazeに送信されます。
- アカウントの複数のサブスクリプションが同時に更新されると、それらの更新はすべて1つのリクエストにまとめられます。
- 同じモデルのサブスクリプションライフサイクルイベントは単一のリクエストとして送信されます。新しく作成された請求書と支払いの例では、`Recurly Invoice Created` および `Recurly Successful Payment` の両方のカスタムイベントを含む単一の API リクエストが送信されます。

バッチは一度に最大75個のイベントのグループで Braze に送信されます。例えば、100件のサブスクリプションが一度に作成された場合、RecurlyはBrazeに対して2回のAPIリクエストを行います。詳細については、[バッチ処理ユーザートラックリクエスト][4]を参照してください。

[1]: {{site.baseurl}}/developer_guide/rest_api/basics/#endpoints
[2]: {{site.baseurl}}/user_guide/data_and_analytics/custom_data/custom_events/
[3]: {{site.baseurl}}/user_guide/data_and_analytics/custom_data/custom_events/#analytics
[4]: {{site.baseurl}}/api/api_limits/#batch-user-track
