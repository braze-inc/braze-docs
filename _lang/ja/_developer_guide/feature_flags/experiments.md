---
nav_title: フィーチャー・フラッグの実験
article_title: フィーチャー・フラッグの実験
page_order: 40
description: "機能フラグ実験では、コンバージョン率を最適化するためにアプリケーションの変更をA/Bテストできる。"
tool: Feature Flags
platform:
  - iOS
  - Android
  - Web

---

# フィーチャー・フラッグ実験を行う

> 機能フラグ実験では、コンバージョン率を最適化するためにアプリケーションの変更をA/Bテストできる。マーケティング担当者は、機能フラグを使って、新機能がコンバージョン率にプラスに影響するかマイナスに影響するか、あるいはどの機能フラグのプロパティセットが最も最適かを判断することができる。

## 前提条件

実験でユーザーデータを追跡する前に、ユーザーがフィーチャーフラグを操作したタイミングをアプリで記録する必要があります。これをフィーチャーフラグインプレッションと呼びます。ユーザーがテスト中の機能を見たとき、あるいは見た可能性があるときは、コントロールグループであっても、必ず機能フラグのインプレッションを記録すること。

フィーチャーフラグのインプレッションを記録する方法については、[フィーチャーフラグを作成する]({{site.baseurl}}/developer_guide/platform_wide/feature_flags/create/#impressions)を参照してください。

```javascript
const featureFlag = braze.getFeatureFlag("my-new-feature");
braze.logFeatureFlagImpression("my-new-feature");
if (featureFlag?.enabled) {
   return <NewFeature />
} else {
   return <ExistingFeature />
}

```

## ステップ 1:実験を行う

1. [**メッセージング**] > [**キャンペーン**] の順に進み、[**キャンペーンを作成**] をクリックします。
2. [**フィーチャーフラグの実験**] を選択します。
3. キャンペーンに、明確で意味のある名前を付けます。

## ステップ2:実験のバリエーションを追加する

次に、バリエーションを作ります。各バリアントについて、オンまたはオフにしたい機能フラグを選択し、割り当てられたプロパティを確認する。

機能のインパクトをテストするには、バリアントを使ってトラフィックを2つ以上のグループに分けます。1つのグループを "My control group "と名付け、その機能フラグをオフにする。

### プロパティの上書き

機能フラグを最初に設定したときにデフォルトのプロパティを指定したが、特定のキャンペーンバリアントを受け取るユーザーに対して、それらの値を上書きすることを選択できる。

![]({% image_buster /assets/img/feature_flags/feature_flag_experiment_override.png %}){: style="max-width:80%"}

追加のデフォルトプロパティを編集、追加、削除するには、[**メッセージング**] > [**フィーチャーフラグ**] からフィーチャーフラグ自体を編集します。

バリアントが無効になっている場合、SDKは指定された機能フラグの空のプロパティオブジェクトを返します。 

## ステップ3: ターゲットとするユーザーを選択する

次に、セグメントまたはフィルターを選択して[ユーザーをターゲットに設定]({{site.baseurl}}/user_guide/engagement_tools/campaigns/building_campaigns/targeting_users/)し、オーディエンスを絞り込む必要があります。セグメントメンバーシップは、指定されたユーザーのフィーチャーフラグが更新されたときに計算されます。

{% alert note %}
変更は、アプリがフィーチャーフラグをリフレッシュした後、または新しいセッションが開始されたときに利用可能になります。
{% endalert %}

## ステップ 4:バリアントを配布する

実験に使用するパーセンテージ分布を選ぶ。ベストプラクティスとして、実験開始後に配布を変更すべきではありません。

## ステップ 5: コンバージョンを割り当てる

Brazeを使えば、キャンペーンを受け取った後、ユーザーがどれくらいの頻度で特定のアクション（[コンバージョンイベント]({{site.baseurl}}/user_guide/engagement_tools/campaigns/building_campaigns/conversion_events/)）を実行するかを追跡することができる。ユーザーが指定されたアクションを取った場合、コンバージョンがカウントされる最大30日間のウィンドウを指定する。

## ステップ 6: レビューと開始

最後の実験の構築が完了したら、その詳細を確認し、[**実験を開始**] をクリックします。



