---
nav_title: 建築の概要
article_title: 建築の概要
page_order: 3
description: "この記事では、Brazeテクノロジースタックのさまざまな部分と部品について説明し、関連する記事へのリンクを提供します。"
platform:
  - iOS
  - Android
  - Web
  - React Native
  - Flutter
  - Cordova
  - Roku
  - Swift
  - Unity
---

# 入門：建築の概要

> この記事では、Brazeテクノロジースタックのさまざまな部分と部品について説明し、関連する記事へのリンクを提供します。 

大まかに言えば、Brazeはデータに関するものです。Brazeプラットフォームは、SDK、REST API、およびパートナー統合によって強化され、データを集約して行動に移すことができます。 

![Brazeにはさまざまな層があります。合計で、SDK、API、ダッシュボード、およびパートナー統合で構成されています。これらはそれぞれ、データインジェストレイヤー、分類レイヤー、オーケストレーションレイヤー、パーソナライゼーションレイヤー、およびアクションレイヤーの一部を構成します。アクションレイヤーには、プッシュ、アプリ内メッセージ、Connected カタログ、Webhook、SMS、メールなど、さまざまなチャネルがあります。][1]{: style="display:block;margin:auto;" }

* [データ取り込み](#ingestion):Brazeはさまざまなソースからデータを取り込みます。
* [分類](#classification):あなたのマーケティングチームは、これらの指標を使用してユーザー群を動的にセグメント化します。 
* [オーケストレーション](#orchestration):Brazeは、異なるオーディエンスセグメントへのメッセージを最適なタイミングでインテリジェントに調整します。
* [アクション](#action):あなたのマーケティングチームはデータに基づいて行動し、SMSやメールなどのさまざまなメッセージングチャネルを通じてコンテンツを作成します。
* [パーソナライゼーション](#personalization):データは、あなたのオーディエンスに関するパーソナライズされた情報でリアルタイムに変換されます。 
* [エクスポート](#exporting-data):次に、Brazeはこのメッセージングに対するユーザーのエンゲージメントを追跡し、それをプラットフォームにフィードバックしてループを作成します。リアルタイムレポートと分析を通じて、このデータに関する洞察を得ることができます。

これらすべてが連携して、ユーザー群とブランドの間で成功したやり取りを生み出し、目標を達成できるようにします。Brazeは、私たちが垂直統合スタックと呼ぶものの文脈でこれをすべて行います。各層を一度に一つずつ掘り下げてみましょう。

## データの取り込み {#ingestion}

Brazeは、Snowflake、Kafka、MongoDB、およびRedisを活用したストリーミングデータアーキテクチャ上に構築されています。多くのソースからのデータは、SDKおよびAPIを介してBrazeにロードできます。プラットフォームは、ネストや構造に関係なく、リアルタイムであらゆるデータを処理できます。データはBrazeにユーザープロファイルに保存されます。 

{% alert tip %}
Brazeは、ユーザーが匿名の時からアプリにログインして知られるようになるまでの間、ユーザーのデータを追跡できます。ユーザーIDは、Brazeでは`external_id`と呼ばれ、各ユーザーに設定する必要があります。これらは変更されず、ユーザーがアプリを開いたときにアクセスできるようにする必要があり、デバイスやプラットフォームを超えてユーザーを追跡できるようにします。[ユーザー]({{site.baseurl}}/user_guide/data_and_analytics/user_data_collection/user_profile_lifecycle/)ライフサイクルに関する記事をご覧ください。
{% endalert %}

![Brazeは、APIからのバックエンドデータソース、SDKからのフロントエンドデータソース、Braze Cloud Data Ingestionからのデータウェアハウスデータ、およびパートナー統合からのデータをインポートします。このデータはBraze API ][3]{: style="display:block;margin:auto;" }を通じてエクスポートされます

{% alert note %}
この人物中心のユーザープロファイルデータベースは、リアルタイムのインタラクティブな速度を可能にします。Brazeはデータが到着したときに値を事前に計算し、結果を高速に取得するために軽量なドキュメント形式で保存します。そして、プラットフォームは最初からこのように設計されているため、ほとんどのメッセージングのユースケースに理想的です。特に、コネクテッドコンテンツ、製品カタログ、ネストされた属性などの他のデータ概念と組み合わせると効果的です。
{% endalert %}

### Braze API を介したバックエンドデータソース
Brazeは、\[REST API][4]を通じてユーザーデータベース、オフライントランザクション、およびデータウェアハウスからデータを取得できます。 

### Braze SDKを介したフロントエンドデータソース
Brazeは、\[Braze SDK][5]を介して、ユーザーのデバイスなどのフロントエンドデータソースからファーストパーティデータを自動的にキャプチャします。SDKは新しい（匿名の）ユーザーを処理し、ライフサイクル全体にわたってユーザープロファイルのデータを管理します。 

### パートナー統合
Brazeには150を超えるテクノロジーパートナーがあり、私たちはそれを「Alloys」と呼んでいます。相互運用可能な技術とデータAPIの意味のある堅牢なネットワークを通じて、データフィードを補完できます。][6] 

### Braze Cloud Data Ingestionを介した直接倉庫接続
データウェアハウスからプラットフォームに顧客データを数分でストリーミングでき、関連するユーザー属性、イベント、購入を同期できます。クラウドデータインジェストの統合は、ネストされたJSONやオブジェクトの配列を含む複雑なデータ構造をサポートしています。

クラウドデータの取り込みは、Snowflake、Amazon Redshift、Databricks、およびGoogle BigQueryからデータを同期できます。

## 分類 {#classification}
分類レイヤーにより、チームはBrazeを通過するデータに基づいて\[セグメント][8]と呼ばれるオーディエンスを動的に分類および構築できます。 

{% alert note %}
分類、オーケストレーション、パーソナライゼーションのレイヤーは、マーケティングチームが多くの作業を行う場所です。彼らはこれらのレイヤーと最も頻繁にインターフェイスし、Brazeダッシュボード、私たちのWebインターフェイスを通じて行います。開発者はこれらのレイヤーの設定とカスタマイズに役割を果たします。
{% endalert %}

名前、メール、生年月日、国など、多くの一般的なユーザー属性は、デフォルトでSDKによって自動的に追跡されます。開発者として、ユースケースに対して追跡する追加のカスタムデータを定義するためにチームと協力します。お客様のカスタムデータは、ユーザー群の分類とセグメント化に影響を与えます。実装プロセス中にこのデータモデルを設定します。 

自動収集データとカスタムデータ][9]について詳しく学びます。

## オーケストレーション {#orchestration}
オーケストレーションレイヤーにより、マーケティングチームはユーザーのデータと以前のエンゲージメントに基づいてユーザージャーニーを設計できます。この作業のほとんどは私たちのダッシュボードインターフェイスを通じて行われますが、API][10]を通じてキャンペーンを開始するオプションもあります。例えば、バックエンドがBrazeにメッセージやキャンペーンをダッシュボードでマーケターが設計したときに送信するように指示し、バックエンドのロジックに従ってトリガーすることができます。APIトリガーメッセージの例としては、パスワードリセットや配送確認があります。 

{% alert note %}
API トリガー キャンペーンは、より高度なトランザクション ユース ケースに最適です。マーケターがキャンペーンのコピー、多変量テスト、および再適格性ルールをBrazeダッシュボード内で管理し、コンテンツの配信をサーバーやシステムからトリガーすることを可能にします。メッセージをトリガーする API リクエストには、メッセージにリアルタイムでテンプレート化する追加データを含めることもできます。
{% endalert %}


### フィーチャーフラグ
Brazeを使用すると、\[feature flags][12]]を通じて、選択したユーザーの機能をリモートで有効または無効にすることができます。これにより、マーケティング担当者は、まだ全オーディエンスに展開していない機能のメッセージングを使用して、ユーザー群の正しいセグメントをターゲットにすることができます。しかしそれ以上に、フィーチャーフラグは追加のコード展開やアプリストアの更新なしに、本番環境で機能をオンおよびオフにするために使用できます。これにより、新機能を自信を持って安全に展開できます。

## パーソナライゼーション {#personalization}
パーソナライゼーション層は、メッセージ内でダイナミックなコンテンツを提供する機能を表します。Liquidを使用することにより、広く使用されているパーソナライゼーション言語であるLiquidを使用して、チームは既存のデータを動的に引き出し、各受信者に合わせたメッセージを表示できます。さらに、\[コネクテッドコンテンツ][11]]を使用することで、プッシュ通知やメールなど、送信しているメッセージにウェブサーバーやAPI経由でアクセス可能な情報を直接挿入できます。コネクテッドコンテンツはLiquidの上に構築され、馴染みのある構文を使用します。

そして、このダイナミックなコンテンツはプログラム可能であるため、マーケティング担当者は計算された値、他の呼び出しからの応答、またはカタログアイテムを含めることができます。これらのシステムを実装中に設定した後、マーケティングチームは技術チームからのサポートがほとんどなくてもこれを行うことができます。 

## アクション {#action}
アクションレイヤーは、ユーザーへの実際のメッセージングを可能にします。アクションレイヤーの目的は、前述のすべてのレイヤーを通じて利用可能なデータに基づいて、適切なタイミングで適切なメッセージを適切なユーザーに送信することです。メッセージングは、アプリやサイト内（アプリ内メッセージの送信やコンテンツカードのカルーセルやバナーなどのグラフィック要素を通じて）またはアプリ外の体験（プッシュ通知やメールの送信など）で行われます。

### メッセージングチャネル
Brazeは、チャネルに依存しないユーザー中心のデータモデルを備えた進化する技術的な風景に対応するように設計されました。ダッシュボードはメッセージ配信とトランザクショントリガーを管理します。例えば、マーケティング担当者は、ユーザーがこの場所の近くに設定されたジオフェンスに入ると、新しくオープンした店舗のクーポンを提供するSMSメッセージをトリガーしたり、ユーザーにメールを送信してお気に入りの番組の新シーズンが始まったことを知らせたりすることができます。

\[Braze SDK][5]は追加のメッセージングチャネルを提供します：プッシュ通知、アプリ内メッセージ、およびコンテンツカード。お客様のマーケティングチームがすべてのサポートされているメッセージングチャネルでキャンペーンを調整できるようにするために、SDKをアプリまたはサイトに統合します。

![][13]

## データのエクスポート
重要なことに、すべてのエンドユーザーのBrazeとのやり取りが追跡されるため、エンゲージメントとアウトリーチを測定できます。そして、Brazeがこれらすべてのソースからデータを集約した後、さまざまなツールを使用してテックスタックにデータをエクスポートし、ループを閉じることができます。

### Currents
\[Currents][14] は、スタックの他の宛先に継続的にフィードする詳細なストリーミングエクスポートを提供するオプションのBrazeアドオンです。Currentsは、ユーザーごとのイベントごとの生データフィードで、5分ごと、または15,000イベントごとにデータをエクスポートします。どちらか早い方です。Currents のいくつかの下流の宛先の例としては、Segment、S3、Redshift、Mixpanel などがあります。 

### Snowflakeデータ共有
Snowflakeの\[Secure Data Sharing][15]機能により、BrazeはSnowflakeポータル上のデータへの安全なアクセスを提供し、通常のデータ提供者との関係に伴うワークフローの摩擦、失敗点、および不要なコストを心配することなく利用できます。共有はすべてSnowflakeのユニークなサービス層とメタデータストアを通じて行われます。データは実際にはアカウント間でコピーまたは転送されません。これは重要な概念です。なぜなら、共有データは消費者アカウントにストレージを占有せず、したがって、月々のデータストレージ料金に寄与しないからです。消費者への唯一の請求は、共有データを照会するために使用されるコンピューティングリソース（つまり、仮想ウェアハウス）です。

### BrazeエクスポートAPI
Braze APIは、集計分析をプログラムでエクスポートするためのエンドポイント][16]や、個々のユーザーデータをエクスポートするためのエンドポイントを提供します。このデータは、あらゆる規模のオーディエンスやセグメントにエクスポートできます。 

### CSVs
最後に、ダッシュボードから直接集計レベルのデータを\[CSV][17]]としてダウンロードするオプションがあります。CSVオプションを使用すると、チームメンバーはBrazeからデータを簡単にエクスポートできます。

{% alert tip %}
CSVエクスポートには500,000行の基本制限がありますが、APIにはこの点に関して制限がありません。
{% endalert %}

## すべてをまとめる 
あなたのユーザーの一人、メルと呼びましょうか、がちょうどあなたの製品発表を受け取りました。舞台裏では、Brazeプラットフォームのすべてのレイヤーが連携して、このプロセスがスムーズに進むようにしました。 

Melの情報はCSVインポートを通じて、従来のカスタマーエンゲージメントプラットフォームからBrazeに取り込まれました。統合後、メルがアプリを操作するたびに、彼女の顧客プロファイルにより多くのデータが追加されました。 

あなたの製品発表は、アプリで同様のアイテムを気に入ったすべての顧客に送信されました。このデータをカスタムイベントとして定義しました。SDKはこのイベントを追跡し、ユーザー群をそれに応じてセグメント化しました。Brazeはこの発表を送信する最適な時間を調整し、Melを彼女の好みの名前で呼ぶことで発表をパーソナライズしました。 

メルが発表を開くと、彼女はあなたの新しい製品を彼女のウィッシュリストに追加します。Brazeは彼女がメールをクリックしたことを自動的に追跡します。SDKは、彼女があなたの新製品をウィッシュリストに追加したことを追跡します。彼らがあなたのブランドと関わるたびに、あなたとあなたのユーザーはお互いについて{学習}しています。

![][18]



[1]: {% image_buster /assets/img/getting-started/braze_listen_understand_act.png %}
[3]: {% image_buster /assets/img/getting-started/import-export.png %}
[4]: {{site.baseurl}}/api/endpoints/user_data
[5]: {{site.baseurl}}/user_guide/getting_started/web_sdk/
[6]: {{site.baseurl}}/partners/home
[7]: {{site.baseurl}}/user_guide/data_and_analytics/cloud_ingestion
[8]: {{site.baseurl}}/user_guide/engagement_tools/segments
[9]: {{site.baseurl}}/developer_guide/platform_wide/analytics_overview/
[10]: {{site.baseurl}}/api/api_campaigns#api-campaigns
[11]: {{site.baseurl}}/user_guide/personalization_and_dynamic_content/connected_content
[12]: {{site.baseurl}}/developer_guide/platform_wide/feature_flags/about/
[13]: {% image_buster /assets/img/getting_started/channels.png %}
[14]: {{site.baseurl}}/user_guide/data_and_analytics/braze_currents
[15]: {{site.baseurl}}/partners/data_and_infrastructure_agility/data_warehouses/snowflake/
[16]: {{site.baseurl}}/api/endpoints/export
[17]: {{site.baseurl}}/user_guide/data_and_analytics/export_braze_data
[18]: {% image_buster /assets/img/getting-started/putting-it-all-together.png %}
[19]: {{site.baseurl}}/developer_guide/platform_wide/getting_started/integration_overview/
[20]: {{site.baseurl}}/developer_guide/platform_integration_guides/sdk_changelogs