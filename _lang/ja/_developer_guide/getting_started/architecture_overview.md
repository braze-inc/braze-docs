---
nav_title: アーキテクチャの概要
article_title: アーキテクチャの概要
page_order: 3
description: "この記事では、Brazeテクノロジースタックのさまざまな部分と部品について説明し、関連する記事へのリンクを提供します。"
platform:
  - iOS
  - Android
  - Web
  - React Native
  - Flutter
  - Cordova
  - Roku
  - Swift
  - Unity
---

# 入門：アーキテクチャの概要

> この記事では、Brazeテクノロジースタックのさまざまな部分と部品について説明し、関連する記事へのリンクを提供します。 

大まかに言えば、Brazeはデータに関するものです。Braze プラットフォームには SDK、REST API、パートナー連携が備わっており、データを集計したり、データに基づいて処理を行ったりできます。 

![Brazeにはさまざまな層があります。全体として、SDK、API、ダッシュボード、およびパートナー連携から構成されています。これらはそれぞれ、データインジェストレイヤー、分類レイヤー、オーケストレーションレイヤー、パーソナライゼーションレイヤー、およびアクションレイヤーの一部を構成します。アクションレイヤーには、プッシュ、アプリ内メッセージ、コネクテッドカタログ、Webhook、SMS、メールなど、さまざまなチャネルがあります。]({% image_buster /assets/img/getting-started/braze_listen_understand_act.png %}){: style="display:block;margin:auto;" }

* [データ取り込み](#ingestion):Brazeはさまざまなソースからデータを取り込みます。
* [分類](#classification):あなたのマーケティングチームは、これらの指標を使用してユーザー群を動的にセグメント化します。 
* [オーケストレーション](#orchestration):Brazeは、異なるオーディエンスセグメントへのメッセージを最適なタイミングでインテリジェントに調整します。
* [アクション](#action):あなたのマーケティングチームはデータに基づいて行動し、SMSやメールなどのさまざまなメッセージングチャネルを通じてコンテンツを作成します。
* [パーソナライゼーション](#personalization):データは、オーディエンスに関するパーソナライズされた情報でリアルタイムに変換されます。 
* [エクスポート](#exporting-data):次に、Brazeはこのメッセージングに対するユーザーのエンゲージメントを追跡し、それをプラットフォームにフィードバックしてループを作成します。リアルタイムレポートと分析を通じて、このデータに関する洞察を得ることができます。

これらすべてが連携して、ユーザー群とブランドの間で成功したやり取りを生み出し、目標を達成できるようにします。Brazeは、私たちが垂直統合スタックと呼ぶものの文脈でこれをすべて行います。各レイヤーを1つずつ掘り下げていきましょう。

## データの取り込み {#ingestion}

Braze は、Snowflake、Kafka、MongoDB、および Redis を活用したストリーミングデータアーキテクチャ上に構築されています。多くのソースからのデータは、SDKおよびAPIを介してBrazeにロードできます。プラットフォームは、データがどのようにネストまたは構造化されているかに関係なく、あらゆるデータをリアルタイムで処理できます。データはBrazeにユーザープロファイルに保存されます。 

{% alert tip %}
Braze は、ユーザーが匿名である時点から、アプリにログインして既知の状態になるまで、ユーザーのデータを追跡できます。ユーザーIDは、Brazeでは`external_id`と呼ばれ、各ユーザーに設定する必要があります。これらは変更されず、ユーザーがアプリを開いたときにアクセスできるようにする必要があり、デバイスやプラットフォームを超えてユーザーを追跡できるようにします。ベストプラクティスについては、[ユーザーライフサイクルに関する記事]({{site.baseurl}}/user_guide/data/user_data_collection/user_profile_lifecycle/)を参照してください。
{% endalert %}

![Braze はAPI からバックエンドデータソースを、SDK からフロントエンドデータソースを、Braze クラウドデータ取り込みやパートナー連携からデータウェアハウスのデータをインポートします。このデータは Braze API を通じてエクスポートされます]({% image_buster /assets/img/getting-started/import-export.png %}){: style="display:block;margin:auto;" }

{% alert note %}
このユーザー中心のユーザープロファイルデータベースにより、リアルタイムでインタラクティブなスピードが実現します。Brazeはデータが到着したときに値を事前に計算し、結果を高速に取得するために軽量なドキュメント形式で保存します。そして、プラットフォームは最初からこのように設計されているため、ほとんどのメッセージングのユースケースに理想的です。特に、コネクテッドコンテンツ、製品カタログ、ネストされた属性などの他のデータ概念と組み合わせると効果的です。
{% endalert %}

### Braze API を介したバックエンドデータソース
Braze は、[REST API]({{site.baseurl}}/api/endpoints/user_data) を使用して、ユーザーデータベース、オフライントランザクション、およびデータウェアハウスからデータを取得できます。 

### Braze SDKを介したフロントエンドデータソース
Braze は、[Braze SDK]({{site.baseurl}}/user_guide/getting_started/web_sdk/) を使用して、ユーザのデバイスなどのフロントエンドのデータソースから自動的にファーストパーティデータをキャプチャします。SDK は新しい (匿名の) ユーザーを処理し、ライフサイクル全体にわたってユーザープロファイルのデータを管理します。 

### パートナー統合
Brazeには150を超えるテクノロジーパートナーがあり、私たちはそれを「Alloys」と呼んでいます。[相互運用可能な技術とデータ API]({{site.baseurl}}/partners/home) の意味のある堅牢なネットワークを通じて、データフィードを補完できます。 

### Braze Cloud Data Ingestionを介した直接倉庫接続
データウェアハウスからプラットフォームに顧客データをストリームできます。[Braze Cloud Data Ingestion]({{site.baseurl}}/user_guide/data/cloud_ingestion/) を数分で実行すると、関連するユーザー属性、イベント、購入を同期できます。クラウドデータ取り込みの統合は、ネストされた JSON やオブジェクトの配列を含む複雑なデータ構造をサポートしています。

クラウドデータ取り込みは、Snowflake、Amazon Redshift、Databricks、および Google BigQuery からデータを同期できます。

## 分類 {#classification}
分類レイヤーにより、チームは Braze を通過するデータに基づいて [[セグメント]({{site.baseurl}}/user_guide/engagement_tools/segments)] と呼ばれるオーディエンスを動的に分類および構築できます。 

{% alert note %}
分類、オーケストレーション、パーソナライゼーションのレイヤーは、マーケティングチームが多くの作業を行う場所です。彼らはこれらのレイヤーと最も頻繁にインターフェイスし、Brazeダッシュボード、私たちのWebインターフェイスを通じて行います。開発者はこれらのレイヤーの設定とカスタマイズに役割を果たします。
{% endalert %}

名前、メール、生年月日、国名など、多くの一般的な種類のユーザー属性は、デフォルトで SDK によって自動的に追跡されます。開発者は、チームと協力して、自分のユースケースで追跡する価値のある追加のカスタムデータを定義します。お客様のカスタムデータは、ユーザー群の分類とセグメント化に影響を与えます。実装プロセス中にこのデータモデルを設定します。 

[自動収集されたデータとカスタムデータ]({{site.baseurl}}/developer_guide/analytics/)の詳細を参照してください。

## オーケストレーション {#orchestration}
オーケストレーションレイヤーにより、マーケティングチームはユーザーのデータと以前のエンゲージメントに基づいてユーザージャーニーを設計できます。この作業は、ほとんどの場合、ダッシュボードインターフェイスを使用して行われますが、[API を使用してキャンペーン]({{site.baseurl}}/api/api_campaigns#api-campaigns)を起動するオプションもあります。例えば、バックエンドがBrazeにメッセージやキャンペーンをダッシュボードでマーケターが設計したときに送信するように指示し、バックエンドのロジックに従ってトリガーすることができます。APIトリガーメッセージの例としては、パスワードリセットや配送確認があります。 

{% alert note %}
API トリガーキャンペーンは、より高度なトランザクションユースケースに最適です。これを使用すると、マーケターはキャンペーンのコピー、多変量テスト、再適格性ルールを Braze ダッシュボード内で管理しながら、サーバーやシステムからそのコンテンツを配信できます。メッセージをトリガーする API リクエストには、メッセージにリアルタイムでテンプレート化する追加データを含めることもできます。
{% endalert %}


### フィーチャーフラグ
Braze では、[機能フラグ]({{site.baseurl}}/developer_guide/feature_flags/) を使用して、ユーザーの選択機能をリモートで有効または無効にすることができます。これにより、マーケティング担当者は、まだ全オーディエンスに展開していない機能のメッセージングを使用して、ユーザー群の正しいセグメントをターゲットにすることができます。しかしそれ以上に、フィーチャーフラグは追加のコード展開やアプリストアの更新なしに、本番環境で機能をオンおよびオフにするのに使用できます。これにより、新しい機能を安全かつ確信を持ってロールアウトできます。

## パーソナライゼーション {#personalization}
パーソナライゼーション層は、メッセージ内でダイナミックなコンテンツを提供する機能を表します。広く使用されているパーソナライゼーション言語である Liquid を使用すると、チームは既存のデータを動的に取得して、各受信者に合わせたメッセージを表示できます。さらに、[[コネクテッドコンテンツ]]({{site.baseurl}}/user_guide/personalization_and_dynamic_content/connected_content)を使用することで、プッシュ通知やメールなど、送信しているメッセージにウェブサーバーや API 経由でアクセス可能な情報を直接挿入できます。コネクテッドコンテンツは Liquid の上に構築され、おなじみの構文を使用します。

そして、このダイナミックなコンテンツはプログラム可能であるため、マーケターは計算された値、他の呼び出しからの応答、または製品のカタログアイテムを含めることができます。これらのシステムを実装中に設定した後、マーケティングチームは技術チームからのサポートがほとんどなくてもこれを行うことができます。 

## アクション {#action}
アクションレイヤーは、ユーザーへの実際のメッセージングを可能にします。アクションレイヤーの目的は、前述のすべてのレイヤーを通じて利用可能なデータに基づいて、適切なタイミングで適切なメッセージを適切なユーザーに送信することです。メッセージングは、アプリやサイト内 (アプリ内メッセージの送信やコンテンツカードのカルーセルやバナーなどのグラフィック要素を通じて)、またはアプリ外の体験 (プッシュ通知やメールの送信など) を通じて行われます。

### メッセージングチャネル
Braze は、チャネルに依存しないユーザー中心のデータモデルによって、進化する技術的状況に対応するように設計されています。ダッシュボードはメッセージ配信とトランザクショントリガーを管理します。例えば、マーケティング担当者は、ユーザーがこの場所の近くに設定されたジオフェンスに入ると、新しくオープンした店舗のクーポンを提供するSMSメッセージをトリガーしたり、ユーザーにメールを送信してお気に入りの番組の新シーズンが始まったことを知らせたりすることができます。

[[Braze SDK]({{site.baseurl}}/user_guide/getting_started/web_sdk/)] は、プッシュ、アプリ内メッセージ、コンテンツカードなど、追加のメッセージングチャネルを提供します。SDK をアプリまたはサイトと統合すると、マーケティングチームは Braze ダッシュボードを使用して、サポートされているすべてのメッセージングチャネルでキャンペーンを調整できます。

![]({% image_buster /assets/img/getting_started/channels.png %})

## データのエクスポート
重要なことに、すべてのエンドユーザーのBrazeとのやり取りが追跡されるため、エンゲージメントとアウトリーチを測定できます。そして、Brazeがこれらすべてのソースからデータを集約した後、さまざまなツールを使用してテックスタックにデータをエクスポートし、ループを閉じることができます。

### Currents
[[Currents]({{site.baseurl}}/user_guide/data/braze_currents/)] は、スタックの他の送信先に継続的にフィードするきめ細かいストリーミングエクスポートを提供するオプションの Braze アドオンです。Currentsは、ユーザーごとのイベントごとの生データフィードで、5分ごと、または15,000イベントごとにデータをエクスポートします。どちらか早い方です。Currents の下流の送信先の例としては、Segment、S3、Redshift、Mixpanel などがあります。 

### Snowflakeデータ共有
Snowflake の [Secure Data Sharing]({{site.baseurl}}/partners/data_and_analytics/data_warehouses/snowflake/) 機能により、Braze は、ワークフローの摩擦、障害ポイント、一般的なデータプロバイダー関係に伴う不要なコストを気にせずに、Snowflake ポータルのデータに安全にアクセスできるようになります。共有はすべてSnowflakeのユニークなサービス層とメタデータストアを通じて行われます。データは実際にはアカウント間でコピーまたは転送されません。共有データは消費者アカウントのストレージを一切使用しないため、これは重要な意味を持ちます。したがって、毎月のデータストレージ料金には影響しません。消費者に請求されるのは、共有データを照会するために使用されるコンピューティングリソース (つまり、仮想ウェアハウス) のみです。

### BrazeエクスポートAPI
Braze API には、[endpoints]({{site.baseurl}}/api/endpoints/export) が用意されています。これにより、プログラムで集約アナリティックをエクスポートしたり、個々のユーザーデータをエクスポートしたりできます。このデータは、あらゆるサイズのオーディエンスおよびセグメントに対してエクスポートできます。 

### CSVs
最後に、ダッシュボードから直接[CSV]({{site.baseurl}}/user_guide/data/export_braze_data/) として集約レベルのデータをダウンロードするオプションがあります。CSVオプションを使用すると、チームメンバーはBrazeからデータを簡単にエクスポートできます。

{% alert tip %}
CSV エクスポートには500,000行の基本制限がありますが、API にはこの点に関して制限がありません。
{% endalert %}

## すべてをまとめる 
あなたのユーザーの一人 (メルと呼びましょう） がちょうどあなたの製品に関する通知を受け取ったところです。舞台裏では、Brazeプラットフォームのすべてのレイヤーが連携して、このプロセスがスムーズに進むようにしました。 

Melの情報はCSVインポートを通じて、従来のカスタマーエンゲージメントプラットフォームからBrazeに取り込まれました。統合後、メルがアプリを操作するたびに、彼女の顧客プロファイルにより多くのデータが追加されました。 

あなたの製品に関する通知は、アプリで類似のアイテムに「いいね」を付けたすべての顧客に送信されました。このデータをカスタムイベントとして定義しました。SDKはこのイベントを追跡し、ユーザー群をそれに応じてセグメント化しました。Brazeはこの発表を送信する最適な時間を調整し、Melを彼女の好みの名前で呼ぶことで発表をパーソナライズしました。 

メルが通知を開くと、彼女はあなたの新しい製品を彼女のウィッシュリストに追加します。Brazeは彼女がメールをクリックしたことを自動的に追跡します。SDKは、彼女があなたの新製品をウィッシュリストに追加したことを追跡します。彼らがあなたのブランドと関わりを持つたびに、あなたとあなたのユーザーはお互いについてより多くのことを学んでいます。

![]({% image_buster /assets/img/getting-started/putting-it-all-together.png %})



