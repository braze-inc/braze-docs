---
nav_title: セグメンテーション・ロジック
article_title: セグメンテーション・ロジック 
page_order: 3

page_type: solution
description: "このヘルプでは、AND演算子とOR演算子の違いと、強力なセグメンテーションを構築するための使い方を説明する。"
tool: Segments
---

# セグメンテーション・ロジック 

`AND` 、`OR` の演算子は、[セグメンテーションを作成]({{site.baseurl}}/user_guide/engagement_tools/segments/creating_a_segment/)する際に強力なフィルターを可能にする。これらのオペレータを使用することで、キャンペーンやキャンバスを作成するステップで、ユーザー**群の**アクションや行動に基づいてターゲットを絞ることができる。

## AND演算子とOR演算子を理解する

`AND` 、`OR` の演算子の機能はそれぞれ異なる。オーディエンスのセグメンテーションで何を達成したいかによって、それぞれのオペレーターを使い分けることができる。 

### AND演算子を使う場合

一般的に、特定の属性の2つ以上の値の交点に興味がある場合は、`AND` 。

カナダとアメリカを除くすべての国のユーザーをキャンペーンのターゲットにする方法を考えてみよう。このケースでは、`AND` 演算子を使うことで、これらのユーザーをフィルターすることができる。声明`Country is not United States AND Country is not Canada` 、米国出身でもカナダ出身でもないユーザーのみが含まれる。つまり、このロジックを使えば、カナダとアメリカの両方のユーザーが除外されることになる。

### OR演算子を使う場合

`OR` 、一連の条件のうち少なくとも1つの条件を満たすユーザーをターゲットにすることを目的とする場合に使用する。`OR` で結ばれた3つの条件がある場合、実際のステートメントが真になるためには、1つ、2つ、またはすべての条件が真になる可能性がある。

例えば、アプリのバージョン1.0または1.1のユーザー全員にメッセージを送りたいとする。バージョン1.0とバージョン1.1のユーザーをターゲットにするには、セグメンテーションで`Is 1.0` と`Is 1.1` のフィルターを`OR` 演算子と一緒に使うことができる。これは、バージョン1.0または1.1を使用しているすべてのユーザーを対象とする。

次の例では、米国とカナダの両方のユーザーに有効なプロモーションを考えてみよう。プロモーションが有効な地域のユーザーだけがプロモーションを受けられるようにしたい。このシナリオでは、次のステートメントを使ってキャンペーンのターゲットを絞る：`Country is United States OR Country is Canada`.`OR` 、あなたのキャンペーンは、国名がカナダ、または国名がアメリカであるユーザーにのみ配信される。

#### OR演算子を避けるべき場合

`OR` 演算子の使用を避けるべきユーザーをターゲットにした状況があり得る。`OR` 演算子は、ユーザーがステートメント内の1つ以上のフィルターの条件を満たした場合に真と評価されるステートメントを作成する。例えば、"foodies "に属し、"non-foodies "にも "candy-lovers "にも属さないユーザーのセグメンテーションを作成したい場合、`OR` 演算子を使えばうまくいく。

![][1]

しかし、あなたのゴールが、"foodies "セグメントに属し、"non-foodies "セグメントと "candy-lovers "セグメントのどちらにも属さないユーザーをセグメンテーションすることであれば、`AND` 演算子を使う。こうすることで、キャンペーンやキャンバスを受け取ったユーザーは、意図したセグメンテーション（「食通」）に属し、同時に他のセグメント（「非食通」や「お菓子好き」）には属さなくなる。 

2つ以上のフィルターが同じ属性を参照している場合、`OR` 演算子とともに以下のネガティブターゲティング基準を使用してはならない：

- `is not`
- `does not equal`
- `does not match regex`

`is not` 、`does not equal` 、または`does not match regex` が、1つのステートメント内で`OR` 演算子とともに2回以上使用された場合、関連するアトリビューションにすべての値を持つユーザーが対象となる。

### 両方の演算子を使う

次の例では、`AND` と`OR` の両方の演算子を使う。ここでは、ナイキのスニーカーやアディダスのスニーカーを購入し、メール通知を受け取るようにオプトインしているユーザーをターゲットオーディエンスとしている。

![ユーザーの好きなブランドがナイキかアディダスで、メール配信をオプトインしているスニーカー購入者向けのセグメンテーションを構築した。][33]

正しいロジックを構築していることを確認するもう一つの方法は、セグメンテーションを作成し、フィルターに基づいてそのセグメンテーションに該当するユーザー（][35] ）をプレビューすることだ。こうすることで、属性やアプリのバージョン、その他のセグメンテーションが、あなたが見ているものと一致していることを確認することができる。

まだ助けが必要か？[サポートチケットを]({{site.baseurl}}/braze_support/)開封する。

_最終更新日：2022年6月3日_

[1]: {% image_buster /assets/img_archive/or_operator_segment.png %}
[33]: {% image_buster /assets/img_archive/NikeSneakers.png %}
[35]: {{site.baseurl}}/user_guide/data_and_analytics/reporting/viewing_and_understanding_segment_data/
